(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const He={},es=[],gn=()=>{},ag=()=>!1,Qo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Gc=t=>t.startsWith("onUpdate:"),wt=Object.assign,Hc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cg=Object.prototype.hasOwnProperty,Be=(t,e)=>cg.call(t,e),we=Array.isArray,ts=t=>Yo(t)==="[object Map]",Jd=t=>Yo(t)==="[object Set]",Te=t=>typeof t=="function",it=t=>typeof t=="string",gr=t=>typeof t=="symbol",Ye=t=>t!==null&&typeof t=="object",Xd=t=>(Ye(t)||Te(t))&&Te(t.then)&&Te(t.catch),Zd=Object.prototype.toString,Yo=t=>Zd.call(t),lg=t=>Yo(t).slice(8,-1),ef=t=>Yo(t)==="[object Object]",Kc=t=>it(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ws=qc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ug=/-(\w)/g,en=Jo(t=>t.replace(ug,(e,n)=>n?n.toUpperCase():"")),hg=/\B([A-Z])/g,Fr=Jo(t=>t.replace(hg,"-$1").toLowerCase()),Xo=Jo(t=>t.charAt(0).toUpperCase()+t.slice(1)),La=Jo(t=>t?`on${Xo(t)}`:""),hr=(t,e)=>!Object.is(t,e),Oa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},tf=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},dg=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Hu;const nf=()=>Hu||(Hu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wc(t){if(we(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=it(r)?mg(r):Wc(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(it(t)||Ye(t))return t}const fg=/;(?![^(]*\))/g,pg=/:([^]+)/,gg=/\/\*[^]*?\*\//g;function mg(t){const e={};return t.replace(gg,"").split(fg).forEach(n=>{if(n){const r=n.split(pg);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qc(t){let e="";if(it(t))e=t;else if(we(t))for(let n=0;n<t.length;n++){const r=Qc(t[n]);r&&(e+=r+" ")}else if(Ye(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const _g="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vg=qc(_g);function rf(t){return!!t||t===""}const sf=t=>!!(t&&t.__v_isRef===!0),oc=t=>it(t)?t:t==null?"":we(t)||Ye(t)&&(t.toString===Zd||!Te(t.toString))?sf(t)?oc(t.value):JSON.stringify(t,of,2):String(t),of=(t,e)=>sf(e)?of(t,e.value):ts(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Na(r,i)+" =>"]=s,n),{})}:Jd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Na(n))}:gr(e)?Na(e):Ye(e)&&!we(e)&&!ef(e)?String(e):e,Na=(t,e="")=>{var n;return gr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qt;class yg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qt,!e&&qt&&(this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=qt;try{return qt=this,e()}finally{qt=n}}}on(){qt=this}off(){qt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function wg(){return qt}let We;const Ma=new WeakSet;class af{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qt&&qt.active&&qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ma.has(this)&&(Ma.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ku(this),uf(this);const e=We,n=an;We=this,an=!0;try{return this.fn()}finally{hf(this),We=e,an=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xc(e);this.deps=this.depsTail=void 0,Ku(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ma.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ac(this)&&this.run()}get dirty(){return ac(this)}}let cf=0,Qs,Ys;function lf(t,e=!1){if(t.flags|=8,e){t.next=Ys,Ys=t;return}t.next=Qs,Qs=t}function Yc(){cf++}function Jc(){if(--cf>0)return;if(Ys){let e=Ys;for(Ys=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Qs;){let e=Qs;for(Qs=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function uf(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function hf(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Xc(r),Eg(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ac(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(df(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function df(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ai))return;t.globalVersion=ai;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ac(t)){t.flags&=-3;return}const n=We,r=an;We=t,an=!0;try{uf(t);const s=t.fn(t._value);(e.version===0||hr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{We=n,an=r,hf(t),t.flags&=-3}}function Xc(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Xc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Eg(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let an=!0;const ff=[];function mr(){ff.push(an),an=!1}function _r(){const t=ff.pop();an=t===void 0?!0:t}function Ku(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=We;We=void 0;try{e()}finally{We=n}}}let ai=0;class Tg{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!We||!an||We===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==We)n=this.activeLink=new Tg(We,this),We.deps?(n.prevDep=We.depsTail,We.depsTail.nextDep=n,We.depsTail=n):We.deps=We.depsTail=n,pf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=We.depsTail,n.nextDep=void 0,We.depsTail.nextDep=n,We.depsTail=n,We.deps===n&&(We.deps=r)}return n}trigger(e){this.version++,ai++,this.notify(e)}notify(e){Yc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Jc()}}}function pf(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)pf(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const cc=new WeakMap,Rr=Symbol(""),lc=Symbol(""),ci=Symbol("");function Vt(t,e,n){if(an&&We){let r=cc.get(t);r||cc.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Zc),s.map=r,s.key=n),s.track()}}function Mn(t,e,n,r,s,i){const o=cc.get(t);if(!o){ai++;return}const c=l=>{l&&l.trigger()};if(Yc(),e==="clear")o.forEach(c);else{const l=we(t),h=l&&Kc(n);if(l&&n==="length"){const d=Number(r);o.forEach((p,m)=>{(m==="length"||m===ci||!gr(m)&&m>=d)&&c(p)})}else switch(n!==void 0&&c(o.get(n)),h&&c(o.get(ci)),e){case"add":l?h&&c(o.get("length")):(c(o.get(Rr)),ts(t)&&c(o.get(lc)));break;case"delete":l||(c(o.get(Rr)),ts(t)&&c(o.get(lc)));break;case"set":ts(t)&&c(o.get(Rr));break}}Jc()}function Gr(t){const e=$e(t);return e===t?e:(Vt(e,"iterate",ci),Jt(t)?e:e.map(Rt))}function Zo(t){return Vt(t=$e(t),"iterate",ci),t}const bg={__proto__:null,[Symbol.iterator](){return Fa(this,Symbol.iterator,Rt)},concat(...t){return Gr(this).concat(...t.map(e=>we(e)?Gr(e):e))},entries(){return Fa(this,"entries",t=>(t[1]=Rt(t[1]),t))},every(t,e){return Rn(this,"every",t,e,void 0,arguments)},filter(t,e){return Rn(this,"filter",t,e,n=>n.map(Rt),arguments)},find(t,e){return Rn(this,"find",t,e,Rt,arguments)},findIndex(t,e){return Rn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Rn(this,"findLast",t,e,Rt,arguments)},findLastIndex(t,e){return Rn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Rn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ua(this,"includes",t)},indexOf(...t){return Ua(this,"indexOf",t)},join(t){return Gr(this).join(t)},lastIndexOf(...t){return Ua(this,"lastIndexOf",t)},map(t,e){return Rn(this,"map",t,e,void 0,arguments)},pop(){return Us(this,"pop")},push(...t){return Us(this,"push",t)},reduce(t,...e){return Wu(this,"reduce",t,e)},reduceRight(t,...e){return Wu(this,"reduceRight",t,e)},shift(){return Us(this,"shift")},some(t,e){return Rn(this,"some",t,e,void 0,arguments)},splice(...t){return Us(this,"splice",t)},toReversed(){return Gr(this).toReversed()},toSorted(t){return Gr(this).toSorted(t)},toSpliced(...t){return Gr(this).toSpliced(...t)},unshift(...t){return Us(this,"unshift",t)},values(){return Fa(this,"values",Rt)}};function Fa(t,e,n){const r=Zo(t),s=r[e]();return r!==t&&!Jt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Ig=Array.prototype;function Rn(t,e,n,r,s,i){const o=Zo(t),c=o!==t&&!Jt(t),l=o[e];if(l!==Ig[e]){const p=l.apply(t,i);return c?Rt(p):p}let h=n;o!==t&&(c?h=function(p,m){return n.call(this,Rt(p),m,t)}:n.length>2&&(h=function(p,m){return n.call(this,p,m,t)}));const d=l.call(o,h,r);return c&&s?s(d):d}function Wu(t,e,n,r){const s=Zo(t);let i=n;return s!==t&&(Jt(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,Rt(c),l,t)}),s[e](i,...r)}function Ua(t,e,n){const r=$e(t);Vt(r,"iterate",ci);const s=r[e](...n);return(s===-1||s===!1)&&rl(n[0])?(n[0]=$e(n[0]),r[e](...n)):s}function Us(t,e,n=[]){mr(),Yc();const r=$e(t)[e].apply(t,n);return Jc(),_r(),r}const Sg=qc("__proto__,__v_isRef,__isVue"),gf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gr));function Ag(t){gr(t)||(t=String(t));const e=$e(this);return Vt(e,"has",t),e.hasOwnProperty(t)}class mf{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Ug:wf:i?yf:vf).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=we(e);if(!s){let l;if(o&&(l=bg[n]))return l;if(n==="hasOwnProperty")return Ag}const c=Reflect.get(e,n,xt(e)?e:r);return(gr(n)?gf.has(n):Sg(n))||(s||Vt(e,"get",n),i)?c:xt(c)?o&&Kc(n)?c:c.value:Ye(c)?s?Tf(c):bi(c):c}}class _f extends mf{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=xr(i);if(!Jt(r)&&!xr(r)&&(i=$e(i),r=$e(r)),!we(e)&&xt(i)&&!xt(r))return l?!1:(i.value=r,!0)}const o=we(e)&&Kc(n)?Number(n)<e.length:Be(e,n),c=Reflect.set(e,n,r,xt(e)?e:s);return e===$e(s)&&(o?hr(r,i)&&Mn(e,"set",n,r):Mn(e,"add",n,r)),c}deleteProperty(e,n){const r=Be(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Mn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!gr(n)||!gf.has(n))&&Vt(e,"has",n),r}ownKeys(e){return Vt(e,"iterate",we(e)?"length":Rr),Reflect.ownKeys(e)}}class Cg extends mf{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Rg=new _f,Pg=new Cg,kg=new _f(!0);const el=t=>t,ea=t=>Reflect.getPrototypeOf(t);function Xi(t,e,n=!1,r=!1){t=t.__v_raw;const s=$e(t),i=$e(e);n||(hr(e,i)&&Vt(s,"get",e),Vt(s,"get",i));const{has:o}=ea(s),c=r?el:n?sl:Rt;if(o.call(s,e))return c(t.get(e));if(o.call(s,i))return c(t.get(i));t!==s&&t.get(e)}function Zi(t,e=!1){const n=this.__v_raw,r=$e(n),s=$e(t);return e||(hr(t,s)&&Vt(r,"has",t),Vt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function eo(t,e=!1){return t=t.__v_raw,!e&&Vt($e(t),"iterate",Rr),Reflect.get(t,"size",t)}function Qu(t,e=!1){!e&&!Jt(t)&&!xr(t)&&(t=$e(t));const n=$e(this);return ea(n).has.call(n,t)||(n.add(t),Mn(n,"add",t,t)),this}function Yu(t,e,n=!1){!n&&!Jt(e)&&!xr(e)&&(e=$e(e));const r=$e(this),{has:s,get:i}=ea(r);let o=s.call(r,t);o||(t=$e(t),o=s.call(r,t));const c=i.call(r,t);return r.set(t,e),o?hr(e,c)&&Mn(r,"set",t,e):Mn(r,"add",t,e),this}function Ju(t){const e=$e(this),{has:n,get:r}=ea(e);let s=n.call(e,t);s||(t=$e(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Mn(e,"delete",t,void 0),i}function Xu(){const t=$e(this),e=t.size!==0,n=t.clear();return e&&Mn(t,"clear",void 0,void 0),n}function to(t,e){return function(r,s){const i=this,o=i.__v_raw,c=$e(o),l=e?el:t?sl:Rt;return!t&&Vt(c,"iterate",Rr),o.forEach((h,d)=>r.call(s,l(h),l(d),i))}}function no(t,e,n){return function(...r){const s=this.__v_raw,i=$e(s),o=ts(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,h=s[t](...r),d=n?el:e?sl:Rt;return!e&&Vt(i,"iterate",l?lc:Rr),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:c?[d(p[0]),d(p[1])]:d(p),done:m}},[Symbol.iterator](){return this}}}}function Jn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function xg(){const t={get(i){return Xi(this,i)},get size(){return eo(this)},has:Zi,add:Qu,set:Yu,delete:Ju,clear:Xu,forEach:to(!1,!1)},e={get(i){return Xi(this,i,!1,!0)},get size(){return eo(this)},has:Zi,add(i){return Qu.call(this,i,!0)},set(i,o){return Yu.call(this,i,o,!0)},delete:Ju,clear:Xu,forEach:to(!1,!0)},n={get(i){return Xi(this,i,!0)},get size(){return eo(this,!0)},has(i){return Zi.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:to(!0,!1)},r={get(i){return Xi(this,i,!0,!0)},get size(){return eo(this,!0)},has(i){return Zi.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:to(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=no(i,!1,!1),n[i]=no(i,!0,!1),e[i]=no(i,!1,!0),r[i]=no(i,!0,!0)}),[t,n,e,r]}const[Vg,Dg,Lg,Og]=xg();function tl(t,e){const n=e?t?Og:Lg:t?Dg:Vg;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Be(n,s)&&s in r?n:r,s,i)}const Ng={get:tl(!1,!1)},Mg={get:tl(!1,!0)},Fg={get:tl(!0,!1)};const vf=new WeakMap,yf=new WeakMap,wf=new WeakMap,Ug=new WeakMap;function Bg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $g(t){return t.__v_skip||!Object.isExtensible(t)?0:Bg(lg(t))}function bi(t){return xr(t)?t:nl(t,!1,Rg,Ng,vf)}function Ef(t){return nl(t,!1,kg,Mg,yf)}function Tf(t){return nl(t,!0,Pg,Fg,wf)}function nl(t,e,n,r,s){if(!Ye(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=$g(t);if(o===0)return t;const c=new Proxy(t,o===2?r:n);return s.set(t,c),c}function ns(t){return xr(t)?ns(t.__v_raw):!!(t&&t.__v_isReactive)}function xr(t){return!!(t&&t.__v_isReadonly)}function Jt(t){return!!(t&&t.__v_isShallow)}function rl(t){return t?!!t.__v_raw:!1}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function jg(t){return!Be(t,"__v_skip")&&Object.isExtensible(t)&&tf(t,"__v_skip",!0),t}const Rt=t=>Ye(t)?bi(t):t,sl=t=>Ye(t)?Tf(t):t;function xt(t){return t?t.__v_isRef===!0:!1}function zg(t){return bf(t,!1)}function qg(t){return bf(t,!0)}function bf(t,e){return xt(t)?t:new Gg(t,e)}class Gg{constructor(e,n){this.dep=new Zc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:$e(e),this._value=n?e:Rt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Jt(e)||xr(e);e=r?e:$e(e),hr(e,n)&&(this._rawValue=e,this._value=r?e:Rt(e),this.dep.trigger())}}function rs(t){return xt(t)?t.value:t}const Hg={get:(t,e,n)=>e==="__v_raw"?t:rs(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return xt(s)&&!xt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function If(t){return ns(t)?t:new Proxy(t,Hg)}class Kg{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Zc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ai-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return lf(this,!0),!0}get value(){const e=this.dep.track();return df(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Wg(t,e,n=!1){let r,s;return Te(t)?r=t:(r=t.get,s=t.set),new Kg(r,s,n)}const ro={},To=new WeakMap;let Ir;function Qg(t,e=!1,n=Ir){if(n){let r=To.get(n);r||To.set(n,r=[]),r.push(t)}}function Yg(t,e,n=He){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=n,h=Y=>s?Y:Jt(Y)||s===!1||s===0?xn(Y,1):xn(Y);let d,p,m,v,D=!1,O=!1;if(xt(t)?(p=()=>t.value,D=Jt(t)):ns(t)?(p=()=>h(t),D=!0):we(t)?(O=!0,D=t.some(Y=>ns(Y)||Jt(Y)),p=()=>t.map(Y=>{if(xt(Y))return Y.value;if(ns(Y))return h(Y);if(Te(Y))return l?l(Y,2):Y()})):Te(t)?e?p=l?()=>l(t,2):t:p=()=>{if(m){mr();try{m()}finally{_r()}}const Y=Ir;Ir=d;try{return l?l(t,3,[v]):t(v)}finally{Ir=Y}}:p=gn,e&&s){const Y=p,ge=s===!0?1/0:s;p=()=>xn(Y(),ge)}const U=wg(),$=()=>{d.stop(),U&&Hc(U.effects,d)};if(i&&e){const Y=e;e=(...ge)=>{Y(...ge),$()}}let j=O?new Array(t.length).fill(ro):ro;const W=Y=>{if(!(!(d.flags&1)||!d.dirty&&!Y))if(e){const ge=d.run();if(s||D||(O?ge.some((Ie,S)=>hr(Ie,j[S])):hr(ge,j))){m&&m();const Ie=Ir;Ir=d;try{const S=[ge,j===ro?void 0:O&&j[0]===ro?[]:j,v];l?l(e,3,S):e(...S),j=ge}finally{Ir=Ie}}}else d.run()};return c&&c(W),d=new af(p),d.scheduler=o?()=>o(W,!1):W,v=Y=>Qg(Y,!1,d),m=d.onStop=()=>{const Y=To.get(d);if(Y){if(l)l(Y,4);else for(const ge of Y)ge();To.delete(d)}},e?r?W(!0):j=d.run():o?o(W.bind(null,!0),!0):d.run(),$.pause=d.pause.bind(d),$.resume=d.resume.bind(d),$.stop=$,$}function xn(t,e=1/0,n){if(e<=0||!Ye(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,xt(t))xn(t.value,e,n);else if(we(t))for(let r=0;r<t.length;r++)xn(t[r],e,n);else if(Jd(t)||ts(t))t.forEach(r=>{xn(r,e,n)});else if(ef(t)){for(const r in t)xn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&xn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ii(t,e,n,r){try{return r?t(...r):t()}catch(s){ta(s,e,n)}}function wn(t,e,n,r){if(Te(t)){const s=Ii(t,e,n,r);return s&&Xd(s)&&s.catch(i=>{ta(i,e,n)}),s}if(we(t)){const s=[];for(let i=0;i<t.length;i++)s.push(wn(t[i],e,n,r));return s}}function ta(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||He;if(e){let c=e.parent;const l=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const d=c.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,l,h)===!1)return}c=c.parent}if(i){mr(),Ii(i,null,10,[t,l,h]),_r();return}}Jg(t,n,s,r,o)}function Jg(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Nt=[];let fn=-1;const ss=[];let er=null,Wr=0;const Sf=Promise.resolve();let bo=null;function Af(t){const e=bo||Sf;return t?e.then(this?t.bind(this):t):e}function Xg(t){let e=fn+1,n=Nt.length;for(;e<n;){const r=e+n>>>1,s=Nt[r],i=li(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function il(t){if(!(t.flags&1)){const e=li(t),n=Nt[Nt.length-1];!n||!(t.flags&2)&&e>=li(n)?Nt.push(t):Nt.splice(Xg(e),0,t),t.flags|=1,Cf()}}function Cf(){bo||(bo=Sf.then(Pf))}function Zg(t){we(t)?ss.push(...t):er&&t.id===-1?er.splice(Wr+1,0,t):t.flags&1||(ss.push(t),t.flags|=1),Cf()}function Zu(t,e,n=fn+1){for(;n<Nt.length;n++){const r=Nt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Nt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Rf(t){if(ss.length){const e=[...new Set(ss)].sort((n,r)=>li(n)-li(r));if(ss.length=0,er){er.push(...e);return}for(er=e,Wr=0;Wr<er.length;Wr++){const n=er[Wr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}er=null,Wr=0}}const li=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Pf(t){try{for(fn=0;fn<Nt.length;fn++){const e=Nt[fn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ii(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;fn<Nt.length;fn++){const e=Nt[fn];e&&(e.flags&=-2)}fn=-1,Nt.length=0,Rf(),bo=null,(Nt.length||ss.length)&&Pf()}}let Gt=null,kf=null;function Io(t){const e=Gt;return Gt=t,kf=t&&t.type.__scopeId||null,e}function em(t,e=Gt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&ch(-1);const i=Io(e);let o;try{o=t(...s)}finally{Io(i),r._d&&ch(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function So(t,e){if(Gt===null)return t;const n=oa(Gt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,l=He]=e[s];i&&(Te(i)&&(i={mounted:i,updated:i}),i.deep&&xn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function Tr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(mr(),wn(l,n,8,[t.el,c,t,e]),_r())}}const tm=Symbol("_vte"),nm=t=>t.__isTeleport;function ol(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ol(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function xf(t,e){return Te(t)?wt({name:t.name},e,{setup:t}):t}function Vf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function uc(t,e,n,r,s=!1){if(we(t)){t.forEach((D,O)=>uc(D,e&&(we(e)?e[O]:e),n,r,s));return}if(Js(r)&&!s)return;const i=r.shapeFlag&4?oa(r.component):r.el,o=s?null:i,{i:c,r:l}=t,h=e&&e.r,d=c.refs===He?c.refs={}:c.refs,p=c.setupState,m=$e(p),v=p===He?()=>!1:D=>Be(m,D);if(h!=null&&h!==l&&(it(h)?(d[h]=null,v(h)&&(p[h]=null)):xt(h)&&(h.value=null)),Te(l))Ii(l,c,12,[o,d]);else{const D=it(l),O=xt(l);if(D||O){const U=()=>{if(t.f){const $=D?v(l)?p[l]:d[l]:l.value;s?we($)&&Hc($,i):we($)?$.includes(i)||$.push(i):D?(d[l]=[i],v(l)&&(p[l]=d[l])):(l.value=[i],t.k&&(d[t.k]=l.value))}else D?(d[l]=o,v(l)&&(p[l]=o)):O&&(l.value=o,t.k&&(d[t.k]=o))};o?(U.id=-1,zt(U,n)):U()}}}const Js=t=>!!t.type.__asyncLoader,Df=t=>t.type.__isKeepAlive;function rm(t,e){Lf(t,"a",e)}function sm(t,e){Lf(t,"da",e)}function Lf(t,e,n=kt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(na(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Df(s.parent.vnode)&&im(r,e,n,s),s=s.parent}}function im(t,e,n,r){const s=na(e,t,r,!0);Of(()=>{Hc(r[e],s)},n)}function na(t,e,n=kt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{mr();const c=Si(n),l=wn(e,n,t,o);return c(),_r(),l});return r?s.unshift(i):s.push(i),i}}const qn=t=>(e,n=kt)=>{(!ia||t==="sp")&&na(t,(...r)=>e(...r),n)},om=qn("bm"),am=qn("m"),cm=qn("bu"),lm=qn("u"),um=qn("bum"),Of=qn("um"),hm=qn("sp"),dm=qn("rtg"),fm=qn("rtc");function pm(t,e=kt){na("ec",t,e)}const gm="components";function Qr(t,e){return _m(gm,t,!0,e)||t}const mm=Symbol.for("v-ndc");function _m(t,e,n=!0,r=!1){const s=Gt||kt;if(s){const i=s.type;{const c=o2(i,!1);if(c&&(c===e||c===en(e)||c===Xo(en(e))))return i}const o=eh(s[t]||i[t],e)||eh(s.appContext[t],e);return!o&&r?i:o}}function eh(t,e){return t&&(t[e]||t[en(e)]||t[Xo(en(e))])}function vm(t,e,n,r){let s;const i=n,o=we(t);if(o||it(t)){const c=o&&ns(t);let l=!1;c&&(l=!Jt(t),t=Zo(t)),s=new Array(t.length);for(let h=0,d=t.length;h<d;h++)s[h]=e(l?Rt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(Ye(t))if(t[Symbol.iterator])s=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let l=0,h=c.length;l<h;l++){const d=c[l];s[l]=e(t[d],d,l,i)}}else s=[];return s}const hc=t=>t?n0(t)?oa(t):hc(t.parent):null,Xs=wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hc(t.parent),$root:t=>hc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>al(t),$forceUpdate:t=>t.f||(t.f=()=>{il(t.update)}),$nextTick:t=>t.n||(t.n=Af.bind(t.proxy)),$watch:t=>Um.bind(t)}),Ba=(t,e)=>t!==He&&!t.__isScriptSetup&&Be(t,e),ym={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=t;let h;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Ba(r,e))return o[e]=1,r[e];if(s!==He&&Be(s,e))return o[e]=2,s[e];if((h=t.propsOptions[0])&&Be(h,e))return o[e]=3,i[e];if(n!==He&&Be(n,e))return o[e]=4,n[e];dc&&(o[e]=0)}}const d=Xs[e];let p,m;if(d)return e==="$attrs"&&Vt(t.attrs,"get",""),d(t);if((p=c.__cssModules)&&(p=p[e]))return p;if(n!==He&&Be(n,e))return o[e]=4,n[e];if(m=l.config.globalProperties,Be(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Ba(s,e)?(s[e]=n,!0):r!==He&&Be(r,e)?(r[e]=n,!0):Be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let c;return!!n[o]||t!==He&&Be(t,o)||Ba(e,o)||(c=i[0])&&Be(c,o)||Be(r,o)||Be(Xs,o)||Be(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Be(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function th(t){return we(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let dc=!0;function wm(t){const e=al(t),n=t.proxy,r=t.ctx;dc=!1,e.beforeCreate&&nh(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:h,created:d,beforeMount:p,mounted:m,beforeUpdate:v,updated:D,activated:O,deactivated:U,beforeDestroy:$,beforeUnmount:j,destroyed:W,unmounted:Y,render:ge,renderTracked:Ie,renderTriggered:S,errorCaptured:y,serverPrefetch:b,expose:A,inheritAttrs:P,components:x,directives:E,filters:ie}=e;if(h&&Em(h,r,null),o)for(const Ae in o){const Ce=o[Ae];Te(Ce)&&(r[Ae]=Ce.bind(n))}if(s){const Ae=s.call(n,n);Ye(Ae)&&(t.data=bi(Ae))}if(dc=!0,i)for(const Ae in i){const Ce=i[Ae],Lt=Te(Ce)?Ce.bind(n,n):Te(Ce.get)?Ce.get.bind(n,n):gn,Tt=!Te(Ce)&&Te(Ce.set)?Ce.set.bind(n):gn,Ft=sn({get:Lt,set:Tt});Object.defineProperty(r,Ae,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:qe=>Ft.value=qe})}if(c)for(const Ae in c)Nf(c[Ae],r,n,Ae);if(l){const Ae=Te(l)?l.call(n):l;Reflect.ownKeys(Ae).forEach(Ce=>{lo(Ce,Ae[Ce])})}d&&nh(d,t,"c");function Je(Ae,Ce){we(Ce)?Ce.forEach(Lt=>Ae(Lt.bind(n))):Ce&&Ae(Ce.bind(n))}if(Je(om,p),Je(am,m),Je(cm,v),Je(lm,D),Je(rm,O),Je(sm,U),Je(pm,y),Je(fm,Ie),Je(dm,S),Je(um,j),Je(Of,Y),Je(hm,b),we(A))if(A.length){const Ae=t.exposed||(t.exposed={});A.forEach(Ce=>{Object.defineProperty(Ae,Ce,{get:()=>n[Ce],set:Lt=>n[Ce]=Lt})})}else t.exposed||(t.exposed={});ge&&t.render===gn&&(t.render=ge),P!=null&&(t.inheritAttrs=P),x&&(t.components=x),E&&(t.directives=E),b&&Vf(t)}function Em(t,e,n=gn){we(t)&&(t=fc(t));for(const r in t){const s=t[r];let i;Ye(s)?"default"in s?i=Fn(s.from||r,s.default,!0):i=Fn(s.from||r):i=Fn(s),xt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function nh(t,e,n){wn(we(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Nf(t,e,n,r){let s=r.includes(".")?Yf(n,r):()=>n[r];if(it(t)){const i=e[t];Te(i)&&os(s,i)}else if(Te(t))os(s,t.bind(n));else if(Ye(t))if(we(t))t.forEach(i=>Nf(i,e,n,r));else{const i=Te(t.handler)?t.handler.bind(n):e[t.handler];Te(i)&&os(s,i,t)}}function al(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(h=>Ao(l,h,o,!0)),Ao(l,e,o)),Ye(e)&&i.set(e,l),l}function Ao(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Ao(t,i,n,!0),s&&s.forEach(o=>Ao(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=Tm[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const Tm={data:rh,props:sh,emits:sh,methods:qs,computed:qs,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:qs,directives:qs,watch:Im,provide:rh,inject:bm};function rh(t,e){return e?t?function(){return wt(Te(t)?t.call(this,this):t,Te(e)?e.call(this,this):e)}:e:t}function bm(t,e){return qs(fc(t),fc(e))}function fc(t){if(we(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ot(t,e){return t?[...new Set([].concat(t,e))]:e}function qs(t,e){return t?wt(Object.create(null),t,e):e}function sh(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:wt(Object.create(null),th(t),th(e??{})):e}function Im(t,e){if(!t)return e;if(!e)return t;const n=wt(Object.create(null),t);for(const r in e)n[r]=Ot(t[r],e[r]);return n}function Mf(){return{app:null,config:{isNativeTag:ag,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sm=0;function Am(t,e){return function(r,s=null){Te(r)||(r=wt({},r)),s!=null&&!Ye(s)&&(s=null);const i=Mf(),o=new WeakSet,c=[];let l=!1;const h=i.app={_uid:Sm++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:c2,get config(){return i.config},set config(d){},use(d,...p){return o.has(d)||(d&&Te(d.install)?(o.add(d),d.install(h,...p)):Te(d)&&(o.add(d),d(h,...p))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,p){return p?(i.components[d]=p,h):i.components[d]},directive(d,p){return p?(i.directives[d]=p,h):i.directives[d]},mount(d,p,m){if(!l){const v=h._ceVNode||ct(r,s);return v.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),p&&e?e(v,d):t(v,d,m),l=!0,h._container=d,d.__vue_app__=h,oa(v.component)}},onUnmount(d){c.push(d)},unmount(){l&&(wn(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,p){return i.provides[d]=p,h},runWithContext(d){const p=is;is=h;try{return d()}finally{is=p}}};return h}}let is=null;function lo(t,e){if(kt){let n=kt.provides;const r=kt.parent&&kt.parent.provides;r===n&&(n=kt.provides=Object.create(r)),n[t]=e}}function Fn(t,e,n=!1){const r=kt||Gt;if(r||is){const s=is?is._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Te(e)?e.call(r&&r.proxy):e}}const Ff={},Uf=()=>Object.create(Ff),Bf=t=>Object.getPrototypeOf(t)===Ff;function Cm(t,e,n,r=!1){const s={},i=Uf();t.propsDefaults=Object.create(null),$f(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Ef(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Rm(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=$e(s),[l]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let m=d[p];if(ra(t.emitsOptions,m))continue;const v=e[m];if(l)if(Be(i,m))v!==i[m]&&(i[m]=v,h=!0);else{const D=en(m);s[D]=pc(l,c,D,v,t,!1)}else v!==i[m]&&(i[m]=v,h=!0)}}}else{$f(t,e,s,i)&&(h=!0);let d;for(const p in c)(!e||!Be(e,p)&&((d=Fr(p))===p||!Be(e,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=pc(l,c,p,void 0,t,!0)):delete s[p]);if(i!==c)for(const p in i)(!e||!Be(e,p))&&(delete i[p],h=!0)}h&&Mn(t.attrs,"set","")}function $f(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(Ws(l))continue;const h=e[l];let d;s&&Be(s,d=en(l))?!i||!i.includes(d)?n[d]=h:(c||(c={}))[d]=h:ra(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,o=!0)}if(i){const l=$e(n),h=c||He;for(let d=0;d<i.length;d++){const p=i[d];n[p]=pc(s,l,p,h[p],t,!Be(h,p))}}return o}function pc(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Be(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Te(l)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const d=Si(s);r=h[n]=l.call(null,e),d()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===Fr(n))&&(r=!0))}return r}const Pm=new WeakMap;function jf(t,e,n=!1){const r=n?Pm:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let l=!1;if(!Te(t)){const d=p=>{l=!0;const[m,v]=jf(p,e,!0);wt(o,m),v&&c.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return Ye(t)&&r.set(t,es),es;if(we(i))for(let d=0;d<i.length;d++){const p=en(i[d]);ih(p)&&(o[p]=He)}else if(i)for(const d in i){const p=en(d);if(ih(p)){const m=i[d],v=o[p]=we(m)||Te(m)?{type:m}:wt({},m),D=v.type;let O=!1,U=!0;if(we(D))for(let $=0;$<D.length;++$){const j=D[$],W=Te(j)&&j.name;if(W==="Boolean"){O=!0;break}else W==="String"&&(U=!1)}else O=Te(D)&&D.name==="Boolean";v[0]=O,v[1]=U,(O||Be(v,"default"))&&c.push(p)}}const h=[o,c];return Ye(t)&&r.set(t,h),h}function ih(t){return t[0]!=="$"&&!Ws(t)}const zf=t=>t[0]==="_"||t==="$stable",cl=t=>we(t)?t.map(pn):[pn(t)],km=(t,e,n)=>{if(e._n)return e;const r=em((...s)=>cl(e(...s)),n);return r._c=!1,r},qf=(t,e,n)=>{const r=t._ctx;for(const s in t){if(zf(s))continue;const i=t[s];if(Te(i))e[s]=km(s,i,r);else if(i!=null){const o=cl(i);e[s]=()=>o}}},Gf=(t,e)=>{const n=cl(e);t.slots.default=()=>n},Hf=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},xm=(t,e,n)=>{const r=t.slots=Uf();if(t.vnode.shapeFlag&32){const s=e._;s?(Hf(r,e,n),n&&tf(r,"_",s,!0)):qf(e,r)}else e&&Gf(t,e)},Vm=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=He;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:Hf(s,e,n):(i=!e.$stable,qf(e,s)),o=e}else e&&(Gf(t,e),o={default:1});if(i)for(const c in s)!zf(c)&&o[c]==null&&delete s[c]},zt=Hm;function Dm(t){return Lm(t)}function Lm(t,e){const n=nf();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:h,setElementText:d,parentNode:p,nextSibling:m,setScopeId:v=gn,insertStaticContent:D}=t,O=(_,w,L,B=null,M=null,G=null,X=void 0,J=null,Q=!!w.dynamicChildren)=>{if(_===w)return;_&&!Bs(_,w)&&(B=F(_),qe(_,M,G,!0),_=null),w.patchFlag===-2&&(Q=!1,w.dynamicChildren=null);const{type:H,ref:he,shapeFlag:ee}=w;switch(H){case sa:U(_,w,L,B);break;case Vr:$(_,w,L,B);break;case uo:_==null&&j(w,L,B,X);break;case Qt:x(_,w,L,B,M,G,X,J,Q);break;default:ee&1?ge(_,w,L,B,M,G,X,J,Q):ee&6?E(_,w,L,B,M,G,X,J,Q):(ee&64||ee&128)&&H.process(_,w,L,B,M,G,X,J,Q,ce)}he!=null&&M&&uc(he,_&&_.ref,G,w||_,!w)},U=(_,w,L,B)=>{if(_==null)r(w.el=c(w.children),L,B);else{const M=w.el=_.el;w.children!==_.children&&h(M,w.children)}},$=(_,w,L,B)=>{_==null?r(w.el=l(w.children||""),L,B):w.el=_.el},j=(_,w,L,B)=>{[_.el,_.anchor]=D(_.children,w,L,B,_.el,_.anchor)},W=({el:_,anchor:w},L,B)=>{let M;for(;_&&_!==w;)M=m(_),r(_,L,B),_=M;r(w,L,B)},Y=({el:_,anchor:w})=>{let L;for(;_&&_!==w;)L=m(_),s(_),_=L;s(w)},ge=(_,w,L,B,M,G,X,J,Q)=>{w.type==="svg"?X="svg":w.type==="math"&&(X="mathml"),_==null?Ie(w,L,B,M,G,X,J,Q):b(_,w,M,G,X,J,Q)},Ie=(_,w,L,B,M,G,X,J)=>{let Q,H;const{props:he,shapeFlag:ee,transition:le,dirs:ae}=_;if(Q=_.el=o(_.type,G,he&&he.is,he),ee&8?d(Q,_.children):ee&16&&y(_.children,Q,null,B,M,$a(_,G),X,J),ae&&Tr(_,null,B,"created"),S(Q,_,_.scopeId,X,B),he){for(const Oe in he)Oe!=="value"&&!Ws(Oe)&&i(Q,Oe,null,he[Oe],G,B);"value"in he&&i(Q,"value",null,he.value,G),(H=he.onVnodeBeforeMount)&&dn(H,B,_)}ae&&Tr(_,null,B,"beforeMount");const de=Om(M,le);de&&le.beforeEnter(Q),r(Q,w,L),((H=he&&he.onVnodeMounted)||de||ae)&&zt(()=>{H&&dn(H,B,_),de&&le.enter(Q),ae&&Tr(_,null,B,"mounted")},M)},S=(_,w,L,B,M)=>{if(L&&v(_,L),B)for(let G=0;G<B.length;G++)v(_,B[G]);if(M){let G=M.subTree;if(w===G||Xf(G.type)&&(G.ssContent===w||G.ssFallback===w)){const X=M.vnode;S(_,X,X.scopeId,X.slotScopeIds,M.parent)}}},y=(_,w,L,B,M,G,X,J,Q=0)=>{for(let H=Q;H<_.length;H++){const he=_[H]=J?tr(_[H]):pn(_[H]);O(null,he,w,L,B,M,G,X,J)}},b=(_,w,L,B,M,G,X)=>{const J=w.el=_.el;let{patchFlag:Q,dynamicChildren:H,dirs:he}=w;Q|=_.patchFlag&16;const ee=_.props||He,le=w.props||He;let ae;if(L&&br(L,!1),(ae=le.onVnodeBeforeUpdate)&&dn(ae,L,w,_),he&&Tr(w,_,L,"beforeUpdate"),L&&br(L,!0),(ee.innerHTML&&le.innerHTML==null||ee.textContent&&le.textContent==null)&&d(J,""),H?A(_.dynamicChildren,H,J,L,B,$a(w,M),G):X||Ce(_,w,J,null,L,B,$a(w,M),G,!1),Q>0){if(Q&16)P(J,ee,le,L,M);else if(Q&2&&ee.class!==le.class&&i(J,"class",null,le.class,M),Q&4&&i(J,"style",ee.style,le.style,M),Q&8){const de=w.dynamicProps;for(let Oe=0;Oe<de.length;Oe++){const De=de[Oe],ht=ee[De],rt=le[De];(rt!==ht||De==="value")&&i(J,De,ht,rt,M,L)}}Q&1&&_.children!==w.children&&d(J,w.children)}else!X&&H==null&&P(J,ee,le,L,M);((ae=le.onVnodeUpdated)||he)&&zt(()=>{ae&&dn(ae,L,w,_),he&&Tr(w,_,L,"updated")},B)},A=(_,w,L,B,M,G,X)=>{for(let J=0;J<w.length;J++){const Q=_[J],H=w[J],he=Q.el&&(Q.type===Qt||!Bs(Q,H)||Q.shapeFlag&70)?p(Q.el):L;O(Q,H,he,null,B,M,G,X,!0)}},P=(_,w,L,B,M)=>{if(w!==L){if(w!==He)for(const G in w)!Ws(G)&&!(G in L)&&i(_,G,w[G],null,M,B);for(const G in L){if(Ws(G))continue;const X=L[G],J=w[G];X!==J&&G!=="value"&&i(_,G,J,X,M,B)}"value"in L&&i(_,"value",w.value,L.value,M)}},x=(_,w,L,B,M,G,X,J,Q)=>{const H=w.el=_?_.el:c(""),he=w.anchor=_?_.anchor:c("");let{patchFlag:ee,dynamicChildren:le,slotScopeIds:ae}=w;ae&&(J=J?J.concat(ae):ae),_==null?(r(H,L,B),r(he,L,B),y(w.children||[],L,he,M,G,X,J,Q)):ee>0&&ee&64&&le&&_.dynamicChildren?(A(_.dynamicChildren,le,L,M,G,X,J),(w.key!=null||M&&w===M.subTree)&&Kf(_,w,!0)):Ce(_,w,L,he,M,G,X,J,Q)},E=(_,w,L,B,M,G,X,J,Q)=>{w.slotScopeIds=J,_==null?w.shapeFlag&512?M.ctx.activate(w,L,B,X,Q):ie(w,L,B,M,G,X,Q):Mt(_,w,Q)},ie=(_,w,L,B,M,G,X)=>{const J=_.component=t2(_,B,M);if(Df(_)&&(J.ctx.renderer=ce),n2(J,!1,X),J.asyncDep){if(M&&M.registerDep(J,Je,X),!_.el){const Q=J.subTree=ct(Vr);$(null,Q,w,L)}}else Je(J,_,w,L,M,G,X)},Mt=(_,w,L)=>{const B=w.component=_.component;if(qm(_,w,L))if(B.asyncDep&&!B.asyncResolved){Ae(B,w,L);return}else B.next=w,B.update();else w.el=_.el,B.vnode=w},Je=(_,w,L,B,M,G,X)=>{const J=()=>{if(_.isMounted){let{next:ee,bu:le,u:ae,parent:de,vnode:Oe}=_;{const at=Wf(_);if(at){ee&&(ee.el=Oe.el,Ae(_,ee,X)),at.asyncDep.then(()=>{_.isUnmounted||J()});return}}let De=ee,ht;br(_,!1),ee?(ee.el=Oe.el,Ae(_,ee,X)):ee=Oe,le&&Oa(le),(ht=ee.props&&ee.props.onVnodeBeforeUpdate)&&dn(ht,de,ee,Oe),br(_,!0);const rt=ja(_),ot=_.subTree;_.subTree=rt,O(ot,rt,p(ot.el),F(ot),_,M,G),ee.el=rt.el,De===null&&Gm(_,rt.el),ae&&zt(ae,M),(ht=ee.props&&ee.props.onVnodeUpdated)&&zt(()=>dn(ht,de,ee,Oe),M)}else{let ee;const{el:le,props:ae}=w,{bm:de,m:Oe,parent:De,root:ht,type:rt}=_,ot=Js(w);if(br(_,!1),de&&Oa(de),!ot&&(ee=ae&&ae.onVnodeBeforeMount)&&dn(ee,De,w),br(_,!0),le&&Ue){const at=()=>{_.subTree=ja(_),Ue(le,_.subTree,_,M,null)};ot&&rt.__asyncHydrate?rt.__asyncHydrate(le,_,at):at()}else{ht.ce&&ht.ce._injectChildStyle(rt);const at=_.subTree=ja(_);O(null,at,L,B,_,M,G),w.el=at.el}if(Oe&&zt(Oe,M),!ot&&(ee=ae&&ae.onVnodeMounted)){const at=w;zt(()=>dn(ee,De,at),M)}(w.shapeFlag&256||De&&Js(De.vnode)&&De.vnode.shapeFlag&256)&&_.a&&zt(_.a,M),_.isMounted=!0,w=L=B=null}};_.scope.on();const Q=_.effect=new af(J);_.scope.off();const H=_.update=Q.run.bind(Q),he=_.job=Q.runIfDirty.bind(Q);he.i=_,he.id=_.uid,Q.scheduler=()=>il(he),br(_,!0),H()},Ae=(_,w,L)=>{w.component=_;const B=_.vnode.props;_.vnode=w,_.next=null,Rm(_,w.props,B,L),Vm(_,w.children,L),mr(),Zu(_),_r()},Ce=(_,w,L,B,M,G,X,J,Q=!1)=>{const H=_&&_.children,he=_?_.shapeFlag:0,ee=w.children,{patchFlag:le,shapeFlag:ae}=w;if(le>0){if(le&128){Tt(H,ee,L,B,M,G,X,J,Q);return}else if(le&256){Lt(H,ee,L,B,M,G,X,J,Q);return}}ae&8?(he&16&&Xe(H,M,G),ee!==H&&d(L,ee)):he&16?ae&16?Tt(H,ee,L,B,M,G,X,J,Q):Xe(H,M,G,!0):(he&8&&d(L,""),ae&16&&y(ee,L,B,M,G,X,J,Q))},Lt=(_,w,L,B,M,G,X,J,Q)=>{_=_||es,w=w||es;const H=_.length,he=w.length,ee=Math.min(H,he);let le;for(le=0;le<ee;le++){const ae=w[le]=Q?tr(w[le]):pn(w[le]);O(_[le],ae,L,null,M,G,X,J,Q)}H>he?Xe(_,M,G,!0,!1,ee):y(w,L,B,M,G,X,J,Q,ee)},Tt=(_,w,L,B,M,G,X,J,Q)=>{let H=0;const he=w.length;let ee=_.length-1,le=he-1;for(;H<=ee&&H<=le;){const ae=_[H],de=w[H]=Q?tr(w[H]):pn(w[H]);if(Bs(ae,de))O(ae,de,L,null,M,G,X,J,Q);else break;H++}for(;H<=ee&&H<=le;){const ae=_[ee],de=w[le]=Q?tr(w[le]):pn(w[le]);if(Bs(ae,de))O(ae,de,L,null,M,G,X,J,Q);else break;ee--,le--}if(H>ee){if(H<=le){const ae=le+1,de=ae<he?w[ae].el:B;for(;H<=le;)O(null,w[H]=Q?tr(w[H]):pn(w[H]),L,de,M,G,X,J,Q),H++}}else if(H>le)for(;H<=ee;)qe(_[H],M,G,!0),H++;else{const ae=H,de=H,Oe=new Map;for(H=de;H<=le;H++){const ft=w[H]=Q?tr(w[H]):pn(w[H]);ft.key!=null&&Oe.set(ft.key,H)}let De,ht=0;const rt=le-de+1;let ot=!1,at=0;const bt=new Array(rt);for(H=0;H<rt;H++)bt[H]=0;for(H=ae;H<=ee;H++){const ft=_[H];if(ht>=rt){qe(ft,M,G,!0);continue}let pt;if(ft.key!=null)pt=Oe.get(ft.key);else for(De=de;De<=le;De++)if(bt[De-de]===0&&Bs(ft,w[De])){pt=De;break}pt===void 0?qe(ft,M,G,!0):(bt[pt-de]=H+1,pt>=at?at=pt:ot=!0,O(ft,w[pt],L,null,M,G,X,J,Q),ht++)}const Kn=ot?Nm(bt):es;for(De=Kn.length-1,H=rt-1;H>=0;H--){const ft=de+H,pt=w[ft],tn=ft+1<he?w[ft+1].el:B;bt[H]===0?O(null,pt,L,tn,M,G,X,J,Q):ot&&(De<0||H!==Kn[De]?Ft(pt,L,tn,2):De--)}}},Ft=(_,w,L,B,M=null)=>{const{el:G,type:X,transition:J,children:Q,shapeFlag:H}=_;if(H&6){Ft(_.component.subTree,w,L,B);return}if(H&128){_.suspense.move(w,L,B);return}if(H&64){X.move(_,w,L,ce);return}if(X===Qt){r(G,w,L);for(let ee=0;ee<Q.length;ee++)Ft(Q[ee],w,L,B);r(_.anchor,w,L);return}if(X===uo){W(_,w,L);return}if(B!==2&&H&1&&J)if(B===0)J.beforeEnter(G),r(G,w,L),zt(()=>J.enter(G),M);else{const{leave:ee,delayLeave:le,afterLeave:ae}=J,de=()=>r(G,w,L),Oe=()=>{ee(G,()=>{de(),ae&&ae()})};le?le(G,de,Oe):Oe()}else r(G,w,L)},qe=(_,w,L,B=!1,M=!1)=>{const{type:G,props:X,ref:J,children:Q,dynamicChildren:H,shapeFlag:he,patchFlag:ee,dirs:le,cacheIndex:ae}=_;if(ee===-2&&(M=!1),J!=null&&uc(J,null,L,_,!0),ae!=null&&(w.renderCache[ae]=void 0),he&256){w.ctx.deactivate(_);return}const de=he&1&&le,Oe=!Js(_);let De;if(Oe&&(De=X&&X.onVnodeBeforeUnmount)&&dn(De,w,_),he&6)Wt(_.component,L,B);else{if(he&128){_.suspense.unmount(L,B);return}de&&Tr(_,null,w,"beforeUnmount"),he&64?_.type.remove(_,w,L,ce,B):H&&!H.hasOnce&&(G!==Qt||ee>0&&ee&64)?Xe(H,w,L,!1,!0):(G===Qt&&ee&384||!M&&he&16)&&Xe(Q,w,L),B&&Ke(_)}(Oe&&(De=X&&X.onVnodeUnmounted)||de)&&zt(()=>{De&&dn(De,w,_),de&&Tr(_,null,w,"unmounted")},L)},Ke=_=>{const{type:w,el:L,anchor:B,transition:M}=_;if(w===Qt){Bt(L,B);return}if(w===uo){Y(_);return}const G=()=>{s(L),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(_.shapeFlag&1&&M&&!M.persisted){const{leave:X,delayLeave:J}=M,Q=()=>X(L,G);J?J(_.el,G,Q):Q()}else G()},Bt=(_,w)=>{let L;for(;_!==w;)L=m(_),s(_),_=L;s(w)},Wt=(_,w,L)=>{const{bum:B,scope:M,job:G,subTree:X,um:J,m:Q,a:H}=_;oh(Q),oh(H),B&&Oa(B),M.stop(),G&&(G.flags|=8,qe(X,_,w,L)),J&&zt(J,w),zt(()=>{_.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Xe=(_,w,L,B=!1,M=!1,G=0)=>{for(let X=G;X<_.length;X++)qe(_[X],w,L,B,M)},F=_=>{if(_.shapeFlag&6)return F(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const w=m(_.anchor||_.el),L=w&&w[tm];return L?m(L):w};let se=!1;const ne=(_,w,L)=>{_==null?w._vnode&&qe(w._vnode,null,null,!0):O(w._vnode||null,_,w,null,null,null,L),w._vnode=_,se||(se=!0,Zu(),Rf(),se=!1)},ce={p:O,um:qe,m:Ft,r:Ke,mt:ie,mc:y,pc:Ce,pbc:A,n:F,o:t};let Re,Ue;return{render:ne,hydrate:Re,createApp:Am(ne,Re)}}function $a({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function br({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Om(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Kf(t,e,n=!1){const r=t.children,s=e.children;if(we(r)&&we(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=tr(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&Kf(o,c)),c.type===sa&&(c.el=o.el)}}function Nm(t){const e=t.slice(),n=[0];let r,s,i,o,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<h?i=c+1:o=c;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Wf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Wf(e)}function oh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Mm=Symbol.for("v-scx"),Fm=()=>Fn(Mm);function os(t,e,n){return Qf(t,e,n)}function Qf(t,e,n=He){const{immediate:r,deep:s,flush:i,once:o}=n,c=wt({},n);let l;if(ia)if(i==="sync"){const m=Fm();l=m.__watcherHandles||(m.__watcherHandles=[])}else if(!e||r)c.once=!0;else{const m=()=>{};return m.stop=gn,m.resume=gn,m.pause=gn,m}const h=kt;c.call=(m,v,D)=>wn(m,h,v,D);let d=!1;i==="post"?c.scheduler=m=>{zt(m,h&&h.suspense)}:i!=="sync"&&(d=!0,c.scheduler=(m,v)=>{v?m():il(m)}),c.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,h&&(m.id=h.uid,m.i=h))};const p=Yg(t,e,c);return l&&l.push(p),p}function Um(t,e,n){const r=this.proxy,s=it(t)?t.includes(".")?Yf(r,t):()=>r[t]:t.bind(r,r);let i;Te(e)?i=e:(i=e.handler,n=e);const o=Si(this),c=Qf(s,i.bind(r),n);return o(),c}function Yf(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Bm=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${en(e)}Modifiers`]||t[`${Fr(e)}Modifiers`];function $m(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||He;let s=n;const i=e.startsWith("update:"),o=i&&Bm(r,e.slice(7));o&&(o.trim&&(s=n.map(d=>it(d)?d.trim():d)),o.number&&(s=n.map(dg)));let c,l=r[c=La(e)]||r[c=La(en(e))];!l&&i&&(l=r[c=La(Fr(e))]),l&&wn(l,t,6,s);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,wn(h,t,6,s)}}function Jf(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!Te(t)){const l=h=>{const d=Jf(h,e,!0);d&&(c=!0,wt(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Ye(t)&&r.set(t,null),null):(we(i)?i.forEach(l=>o[l]=null):wt(o,i),Ye(t)&&r.set(t,o),o)}function ra(t,e){return!t||!Qo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Be(t,e[0].toLowerCase()+e.slice(1))||Be(t,Fr(e))||Be(t,e))}function ja(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:h,renderCache:d,props:p,data:m,setupState:v,ctx:D,inheritAttrs:O}=t,U=Io(t);let $,j;try{if(n.shapeFlag&4){const Y=s||r,ge=Y;$=pn(h.call(ge,Y,d,p,v,m,D)),j=c}else{const Y=e;$=pn(Y.length>1?Y(p,{attrs:c,slots:o,emit:l}):Y(p,null)),j=e.props?c:jm(c)}}catch(Y){Zs.length=0,ta(Y,t,1),$=ct(Vr)}let W=$;if(j&&O!==!1){const Y=Object.keys(j),{shapeFlag:ge}=W;Y.length&&ge&7&&(i&&Y.some(Gc)&&(j=zm(j,i)),W=hs(W,j,!1,!0))}return n.dirs&&(W=hs(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(n.dirs):n.dirs),n.transition&&ol(W,n.transition),$=W,Io(U),$}const jm=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qo(n))&&((e||(e={}))[n]=t[n]);return e},zm=(t,e)=>{const n={};for(const r in t)(!Gc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function qm(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:l}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ah(r,o,h):!!o;if(l&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const m=d[p];if(o[m]!==r[m]&&!ra(h,m))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?ah(r,o,h):!0:!!o;return!1}function ah(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!ra(n,i))return!0}return!1}function Gm({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xf=t=>t.__isSuspense;function Hm(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):Zg(t)}const Qt=Symbol.for("v-fgt"),sa=Symbol.for("v-txt"),Vr=Symbol.for("v-cmt"),uo=Symbol.for("v-stc"),Zs=[];let Ht=null;function Xt(t=!1){Zs.push(Ht=t?null:[])}function Km(){Zs.pop(),Ht=Zs[Zs.length-1]||null}let ui=1;function ch(t){ui+=t,t<0&&Ht&&(Ht.hasOnce=!0)}function Zf(t){return t.dynamicChildren=ui>0?Ht||es:null,Km(),ui>0&&Ht&&Ht.push(t),t}function mn(t,e,n,r,s,i){return Zf(be(t,e,n,r,s,i,!0))}function e0(t,e,n,r,s){return Zf(ct(t,e,n,r,s,!0))}function Co(t){return t?t.__v_isVNode===!0:!1}function Bs(t,e){return t.type===e.type&&t.key===e.key}const t0=({key:t})=>t??null,ho=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?it(t)||xt(t)||Te(t)?{i:Gt,r:t,k:e,f:!!n}:t:null);function be(t,e=null,n=null,r=0,s=null,i=t===Qt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&t0(e),ref:e&&ho(e),scopeId:kf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Gt};return c?(ll(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=it(n)?8:16),ui>0&&!o&&Ht&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ht.push(l),l}const ct=Wm;function Wm(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===mm)&&(t=Vr),Co(t)){const c=hs(t,e,!0);return n&&ll(c,n),ui>0&&!i&&Ht&&(c.shapeFlag&6?Ht[Ht.indexOf(t)]=c:Ht.push(c)),c.patchFlag=-2,c}if(a2(t)&&(t=t.__vccOpts),e){e=Qm(e);let{class:c,style:l}=e;c&&!it(c)&&(e.class=Qc(c)),Ye(l)&&(rl(l)&&!we(l)&&(l=wt({},l)),e.style=Wc(l))}const o=it(t)?1:Xf(t)?128:nm(t)?64:Ye(t)?4:Te(t)?2:0;return be(t,e,n,r,s,o,i,!0)}function Qm(t){return t?rl(t)||Bf(t)?wt({},t):t:null}function hs(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=t,h=e?Xm(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&t0(h),ref:e&&e.ref?n&&i?we(i)?i.concat(ho(e)):[i,ho(e)]:ho(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hs(t.ssContent),ssFallback:t.ssFallback&&hs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ol(d,l.clone(d)),d}function Ym(t=" ",e=0){return ct(sa,null,t,e)}function Kt(t,e){const n=ct(uo,null,t);return n.staticCount=e,n}function Jm(t="",e=!1){return e?(Xt(),e0(Vr,null,t)):ct(Vr,null,t)}function pn(t){return t==null||typeof t=="boolean"?ct(Vr):we(t)?ct(Qt,null,t.slice()):Co(t)?tr(t):ct(sa,null,String(t))}function tr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hs(t)}function ll(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(we(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),ll(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Bf(e)?e._ctx=Gt:s===3&&Gt&&(Gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Te(e)?(e={default:e,_ctx:Gt},n=32):(e=String(e),r&64?(n=16,e=[Ym(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xm(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Qc([e.class,r.class]));else if(s==="style")e.style=Wc([e.style,r.style]);else if(Qo(s)){const i=e[s],o=r[s];o&&i!==o&&!(we(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function dn(t,e,n,r=null){wn(t,e,7,[n,r])}const Zm=Mf();let e2=0;function t2(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Zm,i={uid:e2++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jf(r,s),emitsOptions:Jf(r,s),emit:null,emitted:null,propsDefaults:He,inheritAttrs:r.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=$m.bind(null,i),t.ce&&t.ce(i),i}let kt=null,Ro,gc;{const t=nf(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ro=e("__VUE_INSTANCE_SETTERS__",n=>kt=n),gc=e("__VUE_SSR_SETTERS__",n=>ia=n)}const Si=t=>{const e=kt;return Ro(t),t.scope.on(),()=>{t.scope.off(),Ro(e)}},lh=()=>{kt&&kt.scope.off(),Ro(null)};function n0(t){return t.vnode.shapeFlag&4}let ia=!1;function n2(t,e=!1,n=!1){e&&gc(e);const{props:r,children:s}=t.vnode,i=n0(t);Cm(t,r,i,e),xm(t,s,n);const o=i?r2(t,e):void 0;return e&&gc(!1),o}function r2(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ym);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?i2(t):null,i=Si(t);mr();const o=Ii(r,t,0,[t.props,s]);if(_r(),i(),Xd(o)){if(Js(t)||Vf(t),o.then(lh,lh),e)return o.then(c=>{uh(t,c,e)}).catch(c=>{ta(c,t,0)});t.asyncDep=o}else uh(t,o,e)}else r0(t,e)}function uh(t,e,n){Te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ye(e)&&(t.setupState=If(e)),r0(t,n)}let hh;function r0(t,e,n){const r=t.type;if(!t.render){if(!e&&hh&&!r.render){const s=r.template||al(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:c,compilerOptions:l}=r,h=wt(wt({isCustomElement:i,delimiters:c},o),l);r.render=hh(s,h)}}t.render=r.render||gn}{const s=Si(t);mr();try{wm(t)}finally{_r(),s()}}}const s2={get(t,e){return Vt(t,"get",""),t[e]}};function i2(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,s2),slots:t.slots,emit:t.emit,expose:e}}function oa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(If(jg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xs)return Xs[n](t)},has(e,n){return n in e||n in Xs}})):t.proxy}function o2(t,e=!0){return Te(t)?t.displayName||t.name:t.name||e&&t.__name}function a2(t){return Te(t)&&"__vccOpts"in t}const sn=(t,e)=>Wg(t,e,ia);function s0(t,e,n){const r=arguments.length;return r===2?Ye(e)&&!we(e)?Co(e)?ct(t,null,[e]):ct(t,e):ct(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Co(n)&&(n=[n]),ct(t,e,n))}const c2="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mc;const dh=typeof window<"u"&&window.trustedTypes;if(dh)try{mc=dh.createPolicy("vue",{createHTML:t=>t})}catch{}const i0=mc?t=>mc.createHTML(t):t=>t,l2="http://www.w3.org/2000/svg",u2="http://www.w3.org/1998/Math/MathML",kn=typeof document<"u"?document:null,fh=kn&&kn.createElement("template"),h2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?kn.createElementNS(l2,t):e==="mathml"?kn.createElementNS(u2,t):n?kn.createElement(t,{is:n}):kn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>kn.createTextNode(t),createComment:t=>kn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{fh.innerHTML=i0(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=fh.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},d2=Symbol("_vtc");function f2(t,e,n){const r=t[d2];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Po=Symbol("_vod"),o0=Symbol("_vsh"),ko={beforeMount(t,{value:e},{transition:n}){t[Po]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):$s(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),$s(t,!0),r.enter(t)):r.leave(t,()=>{$s(t,!1)}):$s(t,e))},beforeUnmount(t,{value:e}){$s(t,e)}};function $s(t,e){t.style.display=e?t[Po]:"none",t[o0]=!e}const p2=Symbol(""),g2=/(^|;)\s*display\s*:/;function m2(t,e,n){const r=t.style,s=it(n);let i=!1;if(n&&!s){if(e)if(it(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&fo(r,c,"")}else for(const o in e)n[o]==null&&fo(r,o,"");for(const o in n)o==="display"&&(i=!0),fo(r,o,n[o])}else if(s){if(e!==n){const o=r[p2];o&&(n+=";"+o),r.cssText=n,i=g2.test(n)}}else e&&t.removeAttribute("style");Po in t&&(t[Po]=i?r.display:"",t[o0]&&(r.display="none"))}const ph=/\s*!important$/;function fo(t,e,n){if(we(n))n.forEach(r=>fo(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=_2(t,e);ph.test(n)?t.setProperty(Fr(r),n.replace(ph,""),"important"):t[r]=n}}const gh=["Webkit","Moz","ms"],za={};function _2(t,e){const n=za[e];if(n)return n;let r=en(e);if(r!=="filter"&&r in t)return za[e]=r;r=Xo(r);for(let s=0;s<gh.length;s++){const i=gh[s]+r;if(i in t)return za[e]=i}return e}const mh="http://www.w3.org/1999/xlink";function _h(t,e,n,r,s,i=vg(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(mh,e.slice(6,e.length)):t.setAttributeNS(mh,e,n):n==null||i&&!rf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":gr(n)?String(n):n)}function vh(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?i0(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(o!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=rf(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function v2(t,e,n,r){t.addEventListener(e,n,r)}function y2(t,e,n,r){t.removeEventListener(e,n,r)}const yh=Symbol("_vei");function w2(t,e,n,r,s=null){const i=t[yh]||(t[yh]={}),o=i[e];if(r&&o)o.value=r;else{const[c,l]=E2(e);if(r){const h=i[e]=I2(r,s);v2(t,c,h,l)}else o&&(y2(t,c,o,l),i[e]=void 0)}}const wh=/(?:Once|Passive|Capture)$/;function E2(t){let e;if(wh.test(t)){e={};let r;for(;r=t.match(wh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fr(t.slice(2)),e]}let qa=0;const T2=Promise.resolve(),b2=()=>qa||(T2.then(()=>qa=0),qa=Date.now());function I2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wn(S2(r,n.value),e,5,[r])};return n.value=t,n.attached=b2(),n}function S2(t,e){if(we(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Eh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,A2=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?f2(t,r,o):e==="style"?m2(t,n,r):Qo(e)?Gc(e)||w2(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):C2(t,e,r,o))?(vh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_h(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!it(r))?vh(t,en(e),r):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),_h(t,e,r,o))};function C2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Eh(e)&&Te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Eh(e)&&it(n)?!1:e in t}const R2=wt({patchProp:A2},h2);let Th;function P2(){return Th||(Th=Dm(R2))}const k2=(...t)=>{const e=P2().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=V2(r);if(!s)return;const i=e._component;!Te(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,x2(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function x2(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function V2(t){return it(t)?document.querySelector(t):t}const Gn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},D2={};function L2(t,e){const n=Qr("router-view");return Xt(),e0(n)}const a0=Gn(D2,[["render",L2]]);function O2(){return c0().__VUE_DEVTOOLS_GLOBAL_HOOK__}function c0(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const N2=typeof Proxy=="function",M2="devtools-plugin:setup",F2="plugin:settings:set";let Hr,_c;function U2(){var t;return Hr!==void 0||(typeof window<"u"&&window.performance?(Hr=!0,_c=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Hr=!0,_c=globalThis.perf_hooks.performance):Hr=!1),Hr}function B2(){return U2()?_c.now():Date.now()}class $2{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const c=e.settings[o];r[o]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),c=JSON.parse(o);Object.assign(i,c)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return B2()}},n&&n.on(F2,(o,c)=>{o===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(o,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function j2(t,e){const n=t,r=c0(),s=O2(),i=N2&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(M2,t,e);else{const o=i?new $2(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var z2="store";function bs(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function l0(t){return t!==null&&typeof t=="object"}function q2(t){return t&&typeof t.then=="function"}function G2(t,e){return function(){return t(e)}}function u0(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function h0(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;aa(t,n,[],t._modules.root,!0),ul(t,n,e)}function ul(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,i={};bs(s,function(o,c){i[c]=G2(o,t),Object.defineProperty(t.getters,c,{get:function(){return i[c]()},enumerable:!0})}),t._state=bi({data:e}),t.strict&&Y2(t),r&&n&&t._withCommit(function(){r.data=null})}function aa(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var c=hl(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){c[l]=r.state})}var h=r.context=H2(t,o,n);r.forEachMutation(function(d,p){var m=o+p;K2(t,m,d,h)}),r.forEachAction(function(d,p){var m=d.root?p:o+p,v=d.handler||d;W2(t,m,v,h)}),r.forEachGetter(function(d,p){var m=o+p;Q2(t,m,d,h)}),r.forEachChild(function(d,p){aa(t,e,n.concat(p),d,s)})}function H2(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,c){var l=xo(i,o,c),h=l.payload,d=l.options,p=l.type;return(!d||!d.root)&&(p=e+p),t.dispatch(p,h)},commit:r?t.commit:function(i,o,c){var l=xo(i,o,c),h=l.payload,d=l.options,p=l.type;(!d||!d.root)&&(p=e+p),t.commit(p,h,d)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return d0(t,e)}},state:{get:function(){return hl(t.state,n)}}}),s}function d0(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function K2(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function W2(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return q2(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):c})}function Q2(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function Y2(t){os(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function hl(t,e){return e.reduce(function(n,r){return n[r]},t)}function xo(t,e,n){return l0(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var J2="vuex bindings",bh="vuex:mutations",Ga="vuex:actions",Kr="vuex",X2=0;function Z2(t,e){j2({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[J2]},function(n){n.addTimelineLayer({id:bh,label:"Vuex Mutations",color:Ih}),n.addTimelineLayer({id:Ga,label:"Vuex Actions",color:Ih}),n.addInspector({id:Kr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Kr)if(r.filter){var s=[];m0(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[g0(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Kr){var s=r.nodeId;d0(e,s),r.state=n_(s_(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Kr){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Kr),n.sendInspectorState(Kr),n.addTimelineEvent({layerId:bh,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=X2++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:Ga,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:Ga,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Ih=8702998,e_=6710886,t_=16777215,f0={label:"namespaced",textColor:t_,backgroundColor:e_};function p0(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function g0(t,e){return{id:e||"root",label:p0(e),tags:t.namespaced?[f0]:[],children:Object.keys(t._children).map(function(n){return g0(t._children[n],e+n+"/")})}}function m0(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[f0]:[]}),Object.keys(e._children).forEach(function(s){m0(t,e._children[s],n,r+s+"/")})}function n_(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=r_(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?p0(o):o,editable:!1,value:vc(function(){return i[o]})}})}return s}function r_(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=vc(function(){return t[n]})}else e[n]=vc(function(){return t[n]})}),e}function s_(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function vc(t){try{return t()}catch(e){return e}}var un=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},_0={namespaced:{configurable:!0}};_0.namespaced.get=function(){return!!this._rawModule.namespaced};un.prototype.addChild=function(e,n){this._children[e]=n};un.prototype.removeChild=function(e){delete this._children[e]};un.prototype.getChild=function(e){return this._children[e]};un.prototype.hasChild=function(e){return e in this._children};un.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};un.prototype.forEachChild=function(e){bs(this._children,e)};un.prototype.forEachGetter=function(e){this._rawModule.getters&&bs(this._rawModule.getters,e)};un.prototype.forEachAction=function(e){this._rawModule.actions&&bs(this._rawModule.actions,e)};un.prototype.forEachMutation=function(e){this._rawModule.mutations&&bs(this._rawModule.mutations,e)};Object.defineProperties(un.prototype,_0);var Ur=function(e){this.register([],e,!1)};Ur.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ur.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Ur.prototype.update=function(e){v0([],this.root,e)};Ur.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new un(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&bs(n.modules,function(c,l){s.register(e.concat(l),c,r)})};Ur.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Ur.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function v0(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;v0(t.concat(r),e.getChild(r),n.modules[r])}}function i_(t){return new Ut(t)}var Ut=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ur(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(m,v){return l.call(o,m,v)},this.commit=function(m,v,D){return h.call(o,m,v,D)},this.strict=s;var d=this._modules.root.state;aa(this,d,[],this._modules.root),ul(this,d),r.forEach(function(p){return p(n)})},dl={state:{configurable:!0}};Ut.prototype.install=function(e,n){e.provide(n||z2,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Z2(e,this)};dl.state.get=function(){return this._state.data};dl.state.set=function(t){};Ut.prototype.commit=function(e,n,r){var s=this,i=xo(e,n,r),o=i.type,c=i.payload,l={type:o,payload:c},h=this._mutations[o];h&&(this._withCommit(function(){h.forEach(function(p){p(c)})}),this._subscribers.slice().forEach(function(d){return d(l,s.state)}))};Ut.prototype.dispatch=function(e,n){var r=this,s=xo(e,n),i=s.type,o=s.payload,c={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(o)})):l[0](o);return new Promise(function(d,p){h.then(function(m){try{r._actionSubscribers.filter(function(v){return v.after}).forEach(function(v){return v.after(c,r.state)})}catch{}d(m)},function(m){try{r._actionSubscribers.filter(function(v){return v.error}).forEach(function(v){return v.error(c,r.state,m)})}catch{}p(m)})})}};Ut.prototype.subscribe=function(e,n){return u0(e,this._subscribers,n)};Ut.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return u0(r,this._actionSubscribers,n)};Ut.prototype.watch=function(e,n,r){var s=this;return os(function(){return e(s.state,s.getters)},n,Object.assign({},r))};Ut.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Ut.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),aa(this,this.state,e,this._modules.get(e),r.preserveState),ul(this,this.state)};Ut.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=hl(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),h0(this)};Ut.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Ut.prototype.hotUpdate=function(e){this._modules.update(e),h0(this,!0)};Ut.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Ut.prototype,dl);var fl=w0(function(t,e){var n={};return y0(e).forEach(function(r){var s=r.key,i=r.val;i=t+i,n[s]=function(){if(!(t&&!E0(this.$store,"mapGetters",t)))return this.$store.getters[i]},n[s].vuex=!0}),n}),o_=w0(function(t,e){var n={};return y0(e).forEach(function(r){var s=r.key,i=r.val;n[s]=function(){for(var c=[],l=arguments.length;l--;)c[l]=arguments[l];var h=this.$store.dispatch;if(t){var d=E0(this.$store,"mapActions",t);if(!d)return;h=d.context.dispatch}return typeof i=="function"?i.apply(this,[h].concat(c)):h.apply(this.$store,[i].concat(c))}}),n});function y0(t){return a_(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function a_(t){return Array.isArray(t)||l0(t)}function w0(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function E0(t,e,n){var r=t._modulesNamespaceMap[n];return r}var Sh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},c_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,l=s+2<t.length,h=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|c>>4;let m=(c&15)<<2|h>>6,v=h&63;l||(v=64,o||(m=64)),r.push(n[d],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||p==null)throw new l_;const m=i<<2|c>>4;if(r.push(m),h!==64){const v=c<<4&240|h>>2;if(r.push(v),p!==64){const D=h<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u_=function(t){const e=T0(t);return b0.encodeByteArray(e,!0)},Vo=function(t){return u_(t).replace(/\./g,"")},I0=function(t){try{return b0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=()=>h_().__FIREBASE_DEFAULTS__,f_=()=>{if(typeof process>"u"||typeof Sh>"u")return;const t=Sh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I0(t[1]);return e&&JSON.parse(e)},ca=()=>{try{return d_()||f_()||p_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S0=t=>{var e,n;return(n=(e=ca())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},g_=t=>{const e=S0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},A0=()=>{var t;return(t=ca())===null||t===void 0?void 0:t.config},C0=t=>{var e;return(e=ca())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vo(JSON.stringify(n)),Vo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function y_(){var t;const e=(t=ca())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b_(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I_(){return!y_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S_(){try{return typeof indexedDB=="object"}catch{return!1}}function A_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C_,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ai.prototype.create)}}class Ai{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?R_(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Hn(s,c,r)}}function R_(t,e){return t.replace(P_,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P_=/\{\$([^}]+)}/g;function k_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Do(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ah(i)&&Ah(o)){if(!Do(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ah(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function x_(t,e){const n=new V_(t,e);return n.subscribe.bind(n)}class V_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D_(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ha),s.error===void 0&&(s.error=Ha),s.complete===void 0&&(s.complete=Ha);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ha(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N_(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O_(t){return t===Sr?void 0:t}function N_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const F_={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},U_=Ve.INFO,B_={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},$_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=B_[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pl{constructor(e){this.name=e,this._logLevel=U_,this._logHandler=$_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const j_=(t,e)=>e.some(n=>t instanceof n);let Ch,Rh;function z_(){return Ch||(Ch=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q_(){return Rh||(Rh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,yc=new WeakMap,P0=new WeakMap,Ka=new WeakMap,gl=new WeakMap;function G_(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ar(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&R0.set(n,t)}).catch(()=>{}),gl.set(e,t),e}function H_(t){if(yc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yc.set(t,e)}let wc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K_(t){wc=t(wc)}function W_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wa(this),e,...n);return P0.set(r,e.sort?e.sort():[e]),ar(r)}:q_().includes(t)?function(...e){return t.apply(Wa(this),e),ar(R0.get(this))}:function(...e){return ar(t.apply(Wa(this),e))}}function Q_(t){return typeof t=="function"?W_(t):(t instanceof IDBTransaction&&H_(t),j_(t,z_())?new Proxy(t,wc):t)}function ar(t){if(t instanceof IDBRequest)return G_(t);if(Ka.has(t))return Ka.get(t);const e=Q_(t);return e!==t&&(Ka.set(t,e),gl.set(e,t)),e}const Wa=t=>gl.get(t);function Y_(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=ar(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ar(o.result),l.oldVersion,l.newVersion,ar(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const J_=["get","getKey","getAll","getAllKeys","count"],X_=["put","add","delete","clear"],Qa=new Map;function Ph(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qa.get(e))return Qa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=X_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||J_.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&l.done]))[0]};return Qa.set(e,i),i}K_(t=>({...t,get:(e,n,r)=>Ph(e,n)||t.get(e,n,r),has:(e,n)=>!!Ph(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ev(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ev(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ec="@firebase/app",kh="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new pl("@firebase/app"),tv="@firebase/app-compat",nv="@firebase/analytics-compat",rv="@firebase/analytics",sv="@firebase/app-check-compat",iv="@firebase/app-check",ov="@firebase/auth",av="@firebase/auth-compat",cv="@firebase/database",lv="@firebase/data-connect",uv="@firebase/database-compat",hv="@firebase/functions",dv="@firebase/functions-compat",fv="@firebase/installations",pv="@firebase/installations-compat",gv="@firebase/messaging",mv="@firebase/messaging-compat",_v="@firebase/performance",vv="@firebase/performance-compat",yv="@firebase/remote-config",wv="@firebase/remote-config-compat",Ev="@firebase/storage",Tv="@firebase/storage-compat",bv="@firebase/firestore",Iv="@firebase/vertexai-preview",Sv="@firebase/firestore-compat",Av="firebase",Cv="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]",Rv={[Ec]:"fire-core",[tv]:"fire-core-compat",[rv]:"fire-analytics",[nv]:"fire-analytics-compat",[iv]:"fire-app-check",[sv]:"fire-app-check-compat",[ov]:"fire-auth",[av]:"fire-auth-compat",[cv]:"fire-rtdb",[lv]:"fire-data-connect",[uv]:"fire-rtdb-compat",[hv]:"fire-fn",[dv]:"fire-fn-compat",[fv]:"fire-iid",[pv]:"fire-iid-compat",[gv]:"fire-fcm",[mv]:"fire-fcm-compat",[_v]:"fire-perf",[vv]:"fire-perf-compat",[yv]:"fire-rc",[wv]:"fire-rc-compat",[Ev]:"fire-gcs",[Tv]:"fire-gcs-compat",[bv]:"fire-fst",[Sv]:"fire-fst-compat",[Iv]:"fire-vertex","fire-js":"fire-js",[Av]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,Pv=new Map,bc=new Map;function xh(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ds(t){const e=t.name;if(bc.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;bc.set(e,t);for(const n of Lo.values())xh(n,t);for(const n of Pv.values())xh(n,t);return!0}function ml(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Ai("app","Firebase",kv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=Cv;function k0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw cr.create("bad-app-name",{appName:String(s)});if(n||(n=A0()),!n)throw cr.create("no-options");const i=Lo.get(s);if(i){if(Do(n,i.options)&&Do(r,i.config))return i;throw cr.create("duplicate-app",{appName:s})}const o=new M_(s);for(const l of bc.values())o.addComponent(l);const c=new xv(n,r,o);return Lo.set(s,c),c}function x0(t=Tc){const e=Lo.get(t);if(!e&&t===Tc&&A0())return k0();if(!e)throw cr.create("no-app",{appName:t});return e}function lr(t,e,n){var r;let s=(r=Rv[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(c.join(" "));return}ds(new Dr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="firebase-heartbeat-database",Dv=1,hi="firebase-heartbeat-store";let Ya=null;function V0(){return Ya||(Ya=Y_(Vv,Dv,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hi)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),Ya}async function Lv(t){try{const n=(await V0()).transaction(hi),r=await n.objectStore(hi).get(D0(t));return await n.done,r}catch(e){if(e instanceof Hn)Bn.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bn.warn(n.message)}}}async function Vh(t,e){try{const r=(await V0()).transaction(hi,"readwrite");await r.objectStore(hi).put(e,D0(t)),await r.done}catch(n){if(n instanceof Hn)Bn.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bn.warn(r.message)}}}function D0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=1024,Nv=30*24*60*60*1e3;class Mv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Dh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=Nv}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dh(),{heartbeatsToSend:r,unsentEntries:s}=Fv(this._heartbeatsCache.heartbeats),i=Vo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Bn.warn(n),""}}}function Dh(){return new Date().toISOString().substring(0,10)}function Fv(t,e=Ov){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Lh(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Lh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S_()?A_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lh(t){return Vo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){ds(new Dr("platform-logger",e=>new Z_(e),"PRIVATE")),ds(new Dr("heartbeat",e=>new Mv(e),"PRIVATE")),lr(Ec,kh,t),lr(Ec,kh,"esm2017"),lr("fire-js","")}Bv("");var $v="firebase",jv="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr($v,jv,"app");function _l(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function L0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zv=L0,O0=new Ai("auth","Firebase",L0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new pl("@firebase/auth");function qv(t,...e){Oo.logLevel<=Ve.WARN&&Oo.warn(`Auth (${Is}): ${t}`,...e)}function po(t,...e){Oo.logLevel<=Ve.ERROR&&Oo.error(`Auth (${Is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw yl(t,...e)}function cn(t,...e){return yl(t,...e)}function vl(t,e,n){const r=Object.assign(Object.assign({},zv()),{[e]:n});return new Ai("auth","Firebase",r).create(e,{appName:t.name})}function Pr(t){return vl(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gv(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),vl(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yl(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return O0.create(t,...e)}function _e(t,e,...n){if(!t)throw yl(e,...n)}function Ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw po(e),new Error(e)}function $n(t,e){t||Ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Hv(){return Oh()==="http:"||Oh()==="https:"}function Oh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hv()||E_()||"connection"in navigator)?navigator.onLine:!0}function Wv(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){this.shortDelay=e,this.longDelay=n,$n(n>e,"Short delay should be less than long delay!"),this.isMobile=v_()||T_()}get(){return Kv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e){$n(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Ri(3e4,6e4);function El(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ss(t,e,n,r,s={}){return M0(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Ci(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:l},i);return w_()||(h.referrerPolicy="no-referrer"),N0.fetch()(F0(t,t.config.apiHost,n,c),h)})}async function M0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qv),e);try{const s=new Xv(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw so(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw so(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw so(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw so(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw vl(t,d,h);Tn(t,d)}}catch(s){if(s instanceof Hn)throw s;Tn(t,"network-request-failed",{message:String(s)})}}async function Jv(t,e,n,r,s={}){const i=await Ss(t,e,n,r,s);return"mfaPendingCredential"in i&&Tn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function F0(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?wl(t.config,s):`${t.config.apiScheme}://${s}`}class Xv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cn(this.auth,"network-request-failed")),Yv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function so(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(t,e){return Ss(t,"POST","/v1/accounts:delete",e)}async function U0(t,e){return Ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ey(t,e=!1){const n=En(t),r=await n.getIdToken(e),s=Tl(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ei(Ja(s.auth_time)),issuedAtTime:ei(Ja(s.iat)),expirationTime:ei(Ja(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ja(t){return Number(t)*1e3}function Tl(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return po("JWT malformed, contained fewer than 3 sections"),null;try{const s=I0(n);return s?JSON.parse(s):(po("Failed to decode base64 JWT payload"),null)}catch(s){return po("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Nh(t){const e=Tl(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function di(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&ty(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ty({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t){var e;const n=t.auth,r=await t.getIdToken(),s=await di(t,U0(n,{idToken:r}));_e(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?B0(i.providerUserInfo):[],c=sy(t.providerData,o),l=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),d=l?h:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Sc(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function ry(t){const e=En(t);await No(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sy(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function B0(t){return t.map(e=>{var{providerId:n}=e,r=_l(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(t,e){const n=await M0(t,{},async()=>{const r=Ci({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=F0(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",N0.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oy(t,e){return Ss(t,"POST","/v2/accounts:revokeToken",El(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Nh(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await iy(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new as;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(_e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new as,this.toJSON())}_performRefresh(){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=_l(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ny(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await di(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ey(this,e)}reload(){return ry(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await No(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await di(this,Zv(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,c,l,h,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(c=n.tenantId)!==null&&c!==void 0?c:void 0,U=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,$=(h=n.createdAt)!==null&&h!==void 0?h:void 0,j=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:W,emailVerified:Y,isAnonymous:ge,providerData:Ie,stsTokenManager:S}=n;_e(W&&S,e,"internal-error");const y=as.fromJSON(this.name,S);_e(typeof W=="string",e,"internal-error"),Xn(p,e.name),Xn(m,e.name),_e(typeof Y=="boolean",e,"internal-error"),_e(typeof ge=="boolean",e,"internal-error"),Xn(v,e.name),Xn(D,e.name),Xn(O,e.name),Xn(U,e.name),Xn($,e.name),Xn(j,e.name);const b=new On({uid:W,auth:e,email:m,emailVerified:Y,displayName:p,isAnonymous:ge,photoURL:D,phoneNumber:v,tenantId:O,stsTokenManager:y,createdAt:$,lastLoginAt:j});return Ie&&Array.isArray(Ie)&&(b.providerData=Ie.map(A=>Object.assign({},A))),U&&(b._redirectEventId=U),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new as;s.updateFromServerResponse(n);const i=new On({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await No(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];_e(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?B0(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new as;c.updateFromIdToken(r);const l=new On({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Sc(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map;function Nn(t){$n(t instanceof Function,"Expected a class definition");let e=Mh.get(t);return e?($n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mh.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$0.type="NONE";const Fh=$0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e,n){return`firebase:${t}:${e}:${n}`}class cs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=go(this.userKey,s.apiKey,i),this.fullPersistenceKey=go("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?On._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cs(Nn(Fh),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Nn(Fh);const o=go(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const d=await h._get(o);if(d){const p=On._fromJSON(e,d);h!==i&&(c=p),i=h;break}}catch{}const l=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new cs(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new cs(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K0(e))return"Blackberry";if(W0(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if(H0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j0(t=Dt()){return/firefox\//i.test(t)}function z0(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(t=Dt()){return/crios\//i.test(t)}function G0(t=Dt()){return/iemobile/i.test(t)}function H0(t=Dt()){return/android/i.test(t)}function K0(t=Dt()){return/blackberry/i.test(t)}function W0(t=Dt()){return/webos/i.test(t)}function bl(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ay(t=Dt()){var e;return bl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cy(){return b_()&&document.documentMode===10}function Q0(t=Dt()){return bl(t)||H0(t)||W0(t)||K0(t)||/windows phone/i.test(t)||G0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t,e=[]){let n;switch(t){case"Browser":n=Uh(Dt());break;case"Worker":n=`${Uh(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Is}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uy(t,e={}){return Ss(t,"GET","/v2/passwordPolicy",El(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=6;class dy{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hy,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bh(this),this.idTokenSubscription=new Bh(this),this.beforeStateQueue=new ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await cs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await U0(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===c)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await No(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Wv()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Pr(this));const n=e?En(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uy(this),n=new dy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ai("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oy(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nn(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await cs.create(this,[Nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qv(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return En(t)}class Bh{constructor(e){this.auth=e,this.observer=null,this.addObserver=x_(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function py(t){Il=t}function gy(t){return Il.loadJS(t)}function my(){return Il.gapiScript}function _y(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){const n=ml(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Do(i,e??{}))return s;Tn(s,"already-initialized")}return n.initialize({options:e})}function yy(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wy(t,e,n){const r=la(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=J0(e),{host:o,port:c}=Ey(e),l=c===null?"":`:${c}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Ty()}function J0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ey(t){const e=J0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:$h(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:$h(o)}}}function $h(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ty(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(t,e){return Jv(t,"POST","/v1/accounts:signInWithIdp",El(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="http://localhost";class Lr extends X0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=_l(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Lr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ls(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ls(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ls(e,n)}buildRequest(){const e={requestUri:by,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ci(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Sl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Pi{constructor(){super("facebook.com")}static credential(e){return Lr._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Pi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lr._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vn.credential(n,r)}catch{return null}}}Vn.GOOGLE_SIGN_IN_METHOD="google.com";Vn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Pi{constructor(){super("github.com")}static credential(e){return Lr._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Pi{constructor(){super("twitter.com")}static credential(e,n){return Lr._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await On._fromIdTokenResponse(e,r,s),o=jh(r);return new fs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jh(r);return new fs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Hn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mo(e,n,r,s)}}function Z0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mo._fromErrorAndOperation(t,i,e,r):i})}async function Iy(t,e,n=!1){const r=await di(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(Pr(r));const s="reauthenticate";try{const i=await di(t,Z0(r,s,e,t),n);_e(i.idToken,r,"internal-error");const o=Tl(i.idToken);_e(o,r,"internal-error");const{sub:c}=o;return _e(t.uid===c,r,"user-mismatch"),fs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ay(t,e,n=!1){if(Dn(t.app))return Promise.reject(Pr(t));const r="signIn",s=await Z0(t,r,e),i=await fs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Cy(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function Ry(t,e,n){return En(t).beforeAuthStateChanged(e,n)}const Fo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fo,"1"),this.storage.removeItem(Fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=1e3,ky=10;class tp extends ep{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);cy()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ky):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Py)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tp.type="LOCAL";const xy=tp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends ep{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}np.type="SESSION";const rp=np;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ua(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,i)),l=await Vy(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ua.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const h=Al("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function Ly(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function Oy(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ny(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function My(){return sp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="firebaseLocalStorageDb",Fy=1,Uo="firebaseLocalStorage",op="fbase_key";class ki{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ha(t,e){return t.transaction([Uo],e?"readwrite":"readonly").objectStore(Uo)}function Uy(){const t=indexedDB.deleteDatabase(ip);return new ki(t).toPromise()}function Ac(){const t=indexedDB.open(ip,Fy);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uo,{keyPath:op})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uo)?e(r):(r.close(),await Uy(),e(await Ac()))})})}async function zh(t,e,n){const r=ha(t,!0).put({[op]:e,value:n});return new ki(r).toPromise()}async function By(t,e){const n=ha(t,!1).get(e),r=await new ki(n).toPromise();return r===void 0?null:r.value}function qh(t,e){const n=ha(t,!0).delete(e);return new ki(n).toPromise()}const $y=800,jy=3;class ap{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ac(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jy)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ua._getInstance(My()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Oy(),!this.activeServiceWorker)return;this.sender=new Dy(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ny()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ac();return await zh(e,Fo,"1"),await qh(e,Fo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zh(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>By(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ha(s,!1).getAll();return new ki(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$y)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ap.type="LOCAL";const zy=ap;new Ri(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t,e){return e?Nn(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends X0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qy(t){return Ay(t.auth,new Cl(t),t.bypassAuthState)}function Gy(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),Sy(n,new Cl(t),t.bypassAuthState)}async function Hy(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),Iy(n,new Cl(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qy;case"linkViaPopup":case"linkViaRedirect":return Hy;case"reauthViaPopup":case"reauthViaRedirect":return Gy;default:Tn(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Ri(2e3,1e4);async function Wy(t,e,n){if(Dn(t.app))return Promise.reject(cn(t,"operation-not-supported-in-this-environment"));const r=la(t);Gv(t,e,Sl);const s=cp(r,n);return new Ar(r,"signInViaPopup",e,s).executeNotNull()}class Ar extends lp{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ar.currentPopupAction&&Ar.currentPopupAction.cancel(),Ar.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const e=Al();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ar.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ky.get())};e()}}Ar.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="pendingRedirect",mo=new Map;class Yy extends lp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mo.get(this.auth._key());if(!e){try{const r=await Jy(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mo.set(this.auth._key(),e)}return this.bypassAuthState||mo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jy(t,e){const n=e3(e),r=Zy(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Xy(t,e){mo.set(t._key(),e)}function Zy(t){return Nn(t._redirectPersistence)}function e3(t){return go(Qy,t.config.apiKey,t.name)}async function t3(t,e,n=!1){if(Dn(t.app))return Promise.reject(Pr(t));const r=la(t),s=cp(r,e),o=await new Yy(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=10*60*1e3;class r3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!up(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gh(e))}saveEventToCache(e){this.cachedEventUids.add(Gh(e)),this.lastProcessedEventTime=Date.now()}}function Gh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function up({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return up(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e={}){return Ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a3=/^https?/;async function c3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i3(t);for(const n of e)try{if(l3(n))return}catch{}Tn(t,"unauthorized-domain")}function l3(t){const e=Ic(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a3.test(n))return!1;if(o3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new Ri(3e4,6e4);function Hh(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h3(t){return new Promise((e,n)=>{var r,s,i;function o(){Hh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hh(),n(cn(t,"network-request-failed"))},timeout:u3.get()})}if(!((s=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=_n().gapi)===null||i===void 0)&&i.load)o();else{const c=_y("iframefcb");return _n()[c]=()=>{gapi.load?o():n(cn(t,"network-request-failed"))},gy(`${my()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw _o=null,e})}let _o=null;function d3(t){return _o=_o||h3(t),_o}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new Ri(5e3,15e3),p3="__/auth/iframe",g3="emulator/auth/iframe",m3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v3(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wl(e,g3):`https://${t.config.authDomain}/${p3}`,r={apiKey:e.apiKey,appName:t.name,v:Is},s=_3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ci(r).slice(1)}`}async function y3(t){const e=await d3(t),n=_n().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:v3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=cn(t,"network-request-failed"),c=_n().setTimeout(()=>{i(o)},f3.get());function l(){_n().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E3=500,T3=600,b3="_blank",I3="http://localhost";class Kh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S3(t,e,n,r=E3,s=T3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},w3),{width:r.toString(),height:s.toString(),top:i,left:o}),h=Dt().toLowerCase();n&&(c=q0(h)?b3:n),j0(h)&&(e=e||I3,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[v,D])=>`${m}${v}=${D},`,"");if(ay(h)&&c!=="_self")return A3(e||"",c),new Kh(null);const p=window.open(e||"",c,d);_e(p,t,"popup-blocked");try{p.focus()}catch{}return new Kh(p)}function A3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="__/auth/handler",R3="emulator/auth/handler",P3=encodeURIComponent("fac");async function Wh(t,e,n,r,s,i){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Is,eventId:s};if(e instanceof Sl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Pi){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];const l=await t._getAppCheckToken(),h=l?`#${P3}=${encodeURIComponent(l)}`:"";return`${k3(t)}?${Ci(c).slice(1)}${h}`}function k3({config:t}){return t.emulator?wl(t,R3):`https://${t.authDomain}/${C3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="webStorageSupport";class x3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rp,this._completeRedirectFn=t3,this._overrideRedirectResult=Xy}async _openPopup(e,n,r,s){var i;$n((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Wh(e,n,r,Ic(),s);return S3(e,o,Al())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Wh(e,n,r,Ic(),s);return Ly(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($n(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y3(e),r=new r3(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xa,{type:Xa},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Xa];o!==void 0&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q0()||z0()||bl()}}const V3=x3;var Qh="@firebase/auth",Yh="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O3(t){ds(new Dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(t)},h=new fy(r,s,i,l);return yy(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ds(new Dr("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new D3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(Qh,Yh,L3(t)),lr(Qh,Yh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=5*60,M3=C0("authIdTokenMaxAge")||N3;let Jh=null;const F3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M3)return;const s=n==null?void 0:n.token;Jh!==s&&(Jh=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function U3(t=x0()){const e=ml(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vy(t,{popupRedirectResolver:V3,persistence:[zy,xy,rp]}),r=C0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=F3(i.toString());Ry(n,o,()=>o(n.currentUser)),Cy(n,c=>o(c))}}const s=S0("auth");return s&&wy(n,`http://${s}`),n}function B3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}py({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=cn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",B3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O3("Browser");var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,hp;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function b(){}b.prototype=y.prototype,S.D=y.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(A,P,x){for(var E=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)E[ie-2]=arguments[ie];return y.prototype[P].apply(A,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,y,b){b||(b=0);var A=Array(16);if(typeof y=="string")for(var P=0;16>P;++P)A[P]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(P=0;16>P;++P)A[P]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=S.g[0],b=S.g[1],P=S.g[2];var x=S.g[3],E=y+(x^b&(P^x))+A[0]+3614090360&4294967295;y=b+(E<<7&4294967295|E>>>25),E=x+(P^y&(b^P))+A[1]+3905402710&4294967295,x=y+(E<<12&4294967295|E>>>20),E=P+(b^x&(y^b))+A[2]+606105819&4294967295,P=x+(E<<17&4294967295|E>>>15),E=b+(y^P&(x^y))+A[3]+3250441966&4294967295,b=P+(E<<22&4294967295|E>>>10),E=y+(x^b&(P^x))+A[4]+4118548399&4294967295,y=b+(E<<7&4294967295|E>>>25),E=x+(P^y&(b^P))+A[5]+1200080426&4294967295,x=y+(E<<12&4294967295|E>>>20),E=P+(b^x&(y^b))+A[6]+2821735955&4294967295,P=x+(E<<17&4294967295|E>>>15),E=b+(y^P&(x^y))+A[7]+4249261313&4294967295,b=P+(E<<22&4294967295|E>>>10),E=y+(x^b&(P^x))+A[8]+1770035416&4294967295,y=b+(E<<7&4294967295|E>>>25),E=x+(P^y&(b^P))+A[9]+2336552879&4294967295,x=y+(E<<12&4294967295|E>>>20),E=P+(b^x&(y^b))+A[10]+4294925233&4294967295,P=x+(E<<17&4294967295|E>>>15),E=b+(y^P&(x^y))+A[11]+2304563134&4294967295,b=P+(E<<22&4294967295|E>>>10),E=y+(x^b&(P^x))+A[12]+1804603682&4294967295,y=b+(E<<7&4294967295|E>>>25),E=x+(P^y&(b^P))+A[13]+4254626195&4294967295,x=y+(E<<12&4294967295|E>>>20),E=P+(b^x&(y^b))+A[14]+2792965006&4294967295,P=x+(E<<17&4294967295|E>>>15),E=b+(y^P&(x^y))+A[15]+1236535329&4294967295,b=P+(E<<22&4294967295|E>>>10),E=y+(P^x&(b^P))+A[1]+4129170786&4294967295,y=b+(E<<5&4294967295|E>>>27),E=x+(b^P&(y^b))+A[6]+3225465664&4294967295,x=y+(E<<9&4294967295|E>>>23),E=P+(y^b&(x^y))+A[11]+643717713&4294967295,P=x+(E<<14&4294967295|E>>>18),E=b+(x^y&(P^x))+A[0]+3921069994&4294967295,b=P+(E<<20&4294967295|E>>>12),E=y+(P^x&(b^P))+A[5]+3593408605&4294967295,y=b+(E<<5&4294967295|E>>>27),E=x+(b^P&(y^b))+A[10]+38016083&4294967295,x=y+(E<<9&4294967295|E>>>23),E=P+(y^b&(x^y))+A[15]+3634488961&4294967295,P=x+(E<<14&4294967295|E>>>18),E=b+(x^y&(P^x))+A[4]+3889429448&4294967295,b=P+(E<<20&4294967295|E>>>12),E=y+(P^x&(b^P))+A[9]+568446438&4294967295,y=b+(E<<5&4294967295|E>>>27),E=x+(b^P&(y^b))+A[14]+3275163606&4294967295,x=y+(E<<9&4294967295|E>>>23),E=P+(y^b&(x^y))+A[3]+4107603335&4294967295,P=x+(E<<14&4294967295|E>>>18),E=b+(x^y&(P^x))+A[8]+1163531501&4294967295,b=P+(E<<20&4294967295|E>>>12),E=y+(P^x&(b^P))+A[13]+2850285829&4294967295,y=b+(E<<5&4294967295|E>>>27),E=x+(b^P&(y^b))+A[2]+4243563512&4294967295,x=y+(E<<9&4294967295|E>>>23),E=P+(y^b&(x^y))+A[7]+1735328473&4294967295,P=x+(E<<14&4294967295|E>>>18),E=b+(x^y&(P^x))+A[12]+2368359562&4294967295,b=P+(E<<20&4294967295|E>>>12),E=y+(b^P^x)+A[5]+4294588738&4294967295,y=b+(E<<4&4294967295|E>>>28),E=x+(y^b^P)+A[8]+2272392833&4294967295,x=y+(E<<11&4294967295|E>>>21),E=P+(x^y^b)+A[11]+1839030562&4294967295,P=x+(E<<16&4294967295|E>>>16),E=b+(P^x^y)+A[14]+4259657740&4294967295,b=P+(E<<23&4294967295|E>>>9),E=y+(b^P^x)+A[1]+2763975236&4294967295,y=b+(E<<4&4294967295|E>>>28),E=x+(y^b^P)+A[4]+1272893353&4294967295,x=y+(E<<11&4294967295|E>>>21),E=P+(x^y^b)+A[7]+4139469664&4294967295,P=x+(E<<16&4294967295|E>>>16),E=b+(P^x^y)+A[10]+3200236656&4294967295,b=P+(E<<23&4294967295|E>>>9),E=y+(b^P^x)+A[13]+681279174&4294967295,y=b+(E<<4&4294967295|E>>>28),E=x+(y^b^P)+A[0]+3936430074&4294967295,x=y+(E<<11&4294967295|E>>>21),E=P+(x^y^b)+A[3]+3572445317&4294967295,P=x+(E<<16&4294967295|E>>>16),E=b+(P^x^y)+A[6]+76029189&4294967295,b=P+(E<<23&4294967295|E>>>9),E=y+(b^P^x)+A[9]+3654602809&4294967295,y=b+(E<<4&4294967295|E>>>28),E=x+(y^b^P)+A[12]+3873151461&4294967295,x=y+(E<<11&4294967295|E>>>21),E=P+(x^y^b)+A[15]+530742520&4294967295,P=x+(E<<16&4294967295|E>>>16),E=b+(P^x^y)+A[2]+3299628645&4294967295,b=P+(E<<23&4294967295|E>>>9),E=y+(P^(b|~x))+A[0]+4096336452&4294967295,y=b+(E<<6&4294967295|E>>>26),E=x+(b^(y|~P))+A[7]+1126891415&4294967295,x=y+(E<<10&4294967295|E>>>22),E=P+(y^(x|~b))+A[14]+2878612391&4294967295,P=x+(E<<15&4294967295|E>>>17),E=b+(x^(P|~y))+A[5]+4237533241&4294967295,b=P+(E<<21&4294967295|E>>>11),E=y+(P^(b|~x))+A[12]+1700485571&4294967295,y=b+(E<<6&4294967295|E>>>26),E=x+(b^(y|~P))+A[3]+2399980690&4294967295,x=y+(E<<10&4294967295|E>>>22),E=P+(y^(x|~b))+A[10]+4293915773&4294967295,P=x+(E<<15&4294967295|E>>>17),E=b+(x^(P|~y))+A[1]+2240044497&4294967295,b=P+(E<<21&4294967295|E>>>11),E=y+(P^(b|~x))+A[8]+1873313359&4294967295,y=b+(E<<6&4294967295|E>>>26),E=x+(b^(y|~P))+A[15]+4264355552&4294967295,x=y+(E<<10&4294967295|E>>>22),E=P+(y^(x|~b))+A[6]+2734768916&4294967295,P=x+(E<<15&4294967295|E>>>17),E=b+(x^(P|~y))+A[13]+1309151649&4294967295,b=P+(E<<21&4294967295|E>>>11),E=y+(P^(b|~x))+A[4]+4149444226&4294967295,y=b+(E<<6&4294967295|E>>>26),E=x+(b^(y|~P))+A[11]+3174756917&4294967295,x=y+(E<<10&4294967295|E>>>22),E=P+(y^(x|~b))+A[2]+718787259&4294967295,P=x+(E<<15&4294967295|E>>>17),E=b+(x^(P|~y))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+x&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var b=y-this.blockSize,A=this.B,P=this.h,x=0;x<y;){if(P==0)for(;x<=b;)s(this,S,x),x+=this.blockSize;if(typeof S=="string"){for(;x<y;)if(A[P++]=S.charCodeAt(x++),P==this.blockSize){s(this,A),P=0;break}}else for(;x<y;)if(A[P++]=S[x++],P==this.blockSize){s(this,A),P=0;break}}this.h=P,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var b=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=b&255,b/=256;for(this.u(S),S=Array(16),y=b=0;4>y;++y)for(var A=0;32>A;A+=8)S[b++]=this.g[y]>>>A&255;return S};function i(S,y){var b=c;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=y(S)}function o(S,y){this.h=y;for(var b=[],A=!0,P=S.length-1;0<=P;P--){var x=S[P]|0;A&&x==y||(b[P]=x,A=!1)}this.g=b}var c={};function l(S){return-128<=S&&128>S?i(S,function(y){return new o([y|0],0>y?-1:0)}):new o([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return U(h(-S));for(var y=[],b=1,A=0;S>=b;A++)y[A]=S/b|0,b*=4294967296;return new o(y,0)}function d(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return U(d(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(y,8)),A=p,P=0;P<S.length;P+=8){var x=Math.min(8,S.length-P),E=parseInt(S.substring(P,P+x),y);8>x?(x=h(Math.pow(y,x)),A=A.j(x).add(h(E))):(A=A.j(b),A=A.add(h(E)))}return A}var p=l(0),m=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(O(this))return-U(this).m();for(var S=0,y=1,b=0;b<this.g.length;b++){var A=this.i(b);S+=(0<=A?A:4294967296+A)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D(this))return"0";if(O(this))return"-"+U(this).toString(S);for(var y=h(Math.pow(S,6)),b=this,A="";;){var P=Y(b,y).g;b=$(b,P.j(y));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=P,D(b))return x+A;for(;6>x.length;)x="0"+x;A=x+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function D(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function O(S){return S.h==-1}t.l=function(S){return S=$(this,S),O(S)?-1:D(S)?0:1};function U(S){for(var y=S.g.length,b=[],A=0;A<y;A++)b[A]=~S.g[A];return new o(b,~S.h).add(m)}t.abs=function(){return O(this)?U(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],A=0,P=0;P<=y;P++){var x=A+(this.i(P)&65535)+(S.i(P)&65535),E=(x>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);A=E>>>16,x&=65535,E&=65535,b[P]=E<<16|x}return new o(b,b[b.length-1]&-2147483648?-1:0)};function $(S,y){return S.add(U(y))}t.j=function(S){if(D(this)||D(S))return p;if(O(this))return O(S)?U(this).j(U(S)):U(U(this).j(S));if(O(S))return U(this.j(U(S)));if(0>this.l(v)&&0>S.l(v))return h(this.m()*S.m());for(var y=this.g.length+S.g.length,b=[],A=0;A<2*y;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<S.g.length;P++){var x=this.i(A)>>>16,E=this.i(A)&65535,ie=S.i(P)>>>16,Mt=S.i(P)&65535;b[2*A+2*P]+=E*Mt,j(b,2*A+2*P),b[2*A+2*P+1]+=x*Mt,j(b,2*A+2*P+1),b[2*A+2*P+1]+=E*ie,j(b,2*A+2*P+1),b[2*A+2*P+2]+=x*ie,j(b,2*A+2*P+2)}for(A=0;A<y;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=y;A<2*y;A++)b[A]=0;return new o(b,0)};function j(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function W(S,y){this.g=S,this.h=y}function Y(S,y){if(D(y))throw Error("division by zero");if(D(S))return new W(p,p);if(O(S))return y=Y(U(S),y),new W(U(y.g),U(y.h));if(O(y))return y=Y(S,U(y)),new W(U(y.g),y.h);if(30<S.g.length){if(O(S)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,A=y;0>=A.l(S);)b=ge(b),A=ge(A);var P=Ie(b,1),x=Ie(A,1);for(A=Ie(A,2),b=Ie(b,2);!D(A);){var E=x.add(A);0>=E.l(S)&&(P=P.add(b),x=E),A=Ie(A,1),b=Ie(b,1)}return y=$(S,P.j(y)),new W(P,y)}for(P=p;0<=S.l(y);){for(b=Math.max(1,Math.floor(S.m()/y.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),x=h(b),E=x.j(y);O(E)||0<E.l(S);)b-=A,x=h(b),E=x.j(y);D(x)&&(x=m),P=P.add(x),S=$(S,E)}return new W(P,S)}t.A=function(S){return Y(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)&S.i(A);return new o(b,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)|S.i(A);return new o(b,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],A=0;A<y;A++)b[A]=this.i(A)^S.i(A);return new o(b,this.h^S.h)};function ge(S){for(var y=S.g.length+1,b=[],A=0;A<y;A++)b[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(b,S.h)}function Ie(S,y){var b=y>>5;y%=32;for(var A=S.g.length-b,P=[],x=0;x<A;x++)P[x]=0<y?S.i(x+b)>>>y|S.i(x+b+1)<<32-y:S.i(x+b);return new o(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hp=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,kr=o}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dp,Gs,fp,vo,Cc,pp,gp,mp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,f){return a==Array.prototype||a==Object.prototype||(a[u]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof io=="object"&&io];for(var u=0;u<a.length;++u){var f=a[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(a,u){if(u)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var V=a[g];if(!(V in f))break e;f=f[V]}a=a[a.length-1],g=f[a],u=u(g),u!=g&&u!=null&&e(f,a,{configurable:!0,writable:!0,value:u})}}function i(a,u){a instanceof String&&(a+="");var f=0,g=!1,V={next:function(){if(!g&&f<a.length){var N=f++;return{value:u(N,a[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(a){return a||function(){return i(this,function(u,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function h(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function d(a,u,f){return a.call.apply(a.bind,arguments)}function p(a,u,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,g),a.apply(u,V)}}return function(){return a.apply(u,arguments)}}function m(a,u,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function v(a,u){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function D(a,u){function f(){}f.prototype=u.prototype,a.aa=u.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,V,N){for(var Z=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)Z[Ge-2]=arguments[Ge];return u.prototype[V].apply(g,Z)}}function O(a){const u=a.length;if(0<u){const f=Array(u);for(let g=0;g<u;g++)f[g]=a[g];return f}return[]}function U(a,u){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(l(g)){const V=a.length||0,N=g.length||0;a.length=V+N;for(let Z=0;Z<N;Z++)a[V+Z]=g[Z]}else a.push(g)}}class ${constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function j(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Y(a){return Y[" "](a),a}Y[" "]=function(){};var ge=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Ie(a,u,f){for(const g in a)u.call(f,a[g],g,a)}function S(a,u){for(const f in a)u.call(void 0,a[f],f,a)}function y(a){const u={};for(const f in a)u[f]=a[f];return u}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,u){let f,g;for(let V=1;V<arguments.length;V++){g=arguments[V];for(f in g)a[f]=g[f];for(let N=0;N<b.length;N++)f=b[N],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function P(a){var u=1;a=a.split(":");const f=[];for(;0<u&&a.length;)f.push(a.shift()),u--;return a.length&&f.push(a.join(":")),f}function x(a){c.setTimeout(()=>{throw a},0)}function E(){var a=Lt;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class ie{constructor(){this.h=this.g=null}add(u,f){const g=Mt.get();g.set(u,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Mt=new $(()=>new Je,a=>a.reset());class Je{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,Ce=!1,Lt=new ie,Tt=()=>{const a=c.Promise.resolve(void 0);Ae=()=>{a.then(Ft)}};var Ft=()=>{for(var a;a=E();){try{a.h.call(a.g)}catch(f){x(f)}var u=Mt;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}Ce=!1};function qe(){this.s=this.s,this.C=this.C}qe.prototype.s=!1,qe.prototype.ma=function(){this.s||(this.s=!0,this.N())},qe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var Bt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};c.addEventListener("test",f,u),c.removeEventListener("test",f,u)}catch{}return a}();function Wt(a,u){if(Ke.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(ge){e:{try{Y(u.nodeName);var V=!0;break e}catch{}V=!1}V||(u=null)}}else f=="mouseover"?u=a.fromElement:f=="mouseout"&&(u=a.toElement);this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Xe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Wt.aa.h.call(this)}}D(Wt,Ke);var Xe={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),se=0;function ne(a,u,f,g,V){this.listener=a,this.proxy=null,this.src=u,this.type=f,this.capture=!!g,this.ha=V,this.key=++se,this.da=this.fa=!1}function ce(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Re(a){this.src=a,this.g={},this.h=0}Re.prototype.add=function(a,u,f,g,V){var N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);var Z=_(a,u,g,V);return-1<Z?(u=a[Z],f||(u.fa=!1)):(u=new ne(u,this.src,N,!!g,V),u.fa=f,a.push(u)),u};function Ue(a,u){var f=u.type;if(f in a.g){var g=a.g[f],V=Array.prototype.indexOf.call(g,u,void 0),N;(N=0<=V)&&Array.prototype.splice.call(g,V,1),N&&(ce(u),a.g[f].length==0&&(delete a.g[f],a.h--))}}function _(a,u,f,g){for(var V=0;V<a.length;++V){var N=a[V];if(!N.da&&N.listener==u&&N.capture==!!f&&N.ha==g)return V}return-1}var w="closure_lm_"+(1e6*Math.random()|0),L={};function B(a,u,f,g,V){if(Array.isArray(u)){for(var N=0;N<u.length;N++)B(a,u[N],f,g,V);return null}return f=le(f),a&&a[F]?a.K(u,f,h(g)?!!g.capture:!!g,V):M(a,u,f,!1,g,V)}function M(a,u,f,g,V,N){if(!u)throw Error("Invalid event type");var Z=h(V)?!!V.capture:!!V,Ge=he(a);if(Ge||(a[w]=Ge=new Re(a)),f=Ge.add(u,f,g,Z,N),f.proxy)return f;if(g=G(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)Bt||(V=Z),V===void 0&&(V=!1),a.addEventListener(u.toString(),g,V);else if(a.attachEvent)a.attachEvent(Q(u.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function G(){function a(f){return u.call(a.src,a.listener,f)}const u=H;return a}function X(a,u,f,g,V){if(Array.isArray(u))for(var N=0;N<u.length;N++)X(a,u[N],f,g,V);else g=h(g)?!!g.capture:!!g,f=le(f),a&&a[F]?(a=a.i,u=String(u).toString(),u in a.g&&(N=a.g[u],f=_(N,f,g,V),-1<f&&(ce(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete a.g[u],a.h--)))):a&&(a=he(a))&&(u=a.g[u.toString()],a=-1,u&&(a=_(u,f,g,V)),(f=-1<a?u[a]:null)&&J(f))}function J(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[F])Ue(u.i,a);else{var f=a.type,g=a.proxy;u.removeEventListener?u.removeEventListener(f,g,a.capture):u.detachEvent?u.detachEvent(Q(f),g):u.addListener&&u.removeListener&&u.removeListener(g),(f=he(u))?(Ue(f,a),f.h==0&&(f.src=null,u[w]=null)):ce(a)}}}function Q(a){return a in L?L[a]:L[a]="on"+a}function H(a,u){if(a.da)a=!0;else{u=new Wt(u,this);var f=a.listener,g=a.ha||a.src;a.fa&&J(a),a=f.call(g,u)}return a}function he(a){return a=a[w],a instanceof Re?a:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(a){return typeof a=="function"?a:(a[ee]||(a[ee]=function(u){return a.handleEvent(u)}),a[ee])}function ae(){qe.call(this),this.i=new Re(this),this.M=this,this.F=null}D(ae,qe),ae.prototype[F]=!0,ae.prototype.removeEventListener=function(a,u,f,g){X(this,a,u,f,g)};function de(a,u){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=u.type||u,typeof u=="string")u=new Ke(u,a);else if(u instanceof Ke)u.target=u.target||a;else{var V=u;u=new Ke(g,a),A(u,V)}if(V=!0,f)for(var N=f.length-1;0<=N;N--){var Z=u.g=f[N];V=Oe(Z,g,!0,u)&&V}if(Z=u.g=a,V=Oe(Z,g,!0,u)&&V,V=Oe(Z,g,!1,u)&&V,f)for(N=0;N<f.length;N++)Z=u.g=f[N],V=Oe(Z,g,!1,u)&&V}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var f=a.g[u],g=0;g<f.length;g++)ce(f[g]);delete a.g[u],a.h--}}this.F=null},ae.prototype.K=function(a,u,f,g){return this.i.add(String(a),u,!1,f,g)},ae.prototype.L=function(a,u,f,g){return this.i.add(String(a),u,!0,f,g)};function Oe(a,u,f,g){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var V=!0,N=0;N<u.length;++N){var Z=u[N];if(Z&&!Z.da&&Z.capture==f){var Ge=Z.listener,mt=Z.ha||Z.src;Z.fa&&Ue(a.i,Z),V=Ge.call(mt,g)!==!1&&V}}return V&&!g.defaultPrevented}function De(a,u,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function ht(a){a.g=De(()=>{a.g=null,a.i&&(a.i=!1,ht(a))},a.l);const u=a.h;a.h=null,a.m.apply(null,u)}class rt extends qe{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(a){qe.call(this),this.h=a,this.g={}}D(ot,qe);var at=[];function bt(a){Ie(a.g,function(u,f){this.g.hasOwnProperty(f)&&J(u)},a),a.g={}}ot.prototype.N=function(){ot.aa.N.call(this),bt(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=c.JSON.stringify,ft=c.JSON.parse,pt=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function tn(){}tn.prototype.h=null;function Mi(a){return a.h||(a.h=a.i())}function Fi(){}var $t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){Ke.call(this,"d")}D(vr,Ke);function ks(){Ke.call(this,"c")}D(ks,Ke);var Sn={},Ui=null;function T(){return Ui=Ui||new ae}Sn.La="serverreachability";function k(a){Ke.call(this,Sn.La,a)}D(k,Ke);function I(a){const u=T();de(u,new k(u))}Sn.STAT_EVENT="statevent";function R(a,u){Ke.call(this,Sn.STAT_EVENT,a),this.stat=u}D(R,Ke);function C(a){const u=T();de(u,new R(u,a))}Sn.Ma="timingevent";function z(a,u){Ke.call(this,Sn.Ma,a),this.size=u}D(z,Ke);function te(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function re(){this.g=!0}re.prototype.xa=function(){this.g=!1};function me(a,u,f,g,V,N){a.info(function(){if(a.g)if(N)for(var Z="",Ge=N.split("&"),mt=0;mt<Ge.length;mt++){var Me=Ge[mt].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var St=It.split("_");Z=2<=St.length&&St[1]=="type"?Z+(It+"="+Me+"&"):Z+(It+"=redacted&")}}else Z=null;else Z=N;return"XMLHTTP REQ ("+g+") [attempt "+V+"]: "+u+`
`+f+`
`+Z})}function Ne(a,u,f,g,V,N,Z){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+V+"]: "+u+`
`+f+`
`+N+" "+Z})}function oe(a,u,f,g){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+Pe(a,f)+(g?" "+g:"")})}function Se(a,u){a.info(function(){return"TIMEOUT: "+u})}re.prototype.info=function(){};function Pe(a,u){if(!a.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var V=g[1];if(Array.isArray(V)&&!(1>V.length)){var N=V[0];if(N!="noop"&&N!="stop"&&N!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return Kn(f)}catch{return u}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nn;function hn(){}D(hn,tn),hn.prototype.g=function(){return new XMLHttpRequest},hn.prototype.i=function(){return{}},nn=new hn;function Wn(a,u,f,g){this.j=a,this.i=u,this.l=f,this.R=g||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cu}function cu(){this.i=null,this.g="",this.h=!1}var lu={},ba={};function Ia(a,u,f){a.L=1,a.v=zi(An(u)),a.m=f,a.P=!0,uu(a,null)}function uu(a,u){a.F=Date.now(),Bi(a),a.A=An(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Iu(f.i,"t",g),a.C=0,f=a.j.J,a.h=new cu,a.g=ju(a.j,f?u:null,!a.m),0<a.O&&(a.M=new rt(m(a.Y,a,a.g),a.O)),u=a.U,f=a.g,g=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(at[0]=V.toString()),V=at);for(var N=0;N<V.length;N++){var Z=B(f,V[N],g||u.handleEvent,!1,u.h||u);if(!Z)break;u.g[Z.key]=Z}u=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),I(),me(a.i,a.u,a.A,a.l,a.R,a.m)}Wn.prototype.ca=function(a){a=a.target;const u=this.M;u&&Cn(a)==3?u.j():this.Y(a)},Wn.prototype.Y=function(a){try{if(a==this.g)e:{const St=Cn(this.g);var u=this.g.Ba();const qr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||St!=4||u==7||(u==8||0>=qr?I(3):I(2)),Sa(this);var f=this.g.Z();this.X=f;t:if(hu(this)){var g=xu(this.g);a="";var V=g.length,N=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),xs(this);var Z="";break t}this.h.i=new c.TextDecoder}for(u=0;u<V;u++)this.h.h=!0,a+=this.h.i.decode(g[u],{stream:!(N&&u==V-1)});g.length=0,this.h.g+=a,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=f==200,Ne(this.i,this.u,this.A,this.l,this.R,St,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,mt=this.g;if((Ge=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ge)){var Me=Ge;break t}}Me=null}if(f=Me)oe(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,f);else{this.o=!1,this.s=3,C(12),yr(this),xs(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<Z.length;)if(rn=j1(this,Z),rn==ba){St==4&&(this.s=4,C(14),f=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==lu){this.s=4,C(15),oe(this.i,this.l,Z,"[Invalid Chunk]"),f=!1;break}else oe(this.i,this.l,rn,null),Aa(this,rn);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||Z.length!=0||this.h.h||(this.s=1,C(16),f=!1),this.o=this.o&&f,!f)oe(this.i,this.l,Z,"[Invalid Chunked Response]"),yr(this),xs(this);else if(0<Z.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Va(It),It.M=!0,C(11))}}else oe(this.i,this.l,Z,null),Aa(this,Z);St==4&&yr(this),this.o&&!this.J&&(St==4?Fu(this.j,this):(this.o=!1,Bi(this)))}else ig(this.g),f==400&&0<Z.indexOf("Unknown SID")?(this.s=3,C(12)):(this.s=0,C(13)),yr(this),xs(this)}}}catch{}finally{}};function hu(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function j1(a,u){var f=a.C,g=u.indexOf(`
`,f);return g==-1?ba:(f=Number(u.substring(f,g)),isNaN(f)?lu:(g+=1,g+f>u.length?ba:(u=u.slice(g,g+f),a.C=g+f,u)))}Wn.prototype.cancel=function(){this.J=!0,yr(this)};function Bi(a){a.S=Date.now()+a.I,du(a,a.I)}function du(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=te(m(a.ba,a),u)}function Sa(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Wn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Se(this.i,this.A),this.L!=2&&(I(),C(17)),yr(this),this.s=2,xs(this)):du(this,this.S-a)};function xs(a){a.j.G==0||a.J||Fu(a.j,a)}function yr(a){Sa(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,bt(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Aa(a,u){try{var f=a.j;if(f.G!=0&&(f.g==a||Ca(f.h,a))){if(!a.K&&Ca(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var V=g;if(V[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Qi(f),Ki(f);else break e;xa(f),C(18)}}else f.za=V[1],0<f.za-f.T&&37500>V[2]&&f.F&&f.v==0&&!f.C&&(f.C=te(m(f.Za,f),6e3));if(1>=gu(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Er(f,11)}else if((a.K||f.g==a)&&Qi(f),!j(u))for(V=f.Da.g.parse(u),u=0;u<V.length;u++){let Me=V[u];if(f.T=Me[0],Me=Me[1],f.G==2)if(Me[0]=="c"){f.K=Me[1],f.ia=Me[2];const It=Me[3];It!=null&&(f.la=It,f.j.info("VER="+f.la));const St=Me[4];St!=null&&(f.Aa=St,f.j.info("SVER="+f.Aa));const qr=Me[5];qr!=null&&typeof qr=="number"&&0<qr&&(g=1.5*qr,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const rn=a.g;if(rn){const Ji=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var N=g.h;N.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Ra(N,N.h),N.h=null))}if(g.D){const Da=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(g.ya=Da,Qe(g.I,g.D,Da))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var Z=a;if(g.qa=$u(g,g.J?g.ia:null,g.W),Z.K){mu(g.h,Z);var Ge=Z,mt=g.L;mt&&(Ge.I=mt),Ge.B&&(Sa(Ge),Bi(Ge)),g.g=Z}else Nu(g);0<f.i.length&&Wi(f)}else Me[0]!="stop"&&Me[0]!="close"||Er(f,7);else f.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Er(f,7):ka(f):Me[0]!="noop"&&f.l&&f.l.ta(Me),f.v=0)}}I(4)}catch{}}var z1=class{constructor(a,u){this.g=a,this.map=u}};function fu(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pu(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function gu(a){return a.h?1:a.g?a.g.size:0}function Ca(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Ra(a,u){a.g?a.g.add(u):a.h=u}function mu(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}fu.prototype.cancel=function(){if(this.i=_u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function _u(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(const f of a.g.values())u=u.concat(f.D);return u}return O(a.i)}function q1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],f=a.length,g=0;g<f;g++)u.push(a[g]);return u}u=[],f=0;for(g in a)u[f++]=a[g];return u}function G1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var f=0;f<a;f++)u.push(f);return u}u=[],f=0;for(const g in a)u[f++]=g;return u}}}function vu(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var f=G1(a),g=q1(a),V=g.length,N=0;N<V;N++)u.call(void 0,g[N],f&&f[N],a)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H1(a,u){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),V=null;if(0<=g){var N=a[f].substring(0,g);V=a[f].substring(g+1)}else N=a[f];u(N,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function wr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof wr){this.h=a.h,$i(this,a.j),this.o=a.o,this.g=a.g,ji(this,a.s),this.l=a.l;var u=a.i,f=new Ls;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),wu(this,f),this.m=a.m}else a&&(u=String(a).match(yu))?(this.h=!1,$i(this,u[1]||"",!0),this.o=Vs(u[2]||""),this.g=Vs(u[3]||"",!0),ji(this,u[4]),this.l=Vs(u[5]||"",!0),wu(this,u[6]||"",!0),this.m=Vs(u[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}wr.prototype.toString=function(){var a=[],u=this.j;u&&a.push(Ds(u,Eu,!0),":");var f=this.g;return(f||u=="file")&&(a.push("//"),(u=this.o)&&a.push(Ds(u,Eu,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ds(f,f.charAt(0)=="/"?Q1:W1,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ds(f,J1)),a.join("")};function An(a){return new wr(a)}function $i(a,u,f){a.j=f?Vs(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function ji(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function wu(a,u,f){u instanceof Ls?(a.i=u,X1(a.i,a.h)):(f||(u=Ds(u,Y1)),a.i=new Ls(u,a.h))}function Qe(a,u,f){a.i.set(u,f)}function zi(a){return Qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Vs(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ds(a,u,f){return typeof a=="string"?(a=encodeURI(a).replace(u,K1),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function K1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Eu=/[#\/\?@]/g,W1=/[#\?:]/g,Q1=/[#\?]/g,Y1=/[#\?@]/g,J1=/#/g;function Ls(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Qn(a){a.g||(a.g=new Map,a.h=0,a.i&&H1(a.i,function(u,f){a.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}t=Ls.prototype,t.add=function(a,u){Qn(this),this.i=null,a=jr(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(u),this.h+=1,this};function Tu(a,u){Qn(a),u=jr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function bu(a,u){return Qn(a),u=jr(a,u),a.g.has(u)}t.forEach=function(a,u){Qn(this),this.g.forEach(function(f,g){f.forEach(function(V){a.call(u,V,g,this)},this)},this)},t.na=function(){Qn(this);const a=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let g=0;g<u.length;g++){const V=a[g];for(let N=0;N<V.length;N++)f.push(u[g])}return f},t.V=function(a){Qn(this);let u=[];if(typeof a=="string")bu(this,a)&&(u=u.concat(this.g.get(jr(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)u=u.concat(a[f])}return u},t.set=function(a,u){return Qn(this),this.i=null,a=jr(this,a),bu(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},t.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Iu(a,u,f){Tu(a,u),0<f.length&&(a.i=null,a.g.set(jr(a,u),O(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var g=u[f];const N=encodeURIComponent(String(g)),Z=this.V(g);for(g=0;g<Z.length;g++){var V=N;Z[g]!==""&&(V+="="+encodeURIComponent(String(Z[g]))),a.push(V)}}return this.i=a.join("&")};function jr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function X1(a,u){u&&!a.j&&(Qn(a),a.i=null,a.g.forEach(function(f,g){var V=g.toLowerCase();g!=V&&(Tu(this,g),Iu(this,V,f))},a)),a.j=u}function Z1(a,u){const f=new re;if(c.Image){const g=new Image;g.onload=v(Yn,f,"TestLoadImage: loaded",!0,u,g),g.onerror=v(Yn,f,"TestLoadImage: error",!1,u,g),g.onabort=v(Yn,f,"TestLoadImage: abort",!1,u,g),g.ontimeout=v(Yn,f,"TestLoadImage: timeout",!1,u,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else u(!1)}function eg(a,u){const f=new re,g=new AbortController,V=setTimeout(()=>{g.abort(),Yn(f,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:g.signal}).then(N=>{clearTimeout(V),N.ok?Yn(f,"TestPingServer: ok",!0,u):Yn(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(V),Yn(f,"TestPingServer: error",!1,u)})}function Yn(a,u,f,g,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),g(f)}catch{}}function tg(){this.g=new pt}function ng(a,u,f){const g=f||"";try{vu(a,function(V,N){let Z=V;h(V)&&(Z=Kn(V)),u.push(g+N+"="+encodeURIComponent(Z))})}catch(V){throw u.push(g+"type="+encodeURIComponent("_badmap")),V}}function qi(a){this.l=a.Ub||null,this.j=a.eb||!1}D(qi,tn),qi.prototype.g=function(){return new Gi(this.l,this.j)},qi.prototype.i=function(a){return function(){return a}}({});function Gi(a,u){ae.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Gi,ae),t=Gi.prototype,t.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Ns(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Su(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Su(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Os(this):Ns(this),this.readyState==3&&Su(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Os(this))},t.Qa=function(a){this.g&&(this.response=a,Os(this))},t.ga=function(){this.g&&Os(this)};function Os(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ns(a)}t.setRequestHeader=function(a,u){this.u.append(a,u)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=u.next();return a.join(`\r
`)};function Ns(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Au(a){let u="";return Ie(a,function(f,g){u+=g,u+=":",u+=f,u+=`\r
`}),u}function Pa(a,u,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Au(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Qe(a,u,f))}function et(a){ae.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(et,ae);var rg=/^https?$/i,sg=["POST","PUT"];t=et.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,u,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nn.g(),this.v=this.o?Mi(this.o):Mi(nn),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(N){Cu(this,N);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var V in g)f.set(V,g[V]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),V=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(sg,u,void 0))||g||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,Z]of f)this.g.setRequestHeader(N,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ku(this),this.u=!0,this.g.send(a),this.u=!1}catch(N){Cu(this,N)}};function Cu(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Ru(a),Hi(a)}function Ru(a){a.A||(a.A=!0,de(a,"complete"),de(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,de(this,"complete"),de(this,"abort"),Hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},t.bb=function(){Pu(this)};function Pu(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Cn(a)!=4||a.Z()!=2)){if(a.u&&Cn(a)==4)De(a.Ea,0,a);else if(de(a,"readystatechange"),Cn(a)==4){a.h=!1;try{const Z=a.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var g;if(g=Z===0){var V=String(a.D).match(yu)[1]||null;!V&&c.self&&c.self.location&&(V=c.self.location.protocol.slice(0,-1)),g=!rg.test(V?V.toLowerCase():"")}f=g}if(f)de(a,"complete"),de(a,"success");else{a.m=6;try{var N=2<Cn(a)?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.Z()+"]",Ru(a)}}finally{Hi(a)}}}}function Hi(a,u){if(a.g){ku(a);const f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||de(a,"ready");try{f.onreadystatechange=g}catch{}}}function ku(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Cn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),ft(u)}};function xu(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ig(a){const u={};a=(a.g&&2<=Cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(j(a[g]))continue;var f=P(a[g]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const N=u[V]||[];u[V]=N,N.push(f)}S(u,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(a,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||u}function Vu(a){this.Aa=0,this.i=[],this.j=new re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,a),this.cb=Ms("retryDelaySeedMs",1e4,a),this.Wa=Ms("forwardChannelMaxRetries",2,a),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new fu(a&&a.concurrentRequestLimit),this.Da=new tg,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vu.prototype,t.la=8,t.G=1,t.connect=function(a,u,f,g){C(0),this.W=a,this.H=u||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=$u(this,null,this.W),Wi(this)};function ka(a){if(Du(a),a.G==3){var u=a.U++,f=An(a.I);if(Qe(f,"SID",a.K),Qe(f,"RID",u),Qe(f,"TYPE","terminate"),Fs(a,f),u=new Wn(a,a.j,u),u.L=2,u.v=zi(An(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=u.v,f=!0),f||(u.g=ju(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Bi(u)}Bu(a)}function Ki(a){a.g&&(Va(a),a.g.cancel(),a.g=null)}function Du(a){Ki(a),a.u&&(c.clearTimeout(a.u),a.u=null),Qi(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Wi(a){if(!pu(a.h)&&!a.s){a.s=!0;var u=a.Ga;Ae||Tt(),Ce||(Ae(),Ce=!0),Lt.add(u,a),a.B=0}}function og(a,u){return gu(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=te(m(a.Ga,a,u),Uu(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Wn(this,this.j,a);let N=this.o;if(this.S&&(N?(N=y(N),A(N,this.S)):N=this.S),this.m!==null||this.O||(V.H=N,N=null),this.P)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,4096<u){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=Ou(this,V,u),f=An(this.I),Qe(f,"RID",a),Qe(f,"CVER",22),this.D&&Qe(f,"X-HTTP-Session-Id",this.D),Fs(this,f),N&&(this.O?u="headers="+encodeURIComponent(String(Au(N)))+"&"+u:this.m&&Pa(f,this.m,N)),Ra(this.h,V),this.Ua&&Qe(f,"TYPE","init"),this.P?(Qe(f,"$req",u),Qe(f,"SID","null"),V.T=!0,Ia(V,f,null)):Ia(V,f,u),this.G=2}}else this.G==3&&(a?Lu(this,a):this.i.length==0||pu(this.h)||Lu(this))};function Lu(a,u){var f;u?f=u.l:f=a.U++;const g=An(a.I);Qe(g,"SID",a.K),Qe(g,"RID",f),Qe(g,"AID",a.T),Fs(a,g),a.m&&a.o&&Pa(g,a.m,a.o),f=new Wn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Ou(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ra(a.h,f),Ia(f,g,u)}function Fs(a,u){a.H&&Ie(a.H,function(f,g){Qe(u,g,f)}),a.l&&vu({},function(f,g){Qe(u,g,f)})}function Ou(a,u,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let N=-1;for(;;){const Z=["count="+f];N==-1?0<f?(N=V[0].g,Z.push("ofs="+N)):N=0:Z.push("ofs="+N);let Ge=!0;for(let mt=0;mt<f;mt++){let Me=V[mt].g;const It=V[mt].map;if(Me-=N,0>Me)N=Math.max(0,V[mt].g-100),Ge=!1;else try{ng(It,Z,"req"+Me+"_")}catch{g&&g(It)}}if(Ge){g=Z.join("&");break e}}}return a=a.i.splice(0,f),u.D=a,g}function Nu(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;Ae||Tt(),Ce||(Ae(),Ce=!0),Lt.add(u,a),a.v=0}}function xa(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=te(m(a.Fa,a),Uu(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=te(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,C(10),Ki(this),Mu(this))};function Va(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Mu(a){a.g=new Wn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=An(a.qa);Qe(u,"RID","rpc"),Qe(u,"SID",a.K),Qe(u,"AID",a.T),Qe(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Qe(u,"TO",a.ja),Qe(u,"TYPE","xmlhttp"),Fs(a,u),a.m&&a.o&&Pa(u,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=zi(An(u)),f.m=null,f.P=!0,uu(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Ki(this),xa(this),C(19))};function Qi(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Fu(a,u){var f=null;if(a.g==u){Qi(a),Va(a),a.g=null;var g=2}else if(Ca(a.h,u))f=u.D,mu(a.h,u),g=1;else return;if(a.G!=0){if(u.o)if(g==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var V=a.B;g=T(),de(g,new z(g,f)),Wi(a)}else Nu(a);else if(V=u.s,V==3||V==0&&0<u.X||!(g==1&&og(a,u)||g==2&&xa(a)))switch(f&&0<f.length&&(u=a.h,u.i=u.i.concat(f)),V){case 1:Er(a,5);break;case 4:Er(a,10);break;case 3:Er(a,6);break;default:Er(a,2)}}}function Uu(a,u){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*u}function Er(a,u){if(a.j.info("Error code "+u),u==2){var f=m(a.fb,a),g=a.Xa;const V=!g;g=new wr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$i(g,"https"),zi(g),V?Z1(g.toString(),f):eg(g.toString(),f)}else C(2);a.G=0,a.l&&a.l.sa(u),Bu(a),Du(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),C(2)):(this.j.info("Failed to ping google.com"),C(1))};function Bu(a){if(a.G=0,a.ka=[],a.l){const u=_u(a.h);(u.length!=0||a.i.length!=0)&&(U(a.ka,u),U(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function $u(a,u,f){var g=f instanceof wr?An(f):new wr(f);if(g.g!="")u&&(g.g=u+"."+g.g),ji(g,g.s);else{var V=c.location;g=V.protocol,u=u?u+"."+V.hostname:V.hostname,V=+V.port;var N=new wr(null);g&&$i(N,g),u&&(N.g=u),V&&ji(N,V),f&&(N.l=f),g=N}return f=a.D,u=a.ya,f&&u&&Qe(g,f,u),Qe(g,"VER",a.la),Fs(a,g),g}function ju(a,u,f){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new et(new qi({eb:f})):new et(a.pa),u.Ha(a.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}t=zu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yi(){}Yi.prototype.g=function(a,u){return new jt(a,u)};function jt(a,u){ae.call(this),this.g=new Vu(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!j(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!j(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new zr(this)}D(jt,ae),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){ka(this.g)},jt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Kn(a),a=f);u.i.push(new z1(u.Ya++,a)),u.G==3&&Wi(u)},jt.prototype.N=function(){this.g.l=null,delete this.j,ka(this.g),delete this.g,jt.aa.N.call(this)};function qu(a){vr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(const f in u){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}D(qu,vr);function Gu(){ks.call(this),this.status=1}D(Gu,ks);function zr(a){this.g=a}D(zr,zu),zr.prototype.ua=function(){de(this.g,"a")},zr.prototype.ta=function(a){de(this.g,new qu(a))},zr.prototype.sa=function(a){de(this.g,new Gu)},zr.prototype.ra=function(){de(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,mp=function(){return new Yi},gp=function(){return T()},pp=Sn,Cc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,vo=ke,gt.COMPLETE="complete",fp=gt,Fi.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Gs=Fi,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,dp=et}).apply(typeof io<"u"?io:typeof self<"u"?self:typeof window<"u"?window:{});const Zh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new pl("@firebase/firestore");function js(){return Or.logLevel}function ue(t,...e){if(Or.logLevel<=Ve.DEBUG){const n=e.map(Rl);Or.debug(`Firestore (${As}): ${t}`,...n)}}function jn(t,...e){if(Or.logLevel<=Ve.ERROR){const n=e.map(Rl);Or.error(`Firestore (${As}): ${t}`,...n)}}function ps(t,...e){if(Or.logLevel<=Ve.WARN){const n=e.map(Rl);Or.warn(`Firestore (${As}): ${t}`,...n)}}function Rl(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+t;throw jn(e),new Error(e)}function ze(t,e){t||ve()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class j3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z3{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},c=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new _p(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ct(e)}}class q3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new q3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new H3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=W3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function gs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ut(0,0))}static max(){return new ye(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends fi{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends fi{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new fe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new fe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new fe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}function Y3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new dr(s,pe.empty(),e)}function J3(t){return new dr(t.readTime,t.key,-1)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(ye.min(),pe.empty(),-1)}static max(){return new dr(ye.max(),pe.empty(),-1)}}function X3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Z3)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const h=l;n(e[h]).next(d=>{o[h]=d,++c,c===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function t4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pl.oe=-1;function da(t){return t==null}function Bo(t){return t===0&&1/t==-1/0}function n4(t){return typeof t=="number"&&Number.isInteger(t)&&!Bo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oo(this.root,e,this.comparator,!0)}}class oo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new td(this.data.getIterator())}getIteratorFrom(e){return new td(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class td{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new on([])}unionWith(e){let n=new yt(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wp("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const r4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(ze(!!t),typeof t=="string"){let e=0;const n=r4.exec(t);if(ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xl(t){const e=t.mapValue.fields.__previous_value__;return kl(e)?xl(e):e}function pi(t){const e=fr(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,s,i,o,c,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h}}class gi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kl(t)?4:o4(t)?9007199254740991:i4(t)?10:11:ve()}function bn(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pi(t).isEqual(pi(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=fr(s.timestampValue),c=fr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Nr(s.bytesValue).isEqual(Nr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),c=nt(i.doubleValue);return o===c?Bo(o)===Bo(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return gs(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(ed(o)!==ed(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!bn(o[l],c[l])))return!1;return!0}(t,e);default:return ve()}}function mi(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function ms(t,e){if(t===e)return 0;const n=Mr(t),r=Mr(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return nd(t.timestampValue,e.timestampValue);case 4:return nd(pi(t),pi(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,o){const c=Nr(i),l=Nr(o);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),l=o.split("/");for(let h=0;h<c.length&&h<l.length;h++){const d=Fe(c[h],l[h]);if(d!==0)return d}return Fe(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Fe(nt(i.latitude),nt(o.latitude));return c!==0?c:Fe(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rd(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,l,h,d;const p=i.fields||{},m=o.fields||{},v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,D=(l=m.value)===null||l===void 0?void 0:l.arrayValue,O=Fe(((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0,((d=D==null?void 0:D.values)===null||d===void 0?void 0:d.length)||0);return O!==0?O:rd(v,D)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ao.mapValue&&o===ao.mapValue)return 0;if(i===ao.mapValue)return 1;if(o===ao.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),h=o.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const m=Fe(l[p],d[p]);if(m!==0)return m;const v=ms(c[l[p]],h[d[p]]);if(v!==0)return v}return Fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ve()}}function nd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=fr(t),r=fr(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function rd(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ms(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function _s(t){return Rc(t)}function Rc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Rc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Rc(n.fields[o])}`;return s+"}"}(t.mapValue):ve()}function Pc(t){return!!t&&"integerValue"in t}function Vl(t){return!!t&&"arrayValue"in t}function sd(t){return!!t&&"nullValue"in t}function id(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yo(t){return!!t&&"mapValue"in t}function i4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ti(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ti(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ti(t.arrayValue.values[n]);return e}return Object.assign({},t)}function o4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ti(n)}setAll(e){let n=vt.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=ti(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());yo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];yo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Yt(ti(this.value))}}function Ep(t){const e=[];return Cs(t.fields,(n,r)=>{const s=new vt([n]);if(yo(r)){const i=Ep(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Pt(e,0,ye.min(),ye.min(),ye.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,s){return new Pt(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new Pt(e,2,n,ye.min(),ye.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,ye.min(),ye.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.position=e,this.inclusive=n}}function od(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=ms(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ad(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n="asc"){this.field=e,this.dir=n}}function a4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{}class lt extends Tp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l4(e,n,r):n==="array-contains"?new d4(e,r):n==="in"?new f4(e,r):n==="not-in"?new p4(e,r):n==="array-contains-any"?new g4(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u4(e,r):new h4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ms(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends Tp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new In(e,n)}matches(e){return bp(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bp(t){return t.op==="and"}function Ip(t){return c4(t)&&bp(t)}function c4(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function kc(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+_s(t.value);if(Ip(t))return t.filters.map(e=>kc(e)).join(",");{const e=t.filters.map(n=>kc(n)).join(",");return`${t.op}(${e})`}}function Sp(t,e){return t instanceof lt?function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&bn(r.value,s.value)}(t,e):t instanceof In?function(r,s){return s instanceof In&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&Sp(o,s.filters[c]),!0):!1}(t,e):void ve()}function Ap(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(Ap).join(" ,")+"}"}(t):"Filter"}class l4 extends lt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class u4 extends lt{constructor(e,n){super(e,"in",n),this.keys=Cp("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class h4 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=Cp("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cp(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class d4 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vl(n)&&mi(n.arrayValue,this.value)}}class f4 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mi(this.value.arrayValue,n)}}class p4 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!mi(this.value.arrayValue,n)}}class g4 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.ue=null}}function cd(t,e=null,n=[],r=[],s=null,i=null,o=null){return new m4(t,e,n,r,s,i,o)}function Dl(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),da(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_s(r)).join(",")),e.ue=n}return e.ue}function Ll(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Sp(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ad(t.startAt,e.startAt)&&ad(t.endAt,e.endAt)}function xc(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _4(t,e,n,r,s,i,o,c){return new fa(t,e,n,r,s,i,o,c)}function Ol(t){return new fa(t)}function ld(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v4(t){return t.collectionGroup!==null}function ni(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new yt(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new jo(i,r))}),n.has(vt.keyField().canonicalString())||e.ce.push(new jo(vt.keyField(),r))}return e.ce}function vn(t){const e=Ee(t);return e.le||(e.le=y4(e,ni(t))),e.le}function y4(t,e){if(t.limitType==="F")return cd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new jo(s.field,i)});const n=t.endAt?new $o(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $o(t.startAt.position,t.startAt.inclusive):null;return cd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vc(t,e,n){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pa(t,e){return Ll(vn(t),vn(e))&&t.limitType===e.limitType}function Rp(t){return`${Dl(vn(t))}|lt:${t.limitType}`}function Yr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Ap(s)).join(", ")}]`),da(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_s(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_s(s)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function ga(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ni(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,l){const h=od(o,c,l);return o.inclusive?h<=0:h<0}(r.startAt,ni(r),s)||r.endAt&&!function(o,c,l){const h=od(o,c,l);return o.inclusive?h>=0:h>0}(r.endAt,ni(r),s))}(t,e)}function w4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pp(t){return(e,n)=>{let r=!1;for(const s of ni(t)){const i=E4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function E4(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(i,o,c){const l=o.data.field(i),h=c.data.field(i);return l!==null&&h!==null?ms(l,h):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new Ze(pe.comparator);function zn(){return T4}const kp=new Ze(pe.comparator);function Hs(...t){let e=kp;for(const n of t)e=e.insert(n.key,n);return e}function xp(t){let e=kp;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return ri()}function Vp(){return ri()}function ri(){return new Rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const b4=new Ze(pe.comparator),I4=new yt(pe.comparator);function xe(...t){let e=I4;for(const n of t)e=e.add(n);return e}const S4=new yt(Fe);function A4(){return S4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function Dp(t){return{integerValue:""+t}}function C4(t,e){return n4(e)?Dp(e):Nl(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this._=void 0}}function R4(t,e,n){return t instanceof zo?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&kl(i)&&(i=xl(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof _i?Op(t,e):t instanceof vi?Np(t,e):function(s,i){const o=Lp(s,i),c=ud(o)+ud(s.Pe);return Pc(o)&&Pc(s.Pe)?Dp(c):Nl(s.serializer,c)}(t,e)}function P4(t,e,n){return t instanceof _i?Op(t,e):t instanceof vi?Np(t,e):n}function Lp(t,e){return t instanceof qo?function(r){return Pc(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class zo extends ma{}class _i extends ma{constructor(e){super(),this.elements=e}}function Op(t,e){const n=Mp(e);for(const r of t.elements)n.some(s=>bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class vi extends ma{constructor(e){super(),this.elements=e}}function Np(t,e){let n=Mp(e);for(const r of t.elements)n=n.filter(s=>!bn(s,r));return{arrayValue:{values:n}}}class qo extends ma{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ud(t){return nt(t.integerValue||t.doubleValue)}function Mp(t){return Vl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function k4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _i&&s instanceof _i||r instanceof vi&&s instanceof vi?gs(r.elements,s.elements,bn):r instanceof qo&&s instanceof qo?bn(r.Pe,s.Pe):r instanceof zo&&s instanceof zo}(t.transform,e.transform)}class x4{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _a{}function Fp(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bp(t.key,Un.none()):new Di(t.key,t.data,Un.none());{const n=t.data,r=Yt.empty();let s=new yt(vt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Br(t.key,r,new on(s.toArray()),Un.none())}}function V4(t,e,n){t instanceof Di?function(s,i,o){const c=s.value.clone(),l=dd(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Br?function(s,i,o){if(!wo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=dd(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Up(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function si(t,e,n,r){return t instanceof Di?function(i,o,c,l){if(!wo(i.precondition,o))return c;const h=i.value.clone(),d=fd(i.fieldTransforms,l,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Br?function(i,o,c,l){if(!wo(i.precondition,o))return c;const h=fd(i.fieldTransforms,l,o),d=o.data;return d.setAll(Up(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,c){return wo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function D4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Lp(r.transform,s||null);i!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,i))}return n||null}function hd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gs(r,s,(i,o)=>k4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Di extends _a{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Br extends _a{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Up(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dd(t,e,n){const r=new Map;ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,P4(o,c,n[s]))}return r}function fd(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,R4(i,o,e))}return r}class Bp extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L4 extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&V4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=si(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=si(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vp();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const l=Fp(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(n,r)=>hd(n,r))&&gs(this.baseMutations,e.baseMutations,(n,r)=>hd(n,r))}}class Ml{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length);let s=function(){return b4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ml(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Le;function F4(t){switch(t){default:return ve();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function $p(t){if(t===void 0)return jn("GRPC error has no .code"),K.UNKNOWN;switch(t){case st.OK:return K.OK;case st.CANCELLED:return K.CANCELLED;case st.UNKNOWN:return K.UNKNOWN;case st.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case st.INTERNAL:return K.INTERNAL;case st.UNAVAILABLE:return K.UNAVAILABLE;case st.UNAUTHENTICATED:return K.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case st.NOT_FOUND:return K.NOT_FOUND;case st.ALREADY_EXISTS:return K.ALREADY_EXISTS;case st.PERMISSION_DENIED:return K.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case st.ABORTED:return K.ABORTED;case st.OUT_OF_RANGE:return K.OUT_OF_RANGE;case st.UNIMPLEMENTED:return K.UNIMPLEMENTED;case st.DATA_LOSS:return K.DATA_LOSS;default:return ve()}}(Le=st||(st={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new kr([4294967295,4294967295],0);function pd(t){const e=U4().encode(t),n=new hp;return n.update(e),new Uint8Array(n.digest())}function gd(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new kr([n,r],0),new kr([s,i],0)]}class Fl{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ks(`Invalid padding: ${n}`);if(r<0)throw new Ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ks(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=kr.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(kr.fromNumber(r)));return s.compare(B4)===1&&(s=new kr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=pd(e),[r,s]=gd(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Fl(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;const n=pd(e),[r,s]=gd(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Li.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new va(ye.min(),s,new Ze(Fe),zn(),xe())}}class Li{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Li(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class jp{constructor(e,n){this.targetId=e,this.me=n}}class zp{constructor(e,n,r=Et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class md{constructor(){this.fe=0,this.ge=vd(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ve()}}),new Li(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=vd()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $4{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=_d(),this.Qe=new Ze(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(xc(i))if(r===0){const o=new pe(i.path);this.Ue(n,o,Pt.newNoDocument(o,ye.min()))}else ze(r===1);else{const o=this.Ye(n);if(o!==r){const c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Nr(r).toUint8Array()}catch(l){if(l instanceof wp)return ps("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Fl(o,s,i)}catch(l){return ps(l instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const c=this.Je(o);if(c){if(i.current&&xc(c.target)){const l=new pe(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Pt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=xe();this.qe.forEach((i,o)=>{let c=!0;o.forEachWhile(l=>{const h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new va(e,n,this.Qe,this.ke,r);return this.ke=zn(),this.qe=_d(),this.Qe=new Ze(Fe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new md,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new md),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _d(){return new Ze(pe.comparator)}function vd(){return new Ze(pe.comparator)}const j4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"};class G4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dc(t,e){return t.useProto3Json||da(e)?e:{value:e}}function Go(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qp(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H4(t,e){return Go(t,e.toTimestamp())}function yn(t){return ze(!!t),ye.fromTimestamp(function(n){const r=fr(n);return new ut(r.seconds,r.nanos)}(t))}function Ul(t,e){return Lc(t,e).canonicalString()}function Lc(t,e){const n=function(s){return new tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gp(t){const e=tt.fromString(t);return ze(Yp(e)),e}function Oc(t,e){return Ul(t.databaseId,e.path)}function Za(t,e){const n=Gp(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(Kp(n))}function Hp(t,e){return Ul(t.databaseId,e)}function K4(t){const e=Gp(t);return e.length===4?tt.emptyPath():Kp(e)}function Nc(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kp(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yd(t,e,n){return{name:Oc(t,e),fields:n.value.mapValue.fields}}function W4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(ze(d===void 0||typeof d=="string"),Et.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const d=h.code===void 0?K.UNKNOWN:$p(h.code);return new fe(d,h.message||"")}(o);n=new zp(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Za(t,r.document.name),i=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):ye.min(),c=new Yt({mapValue:{fields:r.document.fields}}),l=Pt.newFoundDocument(s,i,o,c),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Eo(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Za(t,r.document),i=r.readTime?yn(r.readTime):ye.min(),o=Pt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Eo([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Za(t,r.document),i=r.removedTargetIds||[];n=new Eo([],i,s,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new M4(s,i),c=r.targetId;n=new jp(c,o)}}return n}function Q4(t,e){let n;if(e instanceof Di)n={update:yd(t,e.key,e.value)};else if(e instanceof Bp)n={delete:Oc(t,e.key)};else if(e instanceof Br)n={update:yd(t,e.key,e.data),updateMask:sw(e.fieldMask)};else{if(!(e instanceof L4))return ve();n={verify:Oc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof zo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _i)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qo)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:H4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()}(t,e.precondition)),n}function Y4(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?yn(s.updateTime):yn(i);return o.isEqual(ye.min())&&(o=yn(i)),new x4(o,s.transformResults||[])}(n,e))):[]}function J4(t,e){return{documents:[Hp(t,e.path)]}}function X4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hp(t,s);const i=function(h){if(h.length!==0)return Qp(In.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Jr(m.field),direction:tw(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Dc(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:s}}function Z4(t){let e=K4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const m=Wp(p);return m instanceof In&&Ip(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(D){return new jo(Xr(D.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,da(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(p){const m=!!p.before,v=p.values||[];return new $o(v,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,v=p.values||[];return new $o(v,m)}(n.endAt)),_4(e,s,o,i,c,"F",l,h)}function ew(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wp(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xr(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xr(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xr(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xr(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Xr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>Wp(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function tw(t){return j4[t]}function nw(t){return z4[t]}function rw(t){return q4[t]}function Jr(t){return{fieldPath:t.canonicalString()}}function Xr(t){return vt.fromServerFormat(t.fieldPath)}function Qp(t){return t instanceof lt?function(n){if(n.op==="=="){if(id(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NAN"}};if(sd(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(id(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NOT_NAN"}};if(sd(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jr(n.field),op:nw(n.op),value:n.value}}}(t):t instanceof In?function(n){const r=n.getFilters().map(s=>Qp(s));return r.length===1?r[0]:{compositeFilter:{op:rw(n.op),filters:r}}}(t):ve()}function sw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yp(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,r,s,i=ye.min(),o=ye.min(),c=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.ct=e}}function ow(t){const e=Z4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.un=new cw}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(dr.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class cw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yt(tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vs(0)}static kn(){return new vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&si(r.mutation,s,on.empty(),ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Cr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Hs();return i.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=zn();const o=ri(),c=function(){return ri()}();return n.forEach((l,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof Br)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),si(d.mutation,h,d.mutation.getFieldMask(),ut.now())):o.set(h.key,on.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var p;return c.set(h,new uw(d,(p=o.get(h))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ri();let s=new Ze((o,c)=>o-c),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||on.empty();d=c.applyToLocalView(h,d),r.set(l,d);const p=(s.get(c.batchId)||xe()).add(l);s=s.insert(c.batchId,p)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),h=l.key,d=l.value,p=Vp();d.forEach(m=>{if(!i.has(m)){const v=Fp(n.get(m),r.get(m));v!==null&&p.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Cr());let c=-1,l=i;return o.next(h=>q.forEach(h,(d,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,l,h,xe())).next(d=>({batchId:c,changes:xp(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let s=Hs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Hs();return this.indexManager.getCollectionParents(e,i).next(c=>q.forEach(c,l=>{const h=function(p,m){return new fa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,Pt.newInvalidDocument(d)))});let c=Hs();return o.forEach((l,h)=>{const d=i.get(l);d!==void 0&&si(d.mutation,h,on.empty(),ut.now()),ga(n,h)&&(c=c.insert(l,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yn(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:ow(s.bundledQuery),readTime:yn(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.overlays=new Ze(pe.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Cr(),i=n.length+1,o=new pe(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ze((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Cr(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const c=Cr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>c.set(h,d)),!(c.size()>=s)););return q.resolve(c)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new N4(n,r));let i=this.Ir.get(n);i===void 0&&(i=xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.Tr=new yt(dt.Er),this.dr=new yt(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new tt([])),r=new dt(n,e),s=new dt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new tt([])),r=new dt(n,e),s=new dt(n,e+1);let i=xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||Fe(e.wr,n.wr)}static Ar(e,n){return Fe(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(dt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new O4(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.br=this.br.add(new dt(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),s=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const c=this.Dr(o.wr);i.push(c)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Fe);return n.forEach(s=>{const i=new dt(s,0),o=new dt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],c=>{r=r.add(c.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const o=new dt(new pe(i),0);let c=new yt(Fe);return this.br.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(l.wr)),!0)},o),q.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new dt(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.Mr=e,this.docs=function(){return new Ze(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Pt.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zn();const o=n.path,c=new pe(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||X3(J3(d),r)<=0||(s.has(d.key)||ga(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ve()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _w(this)}getSize(e){return q.resolve(this.size)}}class _w extends lw{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.persistence=e,this.Nr=new Rs(n=>Dl(n),Ll),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bl,this.targetCount=0,this.kr=vs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Pl(0),this.Kr=!1,this.Kr=!0,this.$r=new pw,this.referenceDelegate=e(this),this.Ur=new vw(this),this.indexManager=new aw,this.remoteDocumentCache=function(s){return new mw(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new iw(n),this.Gr=new dw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new ww(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ww extends e4{constructor(e){super(),this.currentSequenceNumber=e}}class $l{constructor(e){this.persistence=e,this.Jr=new Bl,this.Yr=null}static Zr(e){return new $l(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=pe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jl(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return I_()?8:t4(Dt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Ew;return this.Xi(e,n,o).next(c=>{if(i.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(js()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Yr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(js()<=Ve.DEBUG&&ue("QueryEngine","Query:",Yr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(js()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Yr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):q.resolve())}Yi(e,n){if(ld(n))return q.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vc(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ts(n,c);return this.ns(n,h,o,l.readTime)?this.Yi(e,Vc(n,null,"F")):this.rs(e,h,n,l)}))})))}Zi(e,n,r,s){return ld(n)||s.isEqual(ye.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?q.resolve(null):(js()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yr(n)),this.rs(e,o,n,Y3(s,-1)).next(c=>c))})}ts(e,n){let r=new yt(Pp(e));return n.forEach((s,i)=>{ga(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return js()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Yr(n)),this.Ji.getDocumentsMatchingQuery(e,n,dr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ze(Fe),this._s=new Rs(i=>Dl(i),Ll),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Iw(t,e,n,r){return new bw(t,e,n,r)}async function Jp(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let l=xe();for(const h of s){o.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of i){c.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:c}))})})}function Sw(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,h,d){const p=h.batch,m=p.keys();let v=q.resolve();return m.forEach(D=>{v=v.next(()=>d.getEntry(l,D)).next(O=>{const U=h.docVersions.get(D);ze(U!==null),O.version.compareTo(U)<0&&(p.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),d.addEntry(O)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=xe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Xp(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Aw(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const c=[];e.targetChanges.forEach((d,p)=>{const m=s.get(p);if(!m)return;c.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,p)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Et.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(p,v),function(O,U,$){return O.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(m,v,d)&&c.push(n.Ur.updateTargetData(i,v))});let l=zn(),h=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),c.push(Cw(i,o,e.documentUpdates).next(d=>{l=d.Ps,h=d.Is})),!r.isEqual(ye.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(d)}return q.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,h)).next(()=>l)}).then(i=>(n.os=s,i))}function Cw(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=zn();return n.forEach((c,l)=>{const h=i.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):ue("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Rw(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pw(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Mc(t,e,n){const r=Ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vi(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function wd(t,e,n){const r=Ee(t);let s=ye.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,d){const p=Ee(l),m=p._s.get(d);return m!==void 0?q.resolve(p.os.get(m)):p.Ur.getTargetData(h,d)}(r,o,vn(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ye.min(),n?i:xe())).next(c=>(kw(r,w4(e),c),{documents:c,Ts:i})))}function kw(t,e,n){let r=t.us.get(e)||ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Ed{constructor(){this.activeTargetIds=A4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xw{constructor(){this.so=new Ed,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ed,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co=null;function ec(){return co===null?co=function(){return 268435456+Math.round(2147483648*Math.random())}():co++,"0x"+co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class Ow extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const c=ec(),l=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${c}:`,l,s);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,i,o),this.No(n,l,h,s).then(d=>(ue("RestConnection",`Received RPC '${n}' ${c}: `,d),d),d=>{throw ps("RestConnection",`RPC '${n}' ${c} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,c){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Dw[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=ec();return new Promise((o,c)=>{const l=new dp;l.setWithCredentials(!0),l.listenOnce(fp.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vo.NO_ERROR:const d=l.getResponseJson();ue(At,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case vo.TIMEOUT:ue(At,`RPC '${e}' ${i} timed out`),c(new fe(K.DEADLINE_EXCEEDED,"Request time out"));break;case vo.HTTP_ERROR:const p=l.getStatus();if(ue(At,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const D=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf($)>=0?$:K.UNKNOWN}(v.status);c(new fe(D,v.message))}else c(new fe(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new fe(K.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ue(At,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);ue(At,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",h,r,15)})}Bo(e,n,r){const s=ec(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mp(),c=gp(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ue(At,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);let m=!1,v=!1;const D=new Lw({Io:U=>{v?ue(At,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(m||(ue(At,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),ue(At,`RPC '${e}' stream ${s} sending:`,U),p.send(U))},To:()=>p.close()}),O=(U,$,j)=>{U.listen($,W=>{try{j(W)}catch(Y){setTimeout(()=>{throw Y},0)}})};return O(p,Gs.EventType.OPEN,()=>{v||(ue(At,`RPC '${e}' stream ${s} transport opened.`),D.yo())}),O(p,Gs.EventType.CLOSE,()=>{v||(v=!0,ue(At,`RPC '${e}' stream ${s} transport closed`),D.So())}),O(p,Gs.EventType.ERROR,U=>{v||(v=!0,ps(At,`RPC '${e}' stream ${s} transport errored:`,U),D.So(new fe(K.UNAVAILABLE,"The operation could not be completed")))}),O(p,Gs.EventType.MESSAGE,U=>{var $;if(!v){const j=U.data[0];ze(!!j);const W=j,Y=W.error||(($=W[0])===null||$===void 0?void 0:$.error);if(Y){ue(At,`RPC '${e}' stream ${s} received error:`,Y);const ge=Y.status;let Ie=function(b){const A=st[b];if(A!==void 0)return $p(A)}(ge),S=Y.message;Ie===void 0&&(Ie=K.INTERNAL,S="Unknown error status: "+ge+" with message "+Y.message),v=!0,D.So(new fe(Ie,S)),p.close()}else ue(At,`RPC '${e}' stream ${s} received:`,j),D.bo(j)}}),O(c,pp.STAT_EVENT,U=>{U.stat===Cc.PROXY?ue(At,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Cc.NOPROXY&&ue(At,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function tc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){return new G4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,r,s,i,o,c,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Zp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(jn(n.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new fe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nw extends e1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=W4(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?yn(o.readTime):ye.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nc(this.serializer),n.addTarget=function(i,o){let c;const l=o.target;if(c=xc(l)?{documents:J4(i,l)}:{query:X4(i,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=qp(i,o.resumeToken);const h=Dc(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ye.min())>0){c.readTime=Go(i,o.snapshotVersion.toTimestamp());const h=Dc(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=ew(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nc(this.serializer),n.removeTarget=e,this.a_(n)}}class Mw extends e1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Y4(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nc(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Q4(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Lc(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(K.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Lc(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Uw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jn(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{$r(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=Ee(l);h.L_.add(4),await Oi(h),h.q_.set("Unknown"),h.L_.delete(4),await wa(h)}(this))})}),this.q_=new Uw(r,s)}}async function wa(t){if($r(t))for(const e of t.B_)await e(!0)}async function Oi(t){for(const e of t.B_)await e(!1)}function t1(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hl(n)?Gl(n):Ps(n).r_()&&ql(n,e))}function zl(t,e){const n=Ee(t),r=Ps(n);n.N_.delete(e),r.r_()&&n1(n,e),n.N_.size===0&&(r.r_()?r.o_():$r(n)&&n.q_.set("Unknown"))}function ql(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).A_(e)}function n1(t,e){t.Q_.xe(e),Ps(t).R_(e)}function Gl(t){t.Q_=new $4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.q_.v_()}function Hl(t){return $r(t)&&!Ps(t).n_()&&t.N_.size>0}function $r(t){return Ee(t).L_.size===0}function r1(t){t.Q_=void 0}async function $w(t){t.q_.set("Online")}async function jw(t){t.N_.forEach((e,n)=>{ql(t,e)})}async function zw(t,e){r1(t),Hl(t)?(t.q_.M_(e),Gl(t)):t.q_.set("Unknown")}async function qw(t,e,n){if(t.q_.set("Online"),e instanceof zp&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.N_.delete(c),s.Q_.removeTarget(c))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ho(t,r)}else if(e instanceof Eo?t.Q_.Ke(e):e instanceof jp?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ye.min()))try{const r=await Xp(t.localStore);n.compareTo(r)>=0&&await function(i,o){const c=i.Q_.rt(o);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(h);d&&i.N_.set(h,d.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,h)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),n1(i,l);const p=new or(d.target,l,h,d.sequenceNumber);ql(i,p)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Ho(t,r)}}async function Ho(t,e,n){if(!Vi(e))throw e;t.L_.add(1),await Oi(t),t.q_.set("Offline"),n||(n=()=>Xp(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wa(t)})}function s1(t,e){return e().catch(n=>Ho(t,n,e))}async function Ea(t){const e=Ee(t),n=pr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Gw(e);)try{const s=await Rw(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Hw(e,s)}catch(s){await Ho(e,s)}i1(e)&&o1(e)}function Gw(t){return $r(t)&&t.O_.length<10}function Hw(t,e){t.O_.push(e);const n=pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function i1(t){return $r(t)&&!pr(t).n_()&&t.O_.length>0}function o1(t){pr(t).start()}async function Kw(t){pr(t).p_()}async function Ww(t){const e=pr(t);for(const n of t.O_)e.m_(n.mutations)}async function Qw(t,e,n){const r=t.O_.shift(),s=Ml.from(r,e,n);await s1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ea(t)}async function Yw(t,e){e&&pr(t).V_&&await async function(r,s){if(function(o){return F4(o)&&o!==K.ABORTED}(s.code)){const i=r.O_.shift();pr(r).s_(),await s1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ea(r)}}(t,e),i1(t)&&o1(t)}async function bd(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=$r(n);n.L_.add(3),await Oi(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wa(n)}async function Jw(t,e){const n=Ee(t);e?(n.L_.delete(2),await wa(n)):e||(n.L_.add(2),await Oi(n),n.q_.set("Unknown"))}function Ps(t){return t.K_||(t.K_=function(n,r,s){const i=Ee(n);return i.w_(),new Nw(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:$w.bind(null,t),Ro:jw.bind(null,t),mo:zw.bind(null,t),d_:qw.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hl(t)?Gl(t):t.q_.set("Unknown")):(await t.K_.stop(),r1(t))})),t.K_}function pr(t){return t.U_||(t.U_=function(n,r,s){const i=Ee(n);return i.w_(),new Mw(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Kw.bind(null,t),mo:Yw.bind(null,t),f_:Ww.bind(null,t),g_:Qw.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ea(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new Kl(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wl(t,e){if(jn("AsyncQueue",`${e}: ${t}`),Vi(t))return new fe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Hs(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.W_=new Ze(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ys{constructor(e,n,r,s,i,o,c,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new ys(e,n,us.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Zw{constructor(){this.queries=Sd(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=Sd(),i.forEach((o,c)=>{for(const l of c.j_)l.onError(r)})})(this,new fe(K.ABORTED,"Firestore shutting down"))}}function Sd(){return new Rs(t=>Rp(t),pa)}async function e5(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Xw,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=Wl(o,`Initialization of query '${Yr(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Ql(n)}async function t5(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function n5(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.j_)c.X_(s)&&(r=!0);o.z_=s}}r&&Ql(n)}function r5(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Ql(t){t.Y_.forEach(e=>{e.next()})}var Fc,Ad;(Ad=Fc||(Fc={})).ea="default",Ad.Cache="cache";class s5{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.key=e}}class c1{constructor(e){this.key=e}}class i5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=Pp(e),this.Ra=new us(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Id,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const m=s.get(d),v=ga(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),O=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let U=!1;m&&v?m.data.isEqual(v.data)?D!==O&&(r.track({type:3,doc:v}),U=!0):this.ga(m,v)||(r.track({type:2,doc:v}),U=!0,(l&&this.Aa(v,l)>0||h&&this.Aa(v,h)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),U=!0):m&&!v&&(r.track({type:1,doc:m}),U=!0,(l||h)&&(c=!0)),U&&(v?(o=o.add(v),i=O?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:c,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(v,D){const O=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return O(v)-O(D)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),s=s!=null&&s;const c=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new ys(this.query,e.Ra,i,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Id,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new c1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new a1(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ys.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class o5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a5{constructor(e){this.key=e,this.va=!1}}class c5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Rs(c=>Rp(c),pa),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(pe.comparator),this.Na=new Map,this.La=new Bl,this.Ba={},this.ka=new Map,this.qa=vs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function l5(t,e,n=!0){const r=p1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await l1(r,e,n,!0),s}async function u5(t,e){const n=p1(t);await l1(n,e,!0,!1)}async function l1(t,e,n,r){const s=await Pw(t.localStore,vn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await h5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&t1(t.remoteStore,s),c}async function h5(t,e,n,r,s){t.Ka=(p,m,v)=>async function(O,U,$,j){let W=U.view.ma($);W.ns&&(W=await wd(O.localStore,U.query,!1).then(({documents:S})=>U.view.ma(S,W)));const Y=j&&j.targetChanges.get(U.targetId),ge=j&&j.targetMismatches.get(U.targetId)!=null,Ie=U.view.applyChanges(W,O.isPrimaryClient,Y,ge);return Rd(O,U.targetId,Ie.wa),Ie.snapshot}(t,p,m,v);const i=await wd(t.localStore,e,!0),o=new i5(e,i.Ts),c=o.ma(i.documents),l=Li.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,l);Rd(t,n,h.wa);const d=new o5(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function d5(t,e,n){const r=Ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!pa(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Mc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zl(r.remoteStore,s.targetId),Uc(r,s.targetId)}).catch(xi)):(Uc(r,s.targetId),await Mc(r.localStore,s.targetId,!0))}async function f5(t,e){const n=Ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zl(n.remoteStore,r.targetId))}async function p5(t,e,n){const r=E5(t);try{const s=await function(o,c){const l=Ee(o),h=ut.now(),d=c.reduce((v,D)=>v.add(D.key),xe());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=zn(),O=xe();return l.cs.getEntries(v,d).next(U=>{D=U,D.forEach(($,j)=>{j.isValidDocument()||(O=O.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,D)).next(U=>{p=U;const $=[];for(const j of c){const W=D4(j,p.get(j.key).overlayedDocument);W!=null&&$.push(new Br(j.key,W,Ep(W.value.mapValue),Un.exists(!0)))}return l.mutationQueue.addMutationBatch(v,h,$,c)}).next(U=>{m=U;const $=U.applyToLocalDocumentSet(p,O);return l.documentOverlayCache.saveOverlays(v,U.batchId,$)})}).then(()=>({batchId:m.batchId,changes:xp(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,l){let h=o.Ba[o.currentUser.toKey()];h||(h=new Ze(Fe)),h=h.insert(c,l),o.Ba[o.currentUser.toKey()]=h}(r,s.batchId,n),await Ni(r,s.changes),await Ea(r.remoteStore)}catch(s){const i=Wl(s,"Failed to persist write");n.reject(i)}}async function u1(t,e){const n=Ee(t);try{const r=await Aw(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ze(o.va):s.removedDocuments.size>0&&(ze(o.va),o.va=!1))}),await Ni(n,r,e)}catch(r){await xi(r)}}function Cd(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const c=o.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const l=Ee(o);l.onlineState=c;let h=!1;l.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(c)&&(h=!0)}),h&&Ql(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g5(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ze(pe.comparator);o=o.insert(i,Pt.newNoDocument(i,ye.min()));const c=xe().add(i),l=new va(ye.min(),new Map,new Ze(Fe),o,c);await u1(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Yl(r)}else await Mc(r.localStore,e,!1).then(()=>Uc(r,e,n)).catch(xi)}async function m5(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await Sw(n.localStore,e);d1(n,r,null),h1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ni(n,s)}catch(s){await xi(s)}}async function _5(t,e,n){const r=Ee(t);try{const s=await function(o,c){const l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,c).next(p=>(ze(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(h,p))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);d1(r,e,n),h1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ni(r,s)}catch(s){await xi(s)}}function h1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function d1(t,e,n){const r=Ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Uc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||f1(t,r)})}function f1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zl(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Yl(t))}function Rd(t,e,n){for(const r of n)r instanceof a1?(t.La.addReference(r.key,e),v5(t,r)):r instanceof c1?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||f1(t,r.key)):ve()}function v5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Yl(t))}function Yl(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new a5(n)),t.Oa=t.Oa.insert(n,r),t1(t.remoteStore,new or(vn(Ol(n.path)),r,"TargetPurposeLimboResolution",Pl.oe))}}async function Ni(t,e,n){const r=Ee(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,l)=>{o.push(r.Ka(l,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(h){s.push(h);const p=jl.Wi(l.targetId,h);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,h){const d=Ee(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(h,m=>q.forEach(m.$i,v=>d.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>q.forEach(m.Ui,v=>d.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Vi(p))throw p;ue("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const v=d.os.get(m),D=v.snapshotVersion,O=v.withLastLimboFreeSnapshotVersion(D);d.os=d.os.insert(m,O)}}}(r.localStore,i))}async function y5(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await Jp(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(c=>{c.forEach(l=>{l.reject(new fe(K.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ni(n,r.hs)}}function w5(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let s=xe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const c=n.Fa.get(o);s=s.unionWith(c.view.Va)}return s}}function p1(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g5.bind(null,e),e.Ca.d_=n5.bind(null,e.eventManager),e.Ca.$a=r5.bind(null,e.eventManager),e}function E5(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_5.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ya(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Iw(this.persistence,new Tw,e.initialUser,this.serializer)}Ga(e){return new yw($l.Zr,this.serializer)}Wa(e){return new xw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class Bc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y5.bind(null,this.syncEngine),await Jw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zw}()}createDatastore(e){const n=ya(e.databaseInfo.databaseId),r=function(i){return new Ow(i)}(e.databaseInfo);return function(i,o,c,l){return new Fw(i,o,c,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new Bw(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Cd(this.syncEngine,n,0),function(){return Td.D()?new Td:new Vw}())}createSyncEngine(e,n){return function(s,i,o,c,l,h,d){const p=new c5(s,i,o,c,l,h);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);ue("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Oi(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bc.provider={build:()=>new Bc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ct.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nc(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Jp(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I5(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bd(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>bd(e.remoteStore,s)),t._onlineComponents=e}async function I5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await nc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),await nc(t,new Ko)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await nc(t,new Ko);return t._offlineComponents}async function g1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await Pd(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await Pd(t,new Bc))),t._onlineComponents}function S5(t){return g1(t).then(e=>e.syncEngine)}async function A5(t){const e=await g1(t),n=e.eventManager;return n.onListen=l5.bind(null,e.syncEngine),n.onUnlisten=d5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f5.bind(null,e.syncEngine),n}function C5(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,l,h){const d=new T5({next:m=>{d.Za(),o.enqueueAndForget(()=>t5(i,p));const v=m.docs.has(c);!v&&m.fromCache?h.reject(new fe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?h.reject(new fe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new s5(Ol(c.path),d,{includeMetadataChanges:!0,_a:!0});return e5(i,p)}(await A5(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e,n){if(!n)throw new fe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P5(t,e,n,r){if(e===!0&&r===!0)throw new fe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xd(t){if(!pe.isDocumentKey(t))throw new fe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jl(t);throw new fe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $3;switch(r.type){case"firstParty":return new G3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kd.get(n);r&&(ue("ComponentProvider","Removing Datastore"),kd.delete(n),r.terminate())}(this),Promise.resolve()}}function k5(t,e,n,r={}){var s;const i=(t=yi(t,Xl))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=Ct.MOCK_USER;else{c=__(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new fe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ct(h)}t._authCredentials=new j3(new _p(c,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class wi extends Zl{constructor(e,n,r){super(e,n,Ol(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new pe(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function x5(t,e,...n){if(t=En(t),arguments.length===1&&(e=vp.newId()),R5("doc","path",e),t instanceof Xl){const r=tt.fromString(e,...n);return xd(r),new Zt(t,null,new pe(r))}{if(!(t instanceof Zt||t instanceof wi))throw new fe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return xd(r),new Zt(t.firestore,t instanceof wi?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Zp(this,"async_queue_retry"),this.Vu=()=>{const r=tc();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=tc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=tc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vi(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw jn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Kl.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class eu extends Xl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Dd,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dd(e),this._firestoreClient=void 0,await e}}}function V5(t,e){const n=typeof t=="object"?t:x0(),r=typeof t=="string"?t:"(default)",s=ml(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=g_("firestore");i&&k5(s,...i)}return s}function _1(t){if(t._terminated)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D5(t),t._firestoreClient}function D5(t){var e,n,r;const s=t._freezeSettings(),i=function(c,l,h,d){return new s4(c,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,m1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new b5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Et.fromBase64String(e))}catch(n){throw new fe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ws(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^__.*__$/;class O5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,n,this.fieldTransforms):new Di(e,this.data,n,this.fieldTransforms)}}function y1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class su{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new su(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wo(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(y1(this.Cu)&&L5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class N5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ya(e)}Qu(e,n,r,s=!1){return new su({Cu:e,methodName:n,qu:r,path:vt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M5(t){const e=t._freezeSettings(),n=ya(t._databaseId);return new N5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F5(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);b1("Data must be an object, but it was:",o,r);const c=E1(r,o);let l,h;if(i.merge)l=new on(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const m=U5(e,p,n);if(!o.contains(m))throw new fe(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);$5(d,m)||d.push(m)}l=new on(d),h=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,h=o.fieldTransforms;return new O5(new Yt(c),l,h)}function w1(t,e){if(T1(t=En(t)))return b1("Unsupported field value:",e,t),E1(t,e);if(t instanceof v1)return function(r,s){if(!y1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let l=w1(c,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ut.fromDate(r);return{timestampValue:Go(s.serializer,i)}}if(r instanceof ut){const i=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Go(s.serializer,i)}}if(r instanceof nu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ws)return{bytesValue:qp(s.serializer,r._byteString)};if(r instanceof Zt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ul(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ru)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return Nl(c.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Jl(r)}`)}(t,e)}function E1(t,e){const n={};return yp(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,s)=>{const i=w1(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function T1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof nu||t instanceof ws||t instanceof Zt||t instanceof v1||t instanceof ru)}function b1(t,e,n){if(!T1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Jl(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function U5(t,e,n){if((e=En(e))instanceof tu)return e._internalPath;if(typeof e=="string")return I1(t,e);throw Wo("Field path arguments must be of type string or ",t,!1,void 0,n)}const B5=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(B5)>=0)throw Wo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tu(...e.split("."))._internalPath}catch{throw Wo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wo(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new fe(K.INVALID_ARGUMENT,c+t+l)}function $5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j5 extends S1{data(){return super.data()}}function A1(t,e){return typeof e=="string"?I1(t,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class z5{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>nt(o.doubleValue));return new ru(i)}convertGeoPoint(e){return new nu(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pi(e));default:return null}}convertTimestamp(e){const n=fr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);ze(Yp(r));const s=new gi(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||jn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C1 extends S1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new H5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class H5 extends C1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){t=yi(t,Zt);const e=yi(t.firestore,eu);return C5(_1(e),t._key).then(n=>J5(e,t,n))}class W5 extends z5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function Q5(t,e,n){t=yi(t,Zt);const r=yi(t.firestore,eu),s=q5(t.converter,e);return Y5(r,[F5(M5(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Un.none())])}function Y5(t,e){return function(r,s){const i=new ur;return r.asyncQueue.enqueueAndForget(async()=>p5(await S5(r),s,i)),i.promise}(_1(t),e)}function J5(t,e,n){const r=n.docs.get(e._key),s=new W5(t);return new C1(t,s,e._key,r,new G5(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){As=s})(Is),ds(new Dr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new eu(new z3(r.getProvider("auth-internal")),new K3(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new fe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gi(h.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),lr(Zh,"4.7.3",e),lr(Zh,"4.7.3","esm2017")})();const X5={apiKey:"AIzaSyC1yRNBfDNJRiBLTlmUvl-pxNrXQrhlCoA",authDomain:"seraphium-5fd68.firebaseapp.com",projectId:"seraphium-5fd68",storageBucket:"seraphium-5fd68.appspot.com",messagingSenderId:"123829673679",appId:"1:123829673679:web:7d1082bf98919a3a1de1ba",measurementId:"G-F0QZBBJ20N"},R1=k0(X5),Z5=U3(R1),e9=new Vn,t9=V5(R1),n9=i_({state:{tutorialSkiped:!1,canChoose:!1,playerProfile:{username:"Undefined",chessShards:0,battleShards:0,level:1,characters:[{charName:"Classic Pawn",charLvl:1}]},skills:[{name:"   ",description:["      14  .","         ."],icon:"/src/assets/Skills/Bonuses/SearchEnemySkills/radar-sweep-svgrepo-com.svg"}],characters:[{name:"Classic Pawn",rarity:3,type:"B",icon:"/src/assets/pieces/white/pawn.svg",chibiIcon:"/src/assets/pieces/white/pawn.svg",description:" a hereditary hatter who runs a small shop. Unlike her relatives, Aellen was always drawn to magic and its unpredictable nature.",skills:[{name:"Remove enemy piece",description:"Remove enemy piece",power:1,skillImg:"/src/assets/Skills/burning-passion-svgrepo-com.svg"},{name:"Rewards and experience increased by",description:"Rewards and experience increased by 1%",power:1}]}],insertedElement:null},mutations:{setCanChoose(t,e){t.canChoose=e},updateProvince(t,e){t.playerProfile.province=e},setInsertedElement(t,e){t.insertedElement=e},setTutorialSkiped(t,e){t.tutorialSkiped=e},setPlayerProfile(t,e){t.playerProfile=e},UPDATE_CHARACTER_TYPE(t,{name:e,newType:n}){const r=t.characters.find(s=>s.name===e);r&&(r.type=n)}},actions:{async loginWithGoogle({commit:t}){try{const n=(await Wy(Z5,e9)).user,r=x5(t9,"users",n.uid),s=await K5(r);if(s.exists()){const i=s.data();t("setPlayerProfile",{username:i.username,level:i.level,province:i.province,characters:i.characters}),t("setTutorialSkiped",i.tutorialSkiped)}else await Q5(r,{username:n.displayName||"Undefined",level:1,province:null,characters:[],tutorialSkiped:!1}),t("setPlayerProfile",{username:n.displayName,level:1,province:null,characters:[]}),t("setTutorialSkiped",!1)}catch(e){console.error("Error during Google sign-in:",e)}},updateInsertedElement({commit:t},e){t("setInsertedElement",e)},updateCanChoose({commit:t},e){t("setCanChoose",e)},setProvince({commit:t},e){t("updateProvince",e)},skipTutorial({commit:t},e){t("setTutorialSkiped",e)}},getters:{canChoose:t=>t.canChoose,province:t=>t.playerProfile.province,provinces:t=>t.provinces,characters:t=>t.characters,insertedElement:t=>t.insertedElement,playerProfile:t=>t.playerProfile,skills:t=>t.skills,tutorialSkiped:t=>t.tutorialSkiped,chessShards:t=>t.playerProfile.chessShards}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Zr=typeof document<"u";function P1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function r9(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&P1(t.default)}const je=Object.assign;function rc(t,e){const n={};for(const r in e){const s=e[r];n[r]=ln(s)?s.map(t):t(s)}return n}const ii=()=>{},ln=Array.isArray,k1=/#/g,s9=/&/g,i9=/\//g,o9=/=/g,a9=/\?/g,x1=/\+/g,c9=/%5B/g,l9=/%5D/g,V1=/%5E/g,u9=/%60/g,D1=/%7B/g,h9=/%7C/g,L1=/%7D/g,d9=/%20/g;function iu(t){return encodeURI(""+t).replace(h9,"|").replace(c9,"[").replace(l9,"]")}function f9(t){return iu(t).replace(D1,"{").replace(L1,"}").replace(V1,"^")}function $c(t){return iu(t).replace(x1,"%2B").replace(d9,"+").replace(k1,"%23").replace(s9,"%26").replace(u9,"`").replace(D1,"{").replace(L1,"}").replace(V1,"^")}function p9(t){return $c(t).replace(o9,"%3D")}function g9(t){return iu(t).replace(k1,"%23").replace(a9,"%3F")}function m9(t){return t==null?"":g9(t).replace(i9,"%2F")}function Ei(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const _9=/\/$/,v9=t=>t.replace(_9,"");function sc(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,c>-1?c:e.length),s=t(i)),c>-1&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=T9(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Ei(o)}}function y9(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ld(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function w9(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Es(e.matched[r],n.matched[s])&&O1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Es(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function O1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!E9(t[n],e[n]))return!1;return!0}function E9(t,e){return ln(t)?Od(t,e):ln(e)?Od(e,t):t===e}function Od(t,e){return ln(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function T9(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ti;(function(t){t.pop="pop",t.push="push"})(Ti||(Ti={}));var oi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oi||(oi={}));function b9(t){if(!t)if(Zr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),v9(t)}const I9=/^[^#]+#/;function S9(t,e){return t.replace(I9,"#")+e}function A9(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ta=()=>({left:window.scrollX,top:window.scrollY});function C9(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=A9(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Nd(t,e){return(history.state?history.state.position-e:-1)+t}const jc=new Map;function R9(t,e){jc.set(t,e)}function P9(t){const e=jc.get(t);return jc.delete(t),e}let k9=()=>location.protocol+"//"+location.host;function N1(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let c=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(c);return l[0]!=="/"&&(l="/"+l),Ld(l,"")}return Ld(n,t)+r+s}function x9(t,e,n,r){let s=[],i=[],o=null;const c=({state:m})=>{const v=N1(t,location),D=n.value,O=e.value;let U=0;if(m){if(n.value=v,e.value=m,o&&o===D){o=null;return}U=O?m.position-O.position:0}else r(v);s.forEach($=>{$(n.value,D,{delta:U,type:Ti.pop,direction:U?U>0?oi.forward:oi.back:oi.unknown})})};function l(){o=n.value}function h(m){s.push(m);const v=()=>{const D=s.indexOf(m);D>-1&&s.splice(D,1)};return i.push(v),v}function d(){const{history:m}=window;m.state&&m.replaceState(je({},m.state,{scroll:Ta()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:p}}function Md(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ta():null}}function V9(t){const{history:e,location:n}=window,r={value:N1(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,h,d){const p=t.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:k9()+t+l;try{e[d?"replaceState":"pushState"](h,"",m),s.value=h}catch(v){console.error(v),n[d?"replace":"assign"](m)}}function o(l,h){const d=je({},e.state,Md(s.value.back,l,s.value.forward,!0),h,{position:s.value.position});i(l,d,!0),r.value=l}function c(l,h){const d=je({},s.value,e.state,{forward:l,scroll:Ta()});i(d.current,d,!0);const p=je({},Md(r.value,l,null),{position:d.position+1},h);i(l,p,!1),r.value=l}return{location:r,state:s,push:c,replace:o}}function D9(t){t=b9(t);const e=V9(t),n=x9(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=je({location:"",base:t,go:r,createHref:S9.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function L9(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),D9(t)}function O9(t){return typeof t=="string"||t&&typeof t=="object"}function M1(t){return typeof t=="string"||typeof t=="symbol"}const F1=Symbol("");var Fd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Fd||(Fd={}));function Ts(t,e){return je(new Error,{type:t,[F1]:!0},e)}function Pn(t,e){return t instanceof Error&&F1 in t&&(e==null||!!(t.type&e))}const Ud="[^/]+?",N9={sensitive:!1,strict:!1,start:!0,end:!0},M9=/[.+*?^${}()[\]/\\]/g;function F9(t,e){const n=je({},N9,e),r=[];let s=n.start?"^":"";const i=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let v=40+(n.sensitive?.25:0);if(m.type===0)p||(s+="/"),s+=m.value.replace(M9,"\\$&"),v+=40;else if(m.type===1){const{value:D,repeatable:O,optional:U,regexp:$}=m;i.push({name:D,repeatable:O,optional:U});const j=$||Ud;if(j!==Ud){v+=10;try{new RegExp(`(${j})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${D}" (${j}): `+Y.message)}}let W=O?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;p||(W=U&&h.length<2?`(?:/${W})`:"/"+W),U&&(W+="?"),s+=W,v+=20,U&&(v+=-8),O&&(v+=-20),j===".*"&&(v+=-50)}d.push(v)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(h){const d=h.match(o),p={};if(!d)return null;for(let m=1;m<d.length;m++){const v=d[m]||"",D=i[m-1];p[D.name]=v&&D.repeatable?v.split("/"):v}return p}function l(h){let d="",p=!1;for(const m of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const v of m)if(v.type===0)d+=v.value;else if(v.type===1){const{value:D,repeatable:O,optional:U}=v,$=D in h?h[D]:"";if(ln($)&&!O)throw new Error(`Provided param "${D}" is an array but it is not repeatable (* or + modifiers)`);const j=ln($)?$.join("/"):$;if(!j)if(U)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${D}"`);d+=j}}return d||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function U9(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function U1(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=U9(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Bd(r))return 1;if(Bd(s))return-1}return s.length-r.length}function Bd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const B9={type:0,value:""},$9=/[a-zA-Z0-9_]/;function j9(t){if(!t)return[[]];if(t==="/")return[[B9]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,h="",d="";function p(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&p(),o()):l===":"?(p(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:$9.test(l)?m():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),p(),o(),s}function z9(t,e,n){const r=F9(j9(t.path),n),s=je(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function q9(t,e){const n=[],r=new Map;e=qd({strict:!1,end:!0,sensitive:!1},e);function s(p){return r.get(p)}function i(p,m,v){const D=!v,O=jd(p);O.aliasOf=v&&v.record;const U=qd(e,p),$=[O];if("alias"in p){const Y=typeof p.alias=="string"?[p.alias]:p.alias;for(const ge of Y)$.push(jd(je({},O,{components:v?v.record.components:O.components,path:ge,aliasOf:v?v.record:O})))}let j,W;for(const Y of $){const{path:ge}=Y;if(m&&ge[0]!=="/"){const Ie=m.record.path,S=Ie[Ie.length-1]==="/"?"":"/";Y.path=m.record.path+(ge&&S+ge)}if(j=z9(Y,m,U),v?v.alias.push(j):(W=W||j,W!==j&&W.alias.push(j),D&&p.name&&!zd(j)&&o(p.name)),B1(j)&&l(j),O.children){const Ie=O.children;for(let S=0;S<Ie.length;S++)i(Ie[S],j,v&&v.children[S])}v=v||j}return W?()=>{o(W)}:ii}function o(p){if(M1(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function c(){return n}function l(p){const m=K9(p,n);n.splice(m,0,p),p.record.name&&!zd(p)&&r.set(p.record.name,p)}function h(p,m){let v,D={},O,U;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Ts(1,{location:p});U=v.record.name,D=je($d(m.params,v.keys.filter(W=>!W.optional).concat(v.parent?v.parent.keys.filter(W=>W.optional):[]).map(W=>W.name)),p.params&&$d(p.params,v.keys.map(W=>W.name))),O=v.stringify(D)}else if(p.path!=null)O=p.path,v=n.find(W=>W.re.test(O)),v&&(D=v.parse(O),U=v.record.name);else{if(v=m.name?r.get(m.name):n.find(W=>W.re.test(m.path)),!v)throw Ts(1,{location:p,currentLocation:m});U=v.record.name,D=je({},m.params,p.params),O=v.stringify(D)}const $=[];let j=v;for(;j;)$.unshift(j.record),j=j.parent;return{name:U,path:O,params:D,matched:$,meta:H9($)}}t.forEach(p=>i(p));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:c,getRecordMatcher:s}}function $d(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function jd(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:G9(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function G9(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function zd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function H9(t){return t.reduce((e,n)=>je(e,n.meta),{})}function qd(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function K9(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;U1(t,e[i])<0?r=i:n=i+1}const s=W9(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function W9(t){let e=t;for(;e=e.parent;)if(B1(e)&&U1(t,e)===0)return e}function B1({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Q9(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(x1," "),o=i.indexOf("="),c=Ei(o<0?i:i.slice(0,o)),l=o<0?null:Ei(i.slice(o+1));if(c in e){let h=e[c];ln(h)||(h=e[c]=[h]),h.push(l)}else e[c]=l}return e}function Gd(t){let e="";for(let n in t){const r=t[n];if(n=p9(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ln(r)?r.map(i=>i&&$c(i)):[r&&$c(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Y9(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ln(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const J9=Symbol(""),Hd=Symbol(""),ou=Symbol(""),$1=Symbol(""),zc=Symbol("");function zs(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function nr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const h=m=>{m===!1?l(Ts(4,{from:n,to:e})):m instanceof Error?l(m):O9(m)?l(Ts(2,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),c())},d=i(()=>t.call(r&&r.instances[s],e,n,h));let p=Promise.resolve(d);t.length<3&&(p=p.then(h)),p.catch(m=>l(m))})}function ic(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(P1(l)){const d=(l.__vccOpts||l)[e];d&&i.push(nr(d,n,r,o,c,s))}else{let h=l();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const p=r9(d)?d.default:d;o.mods[c]=d,o.components[c]=p;const v=(p.__vccOpts||p)[e];return v&&nr(v,n,r,o,c,s)()}))}}return i}function Kd(t){const e=Fn(ou),n=Fn($1),r=sn(()=>{const l=rs(t.to);return e.resolve(l)}),s=sn(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],p=n.matched;if(!d||!p.length)return-1;const m=p.findIndex(Es.bind(null,d));if(m>-1)return m;const v=Wd(l[h-2]);return h>1&&Wd(d)===v&&p[p.length-1].path!==v?p.findIndex(Es.bind(null,l[h-2])):m}),i=sn(()=>s.value>-1&&tE(n.params,r.value.params)),o=sn(()=>s.value>-1&&s.value===n.matched.length-1&&O1(n.params,r.value.params));function c(l={}){return eE(l)?e[rs(t.replace)?"replace":"push"](rs(t.to)).catch(ii):Promise.resolve()}return{route:r,href:sn(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}const X9=xf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Kd,setup(t,{slots:e}){const n=bi(Kd(t)),{options:r}=Fn(ou),s=sn(()=>({[Qd(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Qd(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:s0("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Z9=X9;function eE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function tE(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ln(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Wd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qd=(t,e,n)=>t??e??n,nE=xf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Fn(zc),s=sn(()=>t.route||r.value),i=Fn(Hd,0),o=sn(()=>{let h=rs(i);const{matched:d}=s.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),c=sn(()=>s.value.matched[o.value]);lo(Hd,sn(()=>o.value+1)),lo(J9,c),lo(zc,s);const l=zg();return os(()=>[l.value,c.value,t.name],([h,d,p],[m,v,D])=>{d&&(d.instances[p]=h,v&&v!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),h&&d&&(!v||!Es(d,v)||!m)&&(d.enterCallbacks[p]||[]).forEach(O=>O(h))},{flush:"post"}),()=>{const h=s.value,d=t.name,p=c.value,m=p&&p.components[d];if(!m)return Yd(n.default,{Component:m,route:h});const v=p.props[d],D=v?v===!0?h.params:typeof v=="function"?v(h):v:null,U=s0(m,je({},D,e,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(p.instances[d]=null)},ref:l}));return Yd(n.default,{Component:U,route:h})||U}}});function Yd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const rE=nE;function sE(t){const e=q9(t.routes,t),n=t.parseQuery||Q9,r=t.stringifyQuery||Gd,s=t.history,i=zs(),o=zs(),c=zs(),l=qg(Zn);let h=Zn;Zr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=rc.bind(null,F=>""+F),p=rc.bind(null,m9),m=rc.bind(null,Ei);function v(F,se){let ne,ce;return M1(F)?(ne=e.getRecordMatcher(F),ce=se):ce=F,e.addRoute(ce,ne)}function D(F){const se=e.getRecordMatcher(F);se&&e.removeRoute(se)}function O(){return e.getRoutes().map(F=>F.record)}function U(F){return!!e.getRecordMatcher(F)}function $(F,se){if(se=je({},se||l.value),typeof F=="string"){const w=sc(n,F,se.path),L=e.resolve({path:w.path},se),B=s.createHref(w.fullPath);return je(w,L,{params:m(L.params),hash:Ei(w.hash),redirectedFrom:void 0,href:B})}let ne;if(F.path!=null)ne=je({},F,{path:sc(n,F.path,se.path).path});else{const w=je({},F.params);for(const L in w)w[L]==null&&delete w[L];ne=je({},F,{params:p(w)}),se.params=p(se.params)}const ce=e.resolve(ne,se),Re=F.hash||"";ce.params=d(m(ce.params));const Ue=y9(r,je({},F,{hash:f9(Re),path:ce.path})),_=s.createHref(Ue);return je({fullPath:Ue,hash:Re,query:r===Gd?Y9(F.query):F.query||{}},ce,{redirectedFrom:void 0,href:_})}function j(F){return typeof F=="string"?sc(n,F,l.value.path):je({},F)}function W(F,se){if(h!==F)return Ts(8,{from:se,to:F})}function Y(F){return S(F)}function ge(F){return Y(je(j(F),{replace:!0}))}function Ie(F){const se=F.matched[F.matched.length-1];if(se&&se.redirect){const{redirect:ne}=se;let ce=typeof ne=="function"?ne(F):ne;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=j(ce):{path:ce},ce.params={}),je({query:F.query,hash:F.hash,params:ce.path!=null?{}:F.params},ce)}}function S(F,se){const ne=h=$(F),ce=l.value,Re=F.state,Ue=F.force,_=F.replace===!0,w=Ie(ne);if(w)return S(je(j(w),{state:typeof w=="object"?je({},Re,w.state):Re,force:Ue,replace:_}),se||ne);const L=ne;L.redirectedFrom=se;let B;return!Ue&&w9(r,ce,ne)&&(B=Ts(16,{to:L,from:ce}),Ft(ce,ce,!0,!1)),(B?Promise.resolve(B):A(L,ce)).catch(M=>Pn(M)?Pn(M,2)?M:Tt(M):Ce(M,L,ce)).then(M=>{if(M){if(Pn(M,2))return S(je({replace:_},j(M.to),{state:typeof M.to=="object"?je({},Re,M.to.state):Re,force:Ue}),se||L)}else M=x(L,ce,!0,_,Re);return P(L,ce,M),M})}function y(F,se){const ne=W(F,se);return ne?Promise.reject(ne):Promise.resolve()}function b(F){const se=Bt.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(F):F()}function A(F,se){let ne;const[ce,Re,Ue]=iE(F,se);ne=ic(ce.reverse(),"beforeRouteLeave",F,se);for(const w of ce)w.leaveGuards.forEach(L=>{ne.push(nr(L,F,se))});const _=y.bind(null,F,se);return ne.push(_),Xe(ne).then(()=>{ne=[];for(const w of i.list())ne.push(nr(w,F,se));return ne.push(_),Xe(ne)}).then(()=>{ne=ic(Re,"beforeRouteUpdate",F,se);for(const w of Re)w.updateGuards.forEach(L=>{ne.push(nr(L,F,se))});return ne.push(_),Xe(ne)}).then(()=>{ne=[];for(const w of Ue)if(w.beforeEnter)if(ln(w.beforeEnter))for(const L of w.beforeEnter)ne.push(nr(L,F,se));else ne.push(nr(w.beforeEnter,F,se));return ne.push(_),Xe(ne)}).then(()=>(F.matched.forEach(w=>w.enterCallbacks={}),ne=ic(Ue,"beforeRouteEnter",F,se,b),ne.push(_),Xe(ne))).then(()=>{ne=[];for(const w of o.list())ne.push(nr(w,F,se));return ne.push(_),Xe(ne)}).catch(w=>Pn(w,8)?w:Promise.reject(w))}function P(F,se,ne){c.list().forEach(ce=>b(()=>ce(F,se,ne)))}function x(F,se,ne,ce,Re){const Ue=W(F,se);if(Ue)return Ue;const _=se===Zn,w=Zr?history.state:{};ne&&(ce||_?s.replace(F.fullPath,je({scroll:_&&w&&w.scroll},Re)):s.push(F.fullPath,Re)),l.value=F,Ft(F,se,ne,_),Tt()}let E;function ie(){E||(E=s.listen((F,se,ne)=>{if(!Wt.listening)return;const ce=$(F),Re=Ie(ce);if(Re){S(je(Re,{replace:!0}),ce).catch(ii);return}h=ce;const Ue=l.value;Zr&&R9(Nd(Ue.fullPath,ne.delta),Ta()),A(ce,Ue).catch(_=>Pn(_,12)?_:Pn(_,2)?(S(_.to,ce).then(w=>{Pn(w,20)&&!ne.delta&&ne.type===Ti.pop&&s.go(-1,!1)}).catch(ii),Promise.reject()):(ne.delta&&s.go(-ne.delta,!1),Ce(_,ce,Ue))).then(_=>{_=_||x(ce,Ue,!1),_&&(ne.delta&&!Pn(_,8)?s.go(-ne.delta,!1):ne.type===Ti.pop&&Pn(_,20)&&s.go(-1,!1)),P(ce,Ue,_)}).catch(ii)}))}let Mt=zs(),Je=zs(),Ae;function Ce(F,se,ne){Tt(F);const ce=Je.list();return ce.length?ce.forEach(Re=>Re(F,se,ne)):console.error(F),Promise.reject(F)}function Lt(){return Ae&&l.value!==Zn?Promise.resolve():new Promise((F,se)=>{Mt.add([F,se])})}function Tt(F){return Ae||(Ae=!F,ie(),Mt.list().forEach(([se,ne])=>F?ne(F):se()),Mt.reset()),F}function Ft(F,se,ne,ce){const{scrollBehavior:Re}=t;if(!Zr||!Re)return Promise.resolve();const Ue=!ne&&P9(Nd(F.fullPath,0))||(ce||!ne)&&history.state&&history.state.scroll||null;return Af().then(()=>Re(F,se,Ue)).then(_=>_&&C9(_)).catch(_=>Ce(_,F,se))}const qe=F=>s.go(F);let Ke;const Bt=new Set,Wt={currentRoute:l,listening:!0,addRoute:v,removeRoute:D,clearRoutes:e.clearRoutes,hasRoute:U,getRoutes:O,resolve:$,options:t,push:Y,replace:ge,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:Je.add,isReady:Lt,install(F){const se=this;F.component("RouterLink",Z9),F.component("RouterView",rE),F.config.globalProperties.$router=se,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>rs(l)}),Zr&&!Ke&&l.value===Zn&&(Ke=!0,Y(s.location).catch(Re=>{}));const ne={};for(const Re in Zn)Object.defineProperty(ne,Re,{get:()=>l.value[Re],enumerable:!0});F.provide(ou,se),F.provide($1,Ef(ne)),F.provide(zc,l);const ce=F.unmount;Bt.add(F),F.unmount=function(){Bt.delete(F),Bt.size<1&&(h=Zn,E&&E(),E=null,l.value=Zn,Ke=!1,Ae=!1),ce()}}};function Xe(F){return F.reduce((se,ne)=>se.then(()=>b(ne)),Promise.resolve())}return Wt}function iE(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(h=>Es(h,c))?r.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(h=>Es(h,l))||s.push(l))}return[n,r,s]}const oE={data(){return{iframeSrc:"/src/assets/public/index.html",isLoading:!0}},methods:{hideLoadingScreen(){this.isLoading=!1}},mounted(){function t(e,n){localStorage.setItem("botLevel",e.toString()),localStorage.setItem("timerTime",n.toString())}t(6,5)}},aE={key:0,class:"loading-screen"},cE=["src"];function lE(t,e,n,r,s,i){return Xt(),mn("div",null,[s.isLoading?(Xt(),mn("div",aE,e[1]||(e[1]=[Kt('<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" class="w-24 h-24"><title>new</title><g id="Layer 1"><path id=" 7" fill-rule="evenodd" class="s0" d="m514.4 559c0 0-8.9 23.6 7.7 46.7 6.1 8.4 21.2 21.7 33.3 26.7 0 0 36.6 13.9 54.6 17.8 0 0 9.3 3.1 20.5-9.1 11-12.2 25.6-42.2 27.9-52.6 0 0-20.4 11.8-40.5 13.6 0 0-38.3 0.8-53-6.9 0 0-45.4-20.4-50.5-36.2z"></path><path id=" 7" fill-rule="evenodd" class="s0" d="m505.3 559c0 0 8.9 23.6-7.7 46.7-6.1 8.4-21.2 21.7-33.3 26.7 0 0-36.6 13.9-54.6 17.8 0 0-9.3 3.1-20.5-9.1-11-12.2-25.6-42.2-27.9-52.6 0 0 20.4 11.8 40.5 13.6 0 0 38.3 0.8 53-6.9 0 0 45.4-20.4 50.5-36.2z"></path><path id=" 6" fill-rule="evenodd" class="s0" d="m675.5 566.6c0 0 21.4-9.3 30.5-24.8 0 0-9.2 4.9-14.3 4.8-0.3 0-12.9-1.6-12.9-1.6 0.2 1.6-1.5 9.9-3.3 21.6z"></path><path id=" 6" fill-rule="evenodd" class="s0" d="m343.7 563.7c0 0-21.4-9.3-30.5-24.8 0 0 9.1 4.9 14.3 4.9 0.3 0 12.9-1.6 12.9-1.6-0.2 1.5 1.5 9.8 3.3 21.5z"></path><path id=" 4" fill-rule="evenodd" class="s0" d="m512 430.2c-8.2 0-14.8-6.6-14.8-14.7 0-8.2 6.6-14.8 14.8-14.8 8.2 0 14.8 6.6 14.8 14.8 0 8.1-6.6 14.7-14.8 14.7z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m504.8 393c0 0-20.1-26.6-38.1-47.6 0 0-19.2-16.5-28.1-53.1 0 0-9.4-37.1 22.3-69 30.2-30.3 49.7-37.2 49.7-37.2 0 0 3.2-3.4 38 25 0 0 28.2 16.7 43 68.5 0 0-19.2 2.4-42 41.9l-18.1 45.8c0 0-7.1 18.1-12.4 22.9l1-66.8c0 0 2.2-18.7-7.6-17.1 0 0-9.1-3.1-8.6 9.5 0 0 2.7 75.6 0.9 77.2z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m485.2 415c0 0-28.2-2.4-54.9 4.9 0 0-23.1 10.4-59.9 2.8 0 0-37.6-7.3-53-49.5-14.6-40.2-10.8-69.1-10.8-69.1 0 0-4.4 1.2 36-18.3 0 0 28.1-15.6 81.3-6.9 0 0-6 18.4 20.1 55.8l31.4 40c0 0 13.8 16.6 15.9 23.4l-49.8-26.4c0 0-28.5-18.8-31.3-9.2 0 0-3.6 5.6 9.2 11.2 0 0 65.1 39 65.8 41.3z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m535.4 430.3c0 0 13.5-7.9 40.9-4.1 0 0 45.5 4.6 71.4 36.5 0 0 10.2 7.6 15.5 38.8 0.4 2.5 1.6 21.6-1 38.7-2.5 16.8-10.9 33.2-10.9 33.2 0 0-4 10.3-48.8 12.3 0 0-35.2-2.2-58.7-20.3-17.2-13.2-25.8-32.4-27.8-58 0 0 0.6-62.4 3.7-66.4l13.8 9.1 19.7 19c0 0 25.7 30.5 31.8 21.4 0 0 3-4-19.5-30.8-6.8-8-30.2-28.4-30.1-29.4z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m489 430.3c0 0-13.5-7.9-40.9-4.1 0 0-45.6 4.6-71.4 36.5 0 0-10.2 7.6-15.6 38.8-0.4 2.5-1.5 21.6 1.1 38.7 2.5 16.8 10.9 33.2 10.9 33.2 0 0 4 10.3 48.8 12.3 0 0 35.1-2.2 58.6-20.3 17.3-13.2 25.9-32.4 27.9-58 0 0-0.7-62.4-3.8-66.4l-13.7 9.1-19.7 19c0 0-25.7 30.5-31.9 21.4 0 0-3-4 19.6-30.8 6.7-8 30.2-28.4 30.1-29.4z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m529.6 397.9c0 0 14.1-30.3 24.3-56.1 0 0 5.5-24.6 33.7-49.6 0 0 31.6-24.2 75.4-14.2 39.2 8.9 52.1 27.9 52.1 27.9 0 0 4.7 23.9-9.4 66 0 0 1.6 9.6-37 43.2 0 0-16.3 9.9-49.6 9.2 0 0-18.1-6.9-39-9.6-15.3-2-33.4 0.3-40.4-1.6-0.8-0.2 3.2-5.2 14.8-12 17.2-10 43.8-22.4 43.8-22.4 0 0 17.6-6.8 11.6-14.8 0 0-1.6-9.5-12.5-3.1 0 0-65.4 37.9-67.8 37.1z"></path><path id=" 2" fill-rule="evenodd" class="s0" d="m364.7 261.5c0 0 2.3-40.5 30.5-58.2 0 0 8.9-3.7 30.5 0 0 0 14.4 2.2 24.8 9.5 0 0-22.4 20.8-22.9 52.5 0 0-15.4-7.8-32.4-7.7 0 0-25.1 0.5-30.5 3.9z"></path><path id=" 3" fill-rule="evenodd" class="s0" d="m576.3 215.7c0 0 9.8-8 35.3-9.5 0 0 21.4-1 25.8 4.7 0 0 19.1 23.5 26.7 54.4 0 0-20.4-5.3-31.5-3.8 0 0-20.6 2.1-29.6 7.6 0 0-2.9-27.3-26.7-53.4z"></path><path id=" 5" fill-rule="evenodd" class="s0" d="m255 453.1l21-48.6c0 0 10.4-21.4 27.6-32.4 0 0 6.2 27.4 45.8 55.3 0 0 18.9 10.7 28.6 11.4 0 0-39.3 40.4-35.3 91.6 0 0-32.7-3.4-54.3-28.6 0 0-26.8-26.9-33.4-48.7z"></path><path id=" 5" fill-rule="evenodd" class="s0" d="m768 452.2l-21-48.7c0 0-10.4-21.3-27.6-32.4 0 0-6.2 27.4-45.8 55.3 0 0-18.9 10.7-28.6 11.5 0 0 39.3 40.3 35.3 91.5 0 0 32.7-3.4 54.3-28.6 0 0 26.8-26.9 33.4-48.6z"></path><path id=" 8" fill-rule="evenodd" class="s0" d="m494 729c0 0-21.1-9.8-24-29 0 0-2.6-12.8 3-30 0 0 8.4-17.6 11-21l7 5c0 0-6.8 11.1-10 22 0 0-3.3 7.9-1 25 0 0 4.7 13.6 15 17 0 0-6.2-7.1 0-17 0 0 5.4-9.6 17-10v22 56c0 0-9.9 0.2-14-12l-1-7c0 0-13.7 10.9-15 25 0 0-0.7 13.5 5 28 0 0 4.9 6.6 2 10 0 0-13.4 1.1-17-29 0 0-0.3-16.9 8-28 0 0 9.7-8 13-10 0 0 4.6-2.3 3-5 0 0-10.5 0.5-17 5.6 0 0-20.5 15.7-25 33.1 0 0-4 4.9-7-0.7 0 0-0.2-13.6 11.1-25.5 11.7-12.1 17.6-13.4 23.9-17.5 0 0-17.5-0.2-27.6-11.5-0.1-0.2-0.3-0.3-0.4-0.5-4.3-9-6.1-22.4-6.1-22.4 0 0-0.6-21.3 3.1-15.6 0 0 1.5 10.9 4 18 0 0 5.2 14.7 12.1 18.7 0 0 8.7 8.2 14.9 8.3 0 0 7.7 0.9 10 0 0 0 1.9-0.1 2-2z"></path><path id=" 8" fill-rule="evenodd" class="s0" d="m530 729c0 0 21.1-9.8 24-29 0 0 2.6-12.8-3-30 0 0-8.4-17.6-11-21l-7 5c0 0 6.8 11.1 10 22 0 0 3.3 7.9 1 25 0 0-4.7 13.6-15 17 0 0 6.2-7.1 0-17 0 0-5.4-9.6-17-10v22 56c0 0 9.9 0.2 14-12l1-7c0 0 13.7 10.9 15 25 0 0 0.7 13.5-5 28 0 0-4.9 6.6-2 10 0 0 13.4 1.1 17-29 0 0 0.3-16.9-8-28 0 0-9.7-8-13-10 0 0-4.6-2.3-3-5 0 0 10.5 0.6 17 5.6 0 0 20.5 15.7 25 33.1 0 0 4 4.9 7-0.7 0 0 0.2-13.6-11.2-25.5-11.6-12.1-17.5-13.4-23.8-17.5 0 0 17.5-0.2 27.6-11.5 0.1-0.2 0.3-0.3 0.4-0.5 4.3-9 6.1-22.4 6.1-22.4 0 0 0.6-21.3-3.1-15.6 0 0-1.5 10.9-4 18 0 0-5.2 14.7-12.1 18.7 0 0-8.7 8.2-14.9 8.3 0 0-7.7 0.9-10 0 0 0-1.9-0.1-2-2z"></path></g></svg>',1)]))):Jm("",!0),So(be("iframe",{src:s.iframeSrc,class:"w-full h-screen mx-0",onLoad:e[0]||(e[0]=(...o)=>i.hideLoadingScreen&&i.hideLoadingScreen(...o))},null,40,cE),[[ko,!s.isLoading]])])}const uE=Gn(oE,[["render",lE]]),hE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.5%206.5C9.5%205.11929%2010.6193%204%2012%204C13.3807%204%2014.5%205.11929%2014.5%206.5C14.5%207.88071%2013.3807%209%2012%209C10.6193%209%209.5%207.88071%209.5%206.5ZM12%202C9.51472%202%207.5%204.01472%207.5%206.5C7.5%207.91363%208.15183%209.17502%209.17133%2010H8C7.44772%2010%207%2010.4477%207%2011C7%2011.5523%207.44772%2012%208%2012H9.12533C9.15208%2012.3659%209.16098%2012.833%209.11237%2013.3535C8.99568%2014.6027%208.55656%2016.0909%207.31094%2017.2753C6.86615%2017.6982%206.19221%2018.1531%205.58717%2018.5199C5.29266%2018.6984%205.02896%2018.8475%204.83934%2018.9517C4.74472%2019.0037%204.66905%2019.0442%204.61781%2019.0713L4.56008%2019.1017L4.54633%2019.1088L4.54347%2019.1103L4.54336%2019.1103L4.54322%2019.1104C4.3106%2019.2299%204.13401%2019.4357%204.05132%2019.6838L3.27924%2022H3C2.44772%2022%202%2022.4477%202%2023C2%2023.5523%202.44772%2024%203%2024H4H20H21C21.5523%2024%2022%2023.5523%2022%2023C22%2022.4477%2021.5523%2022%2021%2022H20.7659L20.1559%2019.7395C20.0787%2019.4533%2019.8784%2019.2161%2019.6092%2019.0919L19.609%2019.0918L19.6072%2019.091L19.5951%2019.0853C19.5836%2019.0799%2019.5655%2019.0714%2019.5415%2019.0598C19.4933%2019.0366%2019.4214%2019.0014%2019.3304%2018.9553C19.1482%2018.8629%2018.8918%2018.7279%2018.5996%2018.5595C18.0041%2018.2164%2017.3055%2017.7605%2016.7767%2017.2682C15.5139%2016.0923%2015.054%2014.6022%2014.92%2013.349C14.8647%2012.8316%2014.8667%2012.3662%2014.8878%2012H16C16.5523%2012%2017%2011.5523%2017%2011C17%2010.4477%2016.5523%2010%2016%2010H14.8287C15.8482%209.17502%2016.5%207.91363%2016.5%206.5C16.5%204.01472%2014.4853%202%2012%202ZM11.1037%2013.5395C11.158%2012.9576%2011.1549%2012.4315%2011.1296%2012H12.8852C12.8649%2012.4363%2012.8682%2012.9705%2012.9313%2013.5616C13.0971%2015.112%2013.6847%2017.1218%2015.4138%2018.7319C15.512%2018.8233%2015.6134%2018.9128%2015.717%2019L8.38107%2019C8.48825%2018.9094%208.59149%2018.8175%208.68906%2018.7247C10.3982%2017.0996%2010.9591%2015.0879%2011.1037%2013.5395ZM5.72076%2021L18.4246%2021L18.6944%2022H5.38743L5.72076%2021Z'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e",dE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.2666%209.92826L14.8997%2010.1618C13.5228%2011.0379%2011.6981%2010.6528%2010.7929%209.29487L10%208.10556L9.20712%209.29487C8.30186%2010.6528%206.47719%2011.0379%205.10034%2010.1618L4.73342%209.92826L5.54178%2013H14.4582L15.2666%209.92826ZM3.65358%206.87047C2.88614%206.38209%201.91813%207.08891%202.14963%207.96862L3.80381%2014.2545C3.91942%2014.6938%204.31662%2015%204.77089%2015H15.2291C15.6834%2015%2016.0806%2014.6938%2016.1962%2014.2545L17.8504%207.96862C18.0819%207.08891%2017.1139%206.38209%2016.3464%206.87047L13.8259%208.47443C13.367%208.76649%2012.7587%208.6381%2012.457%208.18547L10.832%205.74808C10.4362%205.15435%209.56377%205.15435%209.16795%205.74808L7.54302%208.18547C7.24127%208.6381%206.63304%208.76649%206.1741%208.47443L3.65358%206.87047Z'%20fill='%23ffffff'/%3e%3cpath%20d='M11%203.5C11%204.05228%2010.5523%204.5%2010%204.5C9.44772%204.5%209%204.05228%209%203.5C9%202.94772%209.44772%202.5%2010%202.5C10.5523%202.5%2011%202.94772%2011%203.5Z'%20fill='%23ffffff'/%3e%3cpath%20d='M19%205.5C19%206.05228%2018.5523%206.5%2018%206.5C17.4477%206.5%2017%206.05228%2017%205.5C17%204.94772%2017.4477%204.5%2018%204.5C18.5523%204.5%2019%204.94772%2019%205.5Z'%20fill='%23ffffff'/%3e%3cpath%20d='M3%205.5C3%206.05228%202.55228%206.5%202%206.5C1.44772%206.5%201%206.05228%201%205.5C1%204.94772%201.44772%204.5%202%204.5C2.55228%204.5%203%204.94772%203%205.5Z'%20fill='%23ffffff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.5%2016.25C4.5%2015.6977%204.94772%2015.25%205.5%2015.25H14.7513C15.3036%2015.25%2015.7513%2015.6977%2015.7513%2016.25C15.7513%2016.8023%2015.3036%2017.25%2014.7513%2017.25H5.5C4.94772%2017.25%204.5%2016.8023%204.5%2016.25Z'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e",fE={data(){return{chessShardsValue:null,battleShardsValue:null}},computed:{characters(){return this.$store.getters.playerProfile}},methods:{chessShards(){this.chessShardsValue=this.$store.getters.playerProfile.chessShards,this.battleShardsValue=this.$store.getters.playerProfile.battleShards}},mounted(){this.chessShards()}},pE={id:"profile",class:"absolute z-50 w-full items-center h-16 justify-between"},gE={class:"bg-gradient-to-r from-[#1d1f20] text-sm to-[#141516] tracking-wider pl-32 w-full h-full flex items-center space-x-4 px-4 drop-shadow-lg"},mE={class:"hidden w-52 h-10 flex space-x-10 font-serif text-xl text-white items-center"},_E={class:"flex justify-center items-center w-auto h-full space-x-4"},vE={class:"flex justify-center items-center w-auto h-full space-x-4"};function yE(t,e,n,r,s,i){return Xt(),mn("div",pE,[be("div",gE,[e[2]||(e[2]=Kt('<button id="menu-icon" data-v-1bd37cd7><svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" class="w-12 h-12" data-v-1bd37cd7><title data-v-1bd37cd7>new</title><g id="Layer 1" data-v-1bd37cd7><path id=" 7" fill-rule="evenodd" class="s0" d="m514.4 559c0 0-8.9 23.6 7.7 46.7 6.1 8.4 21.2 21.7 33.3 26.7 0 0 36.6 13.9 54.6 17.8 0 0 9.3 3.1 20.5-9.1 11-12.2 25.6-42.2 27.9-52.6 0 0-20.4 11.8-40.5 13.6 0 0-38.3 0.8-53-6.9 0 0-45.4-20.4-50.5-36.2z" data-v-1bd37cd7></path><path id=" 7" fill-rule="evenodd" class="s0" d="m505.3 559c0 0 8.9 23.6-7.7 46.7-6.1 8.4-21.2 21.7-33.3 26.7 0 0-36.6 13.9-54.6 17.8 0 0-9.3 3.1-20.5-9.1-11-12.2-25.6-42.2-27.9-52.6 0 0 20.4 11.8 40.5 13.6 0 0 38.3 0.8 53-6.9 0 0 45.4-20.4 50.5-36.2z" data-v-1bd37cd7></path><path id=" 6" fill-rule="evenodd" class="s0" d="m675.5 566.6c0 0 21.4-9.3 30.5-24.8 0 0-9.2 4.9-14.3 4.8-0.3 0-12.9-1.6-12.9-1.6 0.2 1.6-1.5 9.9-3.3 21.6z" data-v-1bd37cd7></path><path id=" 6" fill-rule="evenodd" class="s0" d="m343.7 563.7c0 0-21.4-9.3-30.5-24.8 0 0 9.1 4.9 14.3 4.9 0.3 0 12.9-1.6 12.9-1.6-0.2 1.5 1.5 9.8 3.3 21.5z" data-v-1bd37cd7></path><path id=" 4" fill-rule="evenodd" class="s0" d="m512 430.2c-8.2 0-14.8-6.6-14.8-14.7 0-8.2 6.6-14.8 14.8-14.8 8.2 0 14.8 6.6 14.8 14.8 0 8.1-6.6 14.7-14.8 14.7z" data-v-1bd37cd7></path><path id=" 1" fill-rule="evenodd" class="s0" d="m504.8 393c0 0-20.1-26.6-38.1-47.6 0 0-19.2-16.5-28.1-53.1 0 0-9.4-37.1 22.3-69 30.2-30.3 49.7-37.2 49.7-37.2 0 0 3.2-3.4 38 25 0 0 28.2 16.7 43 68.5 0 0-19.2 2.4-42 41.9l-18.1 45.8c0 0-7.1 18.1-12.4 22.9l1-66.8c0 0 2.2-18.7-7.6-17.1 0 0-9.1-3.1-8.6 9.5 0 0 2.7 75.6 0.9 77.2z" data-v-1bd37cd7></path><path id=" 1" fill-rule="evenodd" class="s0" d="m485.2 415c0 0-28.2-2.4-54.9 4.9 0 0-23.1 10.4-59.9 2.8 0 0-37.6-7.3-53-49.5-14.6-40.2-10.8-69.1-10.8-69.1 0 0-4.4 1.2 36-18.3 0 0 28.1-15.6 81.3-6.9 0 0-6 18.4 20.1 55.8l31.4 40c0 0 13.8 16.6 15.9 23.4l-49.8-26.4c0 0-28.5-18.8-31.3-9.2 0 0-3.6 5.6 9.2 11.2 0 0 65.1 39 65.8 41.3z" data-v-1bd37cd7></path><path id=" 1" fill-rule="evenodd" class="s0" d="m535.4 430.3c0 0 13.5-7.9 40.9-4.1 0 0 45.5 4.6 71.4 36.5 0 0 10.2 7.6 15.5 38.8 0.4 2.5 1.6 21.6-1 38.7-2.5 16.8-10.9 33.2-10.9 33.2 0 0-4 10.3-48.8 12.3 0 0-35.2-2.2-58.7-20.3-17.2-13.2-25.8-32.4-27.8-58 0 0 0.6-62.4 3.7-66.4l13.8 9.1 19.7 19c0 0 25.7 30.5 31.8 21.4 0 0 3-4-19.5-30.8-6.8-8-30.2-28.4-30.1-29.4z" data-v-1bd37cd7></path><path id=" 1" fill-rule="evenodd" class="s0" d="m489 430.3c0 0-13.5-7.9-40.9-4.1 0 0-45.6 4.6-71.4 36.5 0 0-10.2 7.6-15.6 38.8-0.4 2.5-1.5 21.6 1.1 38.7 2.5 16.8 10.9 33.2 10.9 33.2 0 0 4 10.3 48.8 12.3 0 0 35.1-2.2 58.6-20.3 17.3-13.2 25.9-32.4 27.9-58 0 0-0.7-62.4-3.8-66.4l-13.7 9.1-19.7 19c0 0-25.7 30.5-31.9 21.4 0 0-3-4 19.6-30.8 6.7-8 30.2-28.4 30.1-29.4z" data-v-1bd37cd7></path><path id=" 1" fill-rule="evenodd" class="s0" d="m529.6 397.9c0 0 14.1-30.3 24.3-56.1 0 0 5.5-24.6 33.7-49.6 0 0 31.6-24.2 75.4-14.2 39.2 8.9 52.1 27.9 52.1 27.9 0 0 4.7 23.9-9.4 66 0 0 1.6 9.6-37 43.2 0 0-16.3 9.9-49.6 9.2 0 0-18.1-6.9-39-9.6-15.3-2-33.4 0.3-40.4-1.6-0.8-0.2 3.2-5.2 14.8-12 17.2-10 43.8-22.4 43.8-22.4 0 0 17.6-6.8 11.6-14.8 0 0-1.6-9.5-12.5-3.1 0 0-65.4 37.9-67.8 37.1z" data-v-1bd37cd7></path><path id=" 2" fill-rule="evenodd" class="s0" d="m364.7 261.5c0 0 2.3-40.5 30.5-58.2 0 0 8.9-3.7 30.5 0 0 0 14.4 2.2 24.8 9.5 0 0-22.4 20.8-22.9 52.5 0 0-15.4-7.8-32.4-7.7 0 0-25.1 0.5-30.5 3.9z" data-v-1bd37cd7></path><path id=" 3" fill-rule="evenodd" class="s0" d="m576.3 215.7c0 0 9.8-8 35.3-9.5 0 0 21.4-1 25.8 4.7 0 0 19.1 23.5 26.7 54.4 0 0-20.4-5.3-31.5-3.8 0 0-20.6 2.1-29.6 7.6 0 0-2.9-27.3-26.7-53.4z" data-v-1bd37cd7></path><path id=" 5" fill-rule="evenodd" class="s0" d="m255 453.1l21-48.6c0 0 10.4-21.4 27.6-32.4 0 0 6.2 27.4 45.8 55.3 0 0 18.9 10.7 28.6 11.4 0 0-39.3 40.4-35.3 91.6 0 0-32.7-3.4-54.3-28.6 0 0-26.8-26.9-33.4-48.7z" data-v-1bd37cd7></path><path id=" 5" fill-rule="evenodd" class="s0" d="m768 452.2l-21-48.7c0 0-10.4-21.3-27.6-32.4 0 0-6.2 27.4-45.8 55.3 0 0-18.9 10.7-28.6 11.5 0 0 39.3 40.3 35.3 91.5 0 0 32.7-3.4 54.3-28.6 0 0 26.8-26.9 33.4-48.6z" data-v-1bd37cd7></path><path id=" 8" fill-rule="evenodd" class="s0" d="m494 729c0 0-21.1-9.8-24-29 0 0-2.6-12.8 3-30 0 0 8.4-17.6 11-21l7 5c0 0-6.8 11.1-10 22 0 0-3.3 7.9-1 25 0 0 4.7 13.6 15 17 0 0-6.2-7.1 0-17 0 0 5.4-9.6 17-10v22 56c0 0-9.9 0.2-14-12l-1-7c0 0-13.7 10.9-15 25 0 0-0.7 13.5 5 28 0 0 4.9 6.6 2 10 0 0-13.4 1.1-17-29 0 0-0.3-16.9 8-28 0 0 9.7-8 13-10 0 0 4.6-2.3 3-5 0 0-10.5 0.5-17 5.6 0 0-20.5 15.7-25 33.1 0 0-4 4.9-7-0.7 0 0-0.2-13.6 11.1-25.5 11.7-12.1 17.6-13.4 23.9-17.5 0 0-17.5-0.2-27.6-11.5-0.1-0.2-0.3-0.3-0.4-0.5-4.3-9-6.1-22.4-6.1-22.4 0 0-0.6-21.3 3.1-15.6 0 0 1.5 10.9 4 18 0 0 5.2 14.7 12.1 18.7 0 0 8.7 8.2 14.9 8.3 0 0 7.7 0.9 10 0 0 0 1.9-0.1 2-2z" data-v-1bd37cd7></path><path id=" 8" fill-rule="evenodd" class="s0" d="m530 729c0 0 21.1-9.8 24-29 0 0 2.6-12.8-3-30 0 0-8.4-17.6-11-21l-7 5c0 0 6.8 11.1 10 22 0 0 3.3 7.9 1 25 0 0-4.7 13.6-15 17 0 0 6.2-7.1 0-17 0 0-5.4-9.6-17-10v22 56c0 0 9.9 0.2 14-12l1-7c0 0 13.7 10.9 15 25 0 0 0.7 13.5-5 28 0 0-4.9 6.6-2 10 0 0 13.4 1.1 17-29 0 0 0.3-16.9-8-28 0 0-9.7-8-13-10 0 0-4.6-2.3-3-5 0 0 10.5 0.6 17 5.6 0 0 20.5 15.7 25 33.1 0 0 4 4.9 7-0.7 0 0 0.2-13.6-11.2-25.5-11.6-12.1-17.5-13.4-23.8-17.5 0 0 17.5-0.2 27.6-11.5 0.1-0.2 0.3-0.3 0.4-0.5 4.3-9 6.1-22.4 6.1-22.4 0 0 0.6-21.3-3.1-15.6 0 0-1.5 10.9-4 18 0 0-5.2 14.7-12.1 18.7 0 0-8.7 8.2-14.9 8.3 0 0-7.7 0.9-10 0 0 0-1.9-0.1-2-2z" data-v-1bd37cd7></path></g></svg></button><button id="inventory-button" class="h-full w-36 hover:bg-black/20" data-v-1bd37cd7><span class="text-white/80 font-serif cursor-pointer" data-v-1bd37cd7>INVENTORY</span></button><button class="h-full w-36 hover:bg-black/20" data-v-1bd37cd7><span class="text-white/80 font-serif cursor-pointer" data-v-1bd37cd7>BRANCH</span></button><button id="equipment-button" class="h-full w-36 hover:bg-black/20" data-v-1bd37cd7><span class="text-white/80 font-serif cursor-pointer" data-v-1bd37cd7>EQUIPMENT</span></button>',4)),be("div",mE,[be("div",_E,[e[0]||(e[0]=be("img",{class:"w-8 h-8 shard",src:hE},null,-1)),be("span",null,oc(s.chessShardsValue),1)]),be("div",vE,[e[1]||(e[1]=be("img",{class:"w-8 h-8 shard",src:dE},null,-1)),be("span",null,oc(s.battleShardsValue),1)])])])])}const wE=Gn(fE,[["render",yE],["__scopeId","data-v-1bd37cd7"]]),EE={data(){return{showFirstChar:!0}},computed:{...fl(["provinces","characters","playerProfile","insertedElement"])},methods:{...o_(["updateInsertedElement"]),showInventory(){const t=document.querySelector(".initial");t.classList.remove("hidden");const e=document.getElementById("profile");e.style.display="none",setTimeout(()=>{this.toggleAnimation()},0),setTimeout(()=>{const n=document.getElementById("parent-container"),r=this.$refs.shownInventory,s=document.createDocumentFragment();Array.from(r.childNodes).forEach(d=>{s.appendChild(d.cloneNode(!0))});const i=s.getElementById("characters-list");i.innerHTML="";const o=this.$refs.unlockedChar,c=this.$refs.lockedChar;for(let d=0;d<this.playerProfile.characters.length;d++){const p=document.createDocumentFragment();Array.from(o.childNodes).forEach(v=>{p.appendChild(v.cloneNode(!0))});const m=this.characters.find(v=>v.name===this.playerProfile.characters[d].charName);p.querySelector(".char-icon").src=m.icon,p.querySelector(".char-lvl").textContent=`Lvl. ${this.playerProfile.characters[d].charLvl}`,i.appendChild(p)}for(let d=0;d<49;d++){const p=document.createDocumentFragment();Array.from(c.childNodes).forEach(m=>{p.appendChild(m.cloneNode(!0))}),i.appendChild(p)}const l=s.getElementById("selected-char");if(this.showFirstChar){const d='<svg class="w-6 h-6" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 3L14.0357 8.16153C14.2236 8.63799 14.3175 8.87622 14.4614 9.0771C14.5889 9.25516 14.7448 9.41106 14.9229 9.53859C15.1238 9.68245 15.362 9.77641 15.8385 9.96432L21 12L15.8385 14.0357C15.362 14.2236 15.1238 14.3175 14.9229 14.4614C14.7448 14.5889 14.5889 14.7448 14.4614 14.9229C14.3175 15.1238 14.2236 15.362 14.0357 15.8385L12 21L9.96432 15.8385C9.77641 15.362 9.68245 15.1238 9.53859 14.9229C9.41106 14.7448 9.25516 14.5889 9.0771 14.4614C8.87622 14.3175 8.63799 14.2236 8.16153 14.0357L3 12L8.16153 9.96432C8.63799 9.77641 8.87622 9.68245 9.0771 9.53859C9.25516 9.41106 9.41106 9.25516 9.53859 9.0771C9.68245 8.87622 9.77641 8.63799 9.96432 8.16153L12 3Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>';l.querySelector(".profile-name-slct").textContent=`${this.playerProfile.characters[0].charName} `,l.querySelector(".slct-char-rarity").innerHTML="";for(let p=0;p<this.playerProfile.characters[0].rarity;p++)l.querySelector(".slct-char-rarity").innerHTML+=d;l.querySelector(".slct-char-lvl").textContent=`Level ${this.playerProfile.characters[0].charLvl} / 50`,l.querySelector(".chibi-char-img-slct").src=this.characters.find(p=>p.name===this.playerProfile.characters[0].charName).chibiIcon}n.prepend(s),document.getElementById("hide-inventory").addEventListener("click",this.hideInventory),this.updateInsertedElement(n.firstElementChild)},900),setTimeout(()=>{this.toggleAnimation(),setTimeout(()=>{t.classList.add("hidden")},1500)},1e3)},toggleAnimation(){document.querySelector(".initial").classList.toggle("active")},hideInventory(){this.clickSound(),document.body.style.pointerEvents="none";const t=document.querySelector(".initial"),e=document.getElementById("profile");t.classList.remove("hidden"),setTimeout(()=>{this.toggleAnimation()},0),setTimeout(()=>{this.insertedElement.remove(),this.updateInsertedElement(null),e.style.display="flex"},900),setTimeout(()=>{this.toggleAnimation(),setTimeout(()=>{document.body.style.pointerEvents="auto",t.classList.add("hidden")},1500)},1e3)},clickSound(){const t=document.getElementById("click-sound");t.volume=.3,t.play()}},mounted(){document.getElementById("inventory-button").addEventListener("click",this.showInventory)}},TE={id:"shownInventory",ref:"shownInventory",class:"hidden"},bE={id:"unlocked-char",ref:"unlockedChar",class:"hidden"},IE={id:"locked-char",ref:"lockedChar",class:"hidden"};function SE(t,e,n,r,s,i){return Xt(),mn(Qt,null,[be("div",TE,e[0]||(e[0]=[Kt('<div id="inventory" class="w-full h-full absolute z-[400] flex justify-start items-center bg-black/40 backdrop-blur-lg" data-v-b3190f07><div class="w-full h-full flex justify-start items-center px-24" data-v-b3190f07><button id="hide-inventory" class="fixed top-0 left-0 w-24 h-24 flex justify-center items-center z-50" data-v-b3190f07><svg class="w-10 h-10 text-white hover:text-[#e8e1d2]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><path d="M11 9L8 12M8 12L11 15M8 12H16M7.2 20H16.8C17.9201 20 18.4802 20 18.908 19.782C19.2843 19.5903 19.5903 19.2843 19.782 18.908C20 18.4802 20 17.9201 20 16.8V7.2C20 6.0799 20 5.51984 19.782 5.09202C19.5903 4.71569 19.2843 4.40973 18.908 4.21799C18.4802 4 17.9201 4 16.8 4H7.2C6.0799 4 5.51984 4 5.09202 4.21799C4.71569 4.40973 4.40973 4.71569 4.21799 5.09202C4 5.51984 4 6.07989 4 7.2V16.8C4 17.9201 4 18.4802 4.21799 18.908C4.40973 19.2843 4.71569 19.5903 5.09202 19.782C5.51984 20 6.07989 20 7.2 20Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></path></g></svg></button><div class="w-1/2 h-[40rem] flex flex-col" data-v-b3190f07><div class="w-[32rem] h-[5rem] text-white flex justify-start items-center text-xl tracking-wider" data-v-b3190f07><span data-v-b3190f07>Characters</span></div><div id="characters-list" class="w-[32rem] justify-between h-[35rem] grid auto-rows-auto grid-cols-5 overflow-y-auto gap-4" data-v-b3190f07></div></div><div id="selected-char" class="w-1/2 h-[40rem] flex justify-end items-center px-10 space-y-4 flex-col" data-v-b3190f07><div class="w-full h-10 flex space-x-4 text-white font-mono justify-center" data-v-b3190f07><p class="w-auto h-full tracking-wider flex justify-center items-center text-xl profile-name-slct" data-v-b3190f07>Mira </p><div class="h-full slct-char-rarity flex justify-start items-center space-x-2" data-v-b3190f07><svg class="w-6 h-6" viewBox="0 0 24 24" fill="white    " xmlns="http://www.w3.org/2000/svg" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><path d="M12 3L14.0357 8.16153C14.2236 8.63799 14.3175 8.87622 14.4614 9.0771C14.5889 9.25516 14.7448 9.41106 14.9229 9.53859C15.1238 9.68245 15.362 9.77641 15.8385 9.96432L21 12L15.8385 14.0357C15.362 14.2236 15.1238 14.3175 14.9229 14.4614C14.7448 14.5889 14.5889 14.7448 14.4614 14.9229C14.3175 15.1238 14.2236 15.362 14.0357 15.8385L12 21L9.96432 15.8385C9.77641 15.362 9.68245 15.1238 9.53859 14.9229C9.41106 14.7448 9.25516 14.5889 9.0771 14.4614C8.87622 14.3175 8.63799 14.2236 8.16153 14.0357L3 12L8.16153 9.96432C8.63799 9.77641 8.87622 9.68245 9.0771 9.53859C9.25516 9.41106 9.41106 9.25516 9.53859 9.0771C9.68245 8.87622 9.77641 8.63799 9.96432 8.16153L12 3Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></path></g></svg><svg class="w-6 h-6" viewBox="0 0 24 24" fill="white    " xmlns="http://www.w3.org/2000/svg" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><path d="M12 3L14.0357 8.16153C14.2236 8.63799 14.3175 8.87622 14.4614 9.0771C14.5889 9.25516 14.7448 9.41106 14.9229 9.53859C15.1238 9.68245 15.362 9.77641 15.8385 9.96432L21 12L15.8385 14.0357C15.362 14.2236 15.1238 14.3175 14.9229 14.4614C14.7448 14.5889 14.5889 14.7448 14.4614 14.9229C14.3175 15.1238 14.2236 15.362 14.0357 15.8385L12 21L9.96432 15.8385C9.77641 15.362 9.68245 15.1238 9.53859 14.9229C9.41106 14.7448 9.25516 14.5889 9.0771 14.4614C8.87622 14.3175 8.63799 14.2236 8.16153 14.0357L3 12L8.16153 9.96432C8.63799 9.77641 8.87622 9.68245 9.0771 9.53859C9.25516 9.41106 9.41106 9.25516 9.53859 9.0771C9.68245 8.87622 9.77641 8.63799 9.96432 8.16153L12 3Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></path></g></svg><svg class="w-6 h-6" viewBox="0 0 24 24" fill="white    " xmlns="http://www.w3.org/2000/svg" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><path d="M12 3L14.0357 8.16153C14.2236 8.63799 14.3175 8.87622 14.4614 9.0771C14.5889 9.25516 14.7448 9.41106 14.9229 9.53859C15.1238 9.68245 15.362 9.77641 15.8385 9.96432L21 12L15.8385 14.0357C15.362 14.2236 15.1238 14.3175 14.9229 14.4614C14.7448 14.5889 14.5889 14.7448 14.4614 14.9229C14.3175 15.1238 14.2236 15.362 14.0357 15.8385L12 21L9.96432 15.8385C9.77641 15.362 9.68245 15.1238 9.53859 14.9229C9.41106 14.7448 9.25516 14.5889 9.0771 14.4614C8.87622 14.3175 8.63799 14.2236 8.16153 14.0357L3 12L8.16153 9.96432C8.63799 9.77641 8.87622 9.68245 9.0771 9.53859C9.25516 9.41106 9.41106 9.25516 9.53859 9.0771C9.68245 8.87622 9.77641 8.63799 9.96432 8.16153L12 3Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></path></g></svg><svg class="w-6 h-6" viewBox="0 0 24 24" fill="white    " xmlns="http://www.w3.org/2000/svg" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><path d="M12 3L14.0357 8.16153C14.2236 8.63799 14.3175 8.87622 14.4614 9.0771C14.5889 9.25516 14.7448 9.41106 14.9229 9.53859C15.1238 9.68245 15.362 9.77641 15.8385 9.96432L21 12L15.8385 14.0357C15.362 14.2236 15.1238 14.3175 14.9229 14.4614C14.7448 14.5889 14.5889 14.7448 14.4614 14.9229C14.3175 15.1238 14.2236 15.362 14.0357 15.8385L12 21L9.96432 15.8385C9.77641 15.362 9.68245 15.1238 9.53859 14.9229C9.41106 14.7448 9.25516 14.5889 9.0771 14.4614C8.87622 14.3175 8.63799 14.2236 8.16153 14.0357L3 12L8.16153 9.96432C8.63799 9.77641 8.87622 9.68245 9.0771 9.53859C9.25516 9.41106 9.41106 9.25516 9.53859 9.0771C9.68245 8.87622 9.77641 8.63799 9.96432 8.16153L12 3Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></path></g></svg></div></div><p class="w-auto h-10 tracking-widest text-white font-light flex items-center slct-char-lvl" data-v-b3190f07>Level 1 / 50</p><img class="w-64 chibi-char-img-slct" data-v-b3190f07><div class="w-64 rounded-full h-1 bg-white" data-v-b3190f07></div><div class="w-full char-skills-invent char-info-block h-24 shadow-lg bg-[#111111] rounded-xl flex text-white font-mono px-8 py-6 justify-center items-center space-x-4" data-v-b3190f07><svg fill="#ffffff" class="w-12 h-12 cursor-pointer" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 505.712 505.712" xml:space="preserve" stroke="#ffffff" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><g transform="translate(1 1)" data-v-b3190f07><g data-v-b3190f07><g data-v-b3190f07><path d="M79.842,271.618H61.877c-9.881,0-17.965,8.084-17.965,17.965v17.965c0,9.881,8.084,17.965,17.965,17.965h17.965 c9.881,0,17.965-8.084,17.965-17.965v-17.965C97.807,279.702,89.723,271.618,79.842,271.618z M79.842,307.547H61.877v-17.965 h17.965V307.547z" data-v-b3190f07></path> <path d="M205.596,271.618h-17.965c-9.881,0-17.965,8.084-17.965,17.965v17.965c0,9.881,8.084,17.965,17.965,17.965h17.965 c9.881,0,17.965-8.084,17.965-17.965v-17.965C223.561,279.702,215.477,271.618,205.596,271.618z M205.596,307.547h-17.965 v-17.965h17.965V307.547z" data-v-b3190f07></path> <path d="M332.249,73.105c-3.593-3.593-8.084-5.389-12.575-5.389s-8.982,1.797-12.575,5.389l-12.575,12.575 c-7.186,7.186-7.186,17.965,0,25.151l12.575,12.575c3.593,3.593,8.084,5.389,12.575,5.389s8.982-1.797,12.575-5.389 l12.575-12.575c3.593-3.593,5.389-8.084,5.389-12.575s-1.796-8.982-5.389-12.575L332.249,73.105z M319.674,110.832 l-12.575-12.575l12.575-12.575l12.575,12.575L319.674,110.832z" data-v-b3190f07></path> <path d="M307.098,212.333c3.593,3.593,8.084,5.389,12.575,5.389s8.982-1.797,11.677-5.389l12.576-12.575 c3.593-3.593,5.389-8.084,5.389-12.575s-1.796-8.982-5.389-12.575l-12.576-12.575c-3.593-3.593-8.084-5.389-12.575-5.389 s-8.982,1.797-12.575,5.389l-12.575,12.575c-7.186,7.186-7.186,17.965,0,25.151L307.098,212.333z M319.674,174.607l12.575,12.575 l-12.575,12.575l-12.575-12.575L319.674,174.607z" data-v-b3190f07></path> <path d="M332.249,264.432c-3.593-3.593-8.084-5.389-12.575-5.389s-8.982,1.797-12.575,5.389l-12.575,12.575 c-7.186,7.186-7.186,17.965,0,25.151l12.575,12.575c3.593,3.593,8.084,5.389,12.575,5.389s8.982-2.695,12.575-5.389 l12.575-12.575c7.186-7.186,7.186-17.965,0-25.151L332.249,264.432z M319.674,301.26l-12.575-12.575l12.575-12.575l12.575,12.575 L319.674,301.26z" data-v-b3190f07></path> <path d="M205.596,397.372h-17.965c-9.881,0-17.965,8.084-17.965,17.965v17.965c0,9.881,8.084,17.965,17.965,17.965h17.965 c9.881,0,17.965-8.084,17.965-17.965v-17.965C223.561,405.456,215.477,397.372,205.596,397.372z M205.596,433.302h-17.965 v-17.965h17.965V433.302z" data-v-b3190f07></path> <path d="M79.842,397.372H61.877c-9.881,0-17.965,8.084-17.965,17.965v17.965c0,9.881,8.084,17.965,17.965,17.965h17.965 c9.881,0,17.965-8.084,17.965-17.965v-17.965C97.807,405.456,89.723,397.372,79.842,397.372z M79.842,433.302H61.877v-17.965 h17.965V433.302z" data-v-b3190f07></path> <path d="M142.719,334.495h-17.965c-9.881,0-17.965,8.084-17.965,17.965v17.965c0,9.881,8.084,17.965,17.965,17.965h17.965 c9.881,0,17.965-8.084,17.965-17.965V352.46C160.684,342.579,152.6,334.495,142.719,334.495z M142.719,370.425h-17.965V352.46 h17.965V370.425z" data-v-b3190f07></path> <path d="M496.628,174.607l-158.99-158.99c-9.881-10.779-26.947-10.779-37.726,0L141.821,175.505 c-5.389,4.491-8.084,11.677-8.084,18.863s2.695,13.474,8.084,18.863l13.474,13.474H25.947C10.677,226.705-1,238.382-1,253.653 v215.579c0,15.27,11.677,26.947,26.947,26.947h215.579c15.27,0,26.947-11.677,26.947-26.947V339.563l32.337,31.759 c5.389,5.39,11.677,8.084,18.863,8.084c6.288,0,13.474-2.695,18.863-8.084l158.091-158.989 c5.389-4.491,8.084-11.677,8.084-18.863S502.018,179.997,496.628,174.607z M250.509,469.232c0,5.389-3.593,8.982-8.982,8.982 H25.947c-5.389,0-8.982-3.593-8.982-8.982V253.653c0-5.389,3.593-8.982,8.982-8.982H173.26h68.267 c5.389,0,8.982,3.593,8.982,8.982v68.267V469.232z M484.053,199.758L325.961,358.747c-3.593,3.593-8.982,3.593-12.575,0 l-44.912-44.912v-60.182v0c0-3.34-0.559-6.509-1.592-9.421c-0.738-2.08-1.718-4.029-2.908-5.816 c-0.476-0.715-0.986-1.404-1.528-2.065c-0.542-0.661-1.116-1.294-1.719-1.898s-1.237-1.177-1.898-1.719 c-4.628-3.793-10.621-6.028-17.302-6.028h-60.182l-26.947-26.947c-1.797-1.797-2.695-3.593-2.695-6.288s0.898-4.491,2.695-6.288 l158.99-158.091c3.593-3.593,8.982-3.593,12.575,0l158.091,158.091c1.797,1.796,2.695,3.593,2.695,6.288 S485.849,197.961,484.053,199.758z" data-v-b3190f07></path></g></g></g></g></svg><svg class="w-12 h-12 cursor-pointer" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" stroke="#ffffff" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><path d="M7 15.5c0 .049.006.096.007.145a7.3 7.3 0 1 1 8.638-8.638c-.049 0-.096-.007-.145-.007a8.557 8.557 0 0 0-.877.045 6.296 6.296 0 1 0-7.578 7.578A8.557 8.557 0 0 0 7 15.5zm.983-11.27l-.119-.992A5.3 5.3 0 0 0 3.2 8.558c.002.153.01.303.024.45l.995-.093a4.508 4.508 0 0 1-.019-.367A4.3 4.3 0 0 1 7.983 4.23zM22.8 15.5a7.3 7.3 0 1 1-7.3-7.3 7.308 7.308 0 0 1 7.3 7.3zm-1 0a6.3 6.3 0 1 0-6.3 6.3 6.307 6.307 0 0 0 6.3-6.3zm-10.58.415a4.508 4.508 0 0 1-.02-.367 4.3 4.3 0 0 1 3.783-4.318l-.119-.992a5.3 5.3 0 0 0-4.664 5.32c.002.153.01.303.024.45zm8.028-4.163l-.707.707a4.3 4.3 0 1 1-6.082 6.082l-.707.707a5.3 5.3 0 0 0 7.496-7.496z" data-v-b3190f07></path><path fill="none" stroke="none" d="M0 0h24v24H0z" data-v-b3190f07></path></g></svg></div></div></div></div>',1)]),512),be("div",bE,e[1]||(e[1]=[Kt('<div class="unlocked-char w-24 h-28 rounded-md relative flex justify-center cursor-pointer shadow-lg" data-v-b3190f07><div class="absolute top-0 w-24 h-1 rounded-t-md bg-cyan-200" data-v-b3190f07></div><img class="w-full rounded-md char-icon" data-v-b3190f07><div class="absolute bottom-0 w-24 h-6 rounded-b-md bg-white flex justify-center items-center" data-v-b3190f07><span class="text-[#121212] text-sm font-mono char-lvl" data-v-b3190f07>Lv. 1</span></div></div>',1)]),512),be("div",IE,e[2]||(e[2]=[Kt('<div class="locked-char w-24 h-28 rounded-md bg-[#121212] flex justify-center cursor-pointer shadow-lg" data-v-b3190f07><svg class="w-16" version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="#8f8f8f" data-v-b3190f07><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-b3190f07></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-b3190f07></g><g id="SVGRepo_iconCarrier" data-v-b3190f07><path d="M16,2C9.9,2,5,6.9,5,13v15.1c0,0.4,0.2,0.8,0.6,0.9c0.4,0.2,0.8,0.1,1.1-0.2l0.7-0.6c0.4-0.3,0.9-0.3,1.3,0 c1.1,1.1,2.9,1.1,4,0c0.4-0.3,0.9-0.3,1.3,0c1.1,1.1,2.9,1.1,4,0c0.4-0.3,0.9-0.3,1.3,0c1.1,1.1,2.9,1.1,4,0c0.4-0.3,0.9-0.3,1.3,0 l0.7,0.6c0.2,0.2,0.4,0.3,0.7,0.3c0.1,0,0.3,0,0.4-0.1c0.4-0.2,0.6-0.5,0.6-0.9V13C27,6.9,22.1,2,16,2z M18,13c0-0.6,0.4-1,1-1 s1,0.4,1,1v3c0,0.6-0.4,1-1,1s-1-0.4-1-1V13z M12,13c0-0.6,0.4-1,1-1s1,0.4,1,1v3c0,0.6-0.4,1-1,1s-1-0.4-1-1V13z M21,20H11 c-0.6,0-1-0.4-1-1s0.4-1,1-1h10c0.6,0,1,0.4,1,1S21.6,20,21,20z" data-v-b3190f07></path></g></svg></div>',1)]),512)],64)}const AE=Gn(EE,[["render",SE],["__scopeId","data-v-b3190f07"]]),CE={},RE={class:"bg-black w-full h-full z-50 fixed initial hidden"};function PE(t,e){return Xt(),mn("div",RE)}const kE=Gn(CE,[["render",PE]]),xE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20width='800px'%20height='800px'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M74%20208H64a16%2016%200%200%200-16%2016v16a16%2016%200%200%200%2016%2016h15.94A535.78%20535.78%200%200%201%2064%20384h128a535.78%20535.78%200%200%201-15.94-128H192a16%2016%200%200%200%2016-16v-16a16%2016%200%200%200-16-16h-10l33.89-90.38a16%2016%200%200%200-15-21.62H144V64h24a8%208%200%200%200%208-8V40a8%208%200%200%200-8-8h-24V8a8%208%200%200%200-8-8h-16a8%208%200%200%200-8%208v24H88a8%208%200%200%200-8%208v16a8%208%200%200%200%208%208h24v32H55.09a16%2016%200%200%200-15%2021.62zm173.16%20251.58L224%20448v-16a16%2016%200%200%200-16-16H48a16%2016%200%200%200-16%2016v16L8.85%20459.58A16%2016%200%200%200%200%20473.89V496a16%2016%200%200%200%2016%2016h224a16%2016%200%200%200%2016-16v-22.11a16%2016%200%200%200-8.84-14.31zm92.77-157.78l-3.29%2082.2h126.72l-3.29-82.21%2024.6-20.79A32%2032%200%200%200%20496%20256.54V198a6%206%200%200%200-6-6h-26.38a6%206%200%200%200-6%206v26h-24.71v-26a6%206%200%200%200-6-6H373.1a6%206%200%200%200-6%206v26h-24.71v-26a6%206%200%200%200-6-6H310a6%206%200%200%200-6%206v58.6a32%2032%200%200%200%2011.36%2024.4zM384%20304a16%2016%200%200%201%2032%200v32h-32zm119.16%20155.58L480%20448v-16a16%2016%200%200%200-16-16H336a16%2016%200%200%200-16%2016v16l-23.15%2011.58a16%2016%200%200%200-8.85%2014.31V496a16%2016%200%200%200%2016%2016h192a16%2016%200%200%200%2016-16v-22.11a16%2016%200%200%200-8.84-14.31z'/%3e%3c/g%3e%3c/svg%3e",VE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20298%20298'%20xml:space='preserve'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M216.923,246.538c3.457-6.556,9.963-22.777-1.666-39.137C200.508,186.65,179.942,125,193.61,83H207V0h-16v17h-16V0h-18v17%20h-16V0h-17v17h-16V0H91v83h14.057c13.668,42-6.98,103.65-21.73,124.401c-11.629,16.359-5.373,32.706-1.916,39.262%20C77.347,247.044,74,250.337,74,254.5v18c0,4.418,3.915,8.5,8.333,8.5H83v17h132v-17h1.333c4.418,0,7.667-4.082,7.667-8.5v-18%20C224,250.338,220.986,246.92,216.923,246.538z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",DE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20298%20298'%20xml:space='preserve'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M210.952,116c14.912,0,27.037-12.088,27.037-27s-10.945-25.013-26.964-30.666c-11.333-4-18.018-10.823-23.009-19.412%20C183.025,30.333,172.025,17,157.525,17c-5.832,0-19.798,0-19.798,0V0c-107,40.03-72.369,184-72.369,184h21.369v14h-6.369%20c-4.418,0-8.631,3.582-8.631,8v1c0,3.289,2.302,6.111,5.14,7.341c-8.77,15.05-1.419,29.775,0.761,33.659h-5.271%20c-4.418,0-8.631,3.582-8.631,8v18c0,4.418,4,8,8,8v16h132v-16.069c4-0.493,7-3.853,7-7.931v-18c0-4.418-2.951-8-7.369-8h-4.27%20c2.181-3.884,8.902-18.609,0.13-33.659c2.838-1.23,4.508-4.052,4.508-7.341v-1c0-4.418-2.951-8-7.369-8h-7.631v-14h24.132%20c-16.501-54-66.334-83-66.334-83h40.182C191.146,109.889,200.351,116,210.952,116z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",LE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20297.08%20297.08'%20xml:space='preserve'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M206.873,255.08h-3.41c2.214-3.337,8.32-14.536-0.712-25.6c-8.9-10.905-25.137-39.546-24.448-64.4h3.57%20c4.418,0,7.667-3.582,7.667-8v-1c0-4.418-3.249-8-7.667-8h-4.333v-4.285c13-8.971,20.511-23.502,20.511-39.914%20c0-10.332-7.011-26.11-15.819-41.721l-18.553,18.595c-3.111,3.111-8.182,3.111-11.294,0.001l-0.921-0.933%20c-3.111-3.11-3.106-8.202,0.005-11.313l21.676-21.674c-4.444-7.069-8.869-13.678-12.703-19.224%20c2.881-2.93,4.663-6.944,4.663-11.379C165.106,7.268,157.841,0,148.874,0c-8.967,0-16.234,7.268-16.234,16.233%20c0,4.434,1.781,8.448,4.662,11.379c-14.585,21.101-37.94,57.587-37.94,76.269c0,16.853,8.178,31.724,21.178,40.625v3.574h-4.667%20c-4.418,0-8.333,3.582-8.333,8v1c0,4.418,3.915,8,8.333,8h3.571c0.689,24.855-15.547,53.495-24.448,64.4%20c-9.031,11.064-2.926,22.263-0.712,25.6h-3.411c-4.418,0-8.333,3.582-8.333,8v9c0,4.078,3,7.438,7,7.931v17.069h118v-17.069%20c4-0.493,7-3.853,7-7.931v-9C214.54,258.662,211.291,255.08,206.873,255.08z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",OE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20297.77%20297.77'%20xml:space='preserve'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M207.218,255.77h-3.369c2.214-3.337,8.32-14.536-0.712-25.6c-8.9-10.905-25.129-39.546-24.438-64.4h3.519%20c4.418,0,7.667-3.582,7.667-8v-1c0-4.418-3.582-8-8-8c4.418,0,8-3.582,8-8v-1c0-4.418-3.249-8-7.667-8h-4.626%20c-2.064-21.741,1.078-43.054,5.959-54.666c1.86-4.425,4.118-7.79,6.296-10.334h1.371c4.418,0,7.667-3.582,7.667-8v-1%20c0-4.418-3.249-8-7.667-8h-9.8c-1.803-10.896-8.998-19.966-18.755-24.383c1.783-2.607,2.829-5.757,2.829-9.154%20C165.492,7.267,158.227,0,149.26,0s-16.234,7.267-16.234,16.232c0,3.385,1.037,6.525,2.809,9.127%20c-9.788,4.406-17.01,13.49-18.816,24.41h-10.8c-4.418,0-8.333,3.582-8.333,8v1c0,4.418,3.915,8,8.333,8h2.371%20c2.178,2.544,4.436,5.909,6.296,10.334c4.881,11.612,8.023,32.925,5.959,54.666h-4.626c-4.418,0-8.333,3.582-8.333,8v1%20c0,4.418,3.582,8,8,8c-4.418,0-8,3.582-8,8v1c0,4.418,3.915,8,8.333,8h3.602c0.692,24.854-15.536,53.495-24.438,64.4%20c-9.031,11.063-2.926,22.263-0.712,25.6h-3.452c-4.418,0-8.333,3.582-8.333,8v9c0,4.078,3,7.438,7,7.931v17.069h118V280.7%20c4-0.493,7-3.853,7-7.931v-9C214.885,259.352,211.636,255.77,207.218,255.77z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",NE="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20298%20298'%20xml:space='preserve'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M197.333,256h-1.641c1.878-3.337,7.061-14.536-0.605-25.6c-7.554-10.905-21.491-39.547-20.904-64.401%20c4.409-0.01,7.816-3.587,7.816-7.999v-1c0-4.418-3.582-8-8-8c4.418,0,8-3.582,8-8v-1c0-4.418-3.249-8-7.667-8h-3.55%20c-1.006-16.142,1.307-29.861,4.798-40.724c1.121-3.487,2.432-6.186,3.752-8.276h2c4.418,0,7.667-3.582,7.667-8v-1%20c0-4.343-3.463-7.87-7.777-7.988C179.087,52.771,169,42.203,156,39.363V27h12V12h-12V0h-15v12h-12v15h12v12.595%20c-12,3.15-21.803,13.512-23.888,26.405h-0.779c-4.418,0-8.333,3.582-8.333,8v1c0,4.418,3.915,8,8.333,8h3%20c1.32,2.091,2.631,4.789,3.752,8.276c3.491,10.862,5.804,24.582,4.798,40.724h-4.55c-4.418,0-8.333,3.582-8.333,8v1%20c0,4.418,3.582,8,8,8c-4.418,0-8,3.582-8,8v1c0,4.418,3.915,8,8.333,8h1.053c0.588,24.855-13.183,53.495-20.737,64.4%20c-7.664,11.063-2.482,22.263-0.604,25.6h-1.711c-4.418,0-8.333,3.582-8.333,8v9c0,3.727,3,6.849,6,7.737V298h100v-17.263%20c4-0.889,6-4.011,6-7.737v-9C205,259.582,201.751,256,197.333,256z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ME={data(){return{isListShown:!1,filteredCharacters:[],selectedTileIndex:null,tilesWithCharacters:[],typeToTileMap:{B:2,R:0,N:1,Q:3,K:4,R1:7,B1:5,N1:6}}},computed:{...fl(["provinces","characters","playerProfile","insertedElement"]),characters(){const t=this.$store.state.playerProfile.characters.map(e=>e.charName);return this.$store.state.characters.filter(e=>t.includes(e.name))}},methods:{toggleAnimation(){document.querySelector(".initial").classList.toggle("active")},showList(){this.clickSound(),this.isListShown=!this.isListShown},filterCharactersByTypes(t){this.filteredCharacters=this.characters.filter(e=>t.includes(e.type))},createTiles(){let t="url('/src/assets/whiteabove3.png')",e="none",n="none",r="100% 100%",s="100% 100%",i="url('/src/assets/blackabove.png') center center / cover no-repeat, #101010";const o=document.getElementById("tiles");o.innerHTML="";for(let c=0;c<1;c++)for(let l=0;l<8;l++){const h=document.createElement("div");h.classList.add("tile-inv"),(c+l)%2===1&&h.classList.add("black"),["front-inv","back-inv","left-inv","right-inv","top-inv","bottom-inv"].forEach(D=>{const O=document.createElement("div");O.classList.add("face-inv",D),(c+l)%2===1?D==="bottom-inv"?(O.style.background=`linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,1) 100%), ${i}`,O.style.backgroundSize=s,O.style.animation=n):(O.style.background=`${i}`,O.style.backgroundSize=s,O.style.animation=n):D==="top-inv"||D==="front-inv"?(O.style.background=`${t}`,O.style.backgroundSize=r,O.style.animation=e):D==="bottom-inv"?(O.style.background=`linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,1) 100%), ${t}`,O.style.backgroundSize=r,O.style.animation=e):(O.style.background=`${t}`,O.style.backgroundSize=r),h.appendChild(O)}),h.style.transform="scaleZ(1)",h.classList.contains("black")?(h.querySelector(".front-inv").style.background=`linear-gradient(180deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) 100%), ${i}`,h.querySelector(".front-inv").style.backgroundSize=s):(h.querySelector(".front-inv").style.background=`${t}`,h.querySelector(".front-inv").style.backgroundSize=r);const p=Math.random()*2,m=2+Math.random(),v=-5-Math.random()*5;h.style.animation=`floatTile ${m}s ease-in-out infinite`,h.style.animationDelay=`${p}s`,h.style.setProperty("--float-height",`${v}px`),o.appendChild(h)}},hideEquipment(){this.clickSound(),this.isListShown&&this.showList(),document.body.style.pointerEvents="none";const t=document.querySelector(".initial"),e=document.getElementById("profile");t.classList.remove("hidden"),setTimeout(()=>{this.toggleAnimation()},0),setTimeout(()=>{document.getElementById("equipment-container").classList.remove("flex"),document.getElementById("equipment-container").classList.add("hidden"),e.style.display="flex"},900),setTimeout(()=>{this.toggleAnimation(),setTimeout(()=>{document.body.style.pointerEvents="auto",t.classList.add("hidden")},1500)},1e3)},showEquipment(){this.clickSound();const t=document.querySelector(".initial");t.classList.remove("hidden");const e=document.getElementById("profile");e.style.display="none",setTimeout(()=>{this.toggleAnimation()},0),setTimeout(()=>{document.getElementById("equipment-container").classList.remove("hidden"),document.getElementById("equipment-container").classList.add("flex")},900),setTimeout(()=>{this.toggleAnimation(),setTimeout(()=>{t.classList.add("hidden")},1500)},1e3)},selectCharacter(t){const e=this.typeToTileMap[t.type];if(e===void 0){alert("No tile assigned for this character type");return}const n=document.getElementById("tiles").children,r=n[e],s=r.querySelector(".piece-inv");s&&r.removeChild(s);const i=document.createElement("div");i.classList.add("piece-inv"),i.dataset.type=t.type,i.setAttribute("draggable",!0);const o=document.createElement("img");o.src=t.chibiIcon,o.classList.add("character-image"),i.appendChild(o),r.appendChild(i),i.addEventListener("dragstart",c=>this.handleDragStart(c,t));for(let c=0;c<n.length;c++){const l=7-c;n[l].addEventListener("dragover",h=>h.preventDefault()),n[l].addEventListener("drop",h=>this.handleDrop(h,c))}this.showList()},handleDragStart(t,e){t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="none",document.body.classList.add("dragging");const n=t.target,r=document.getElementById("tiles").children;let s;for(let c=0;c<r.length;c++)if(r[c].contains(n)){s=c;break}n.classList.add("grabbable"),t.dataTransfer.setData("tileIndex",s),t.dataTransfer.setData("characterName",e.name);const i=7-s;r[i].querySelector(".front-inv").classList.add("hover-equipment"),t.target.addEventListener("dragend",()=>this.handleDragEnd(i))},handleDragEnd(t){document.getElementById("tiles").children[t].querySelector(".front-inv").classList.remove("hover-equipment")},handleDrop(t,e){t.preventDefault(),t.dataTransfer.dropEffect="move",document.body.classList.remove("dragging");const n=document.getElementById("tiles").children,r=7-e;t.dataTransfer.getData("tileIndex");const s=t.dataTransfer.getData("characterName"),i=n[e],o=n[r],c=this.$store.state.characters.find(l=>l.name===s);if(c){const l=i.querySelector(".piece-inv");l&&(i.removeChild(l),o.querySelector(".front-inv").classList.remove("hover-equipment"),r===this.typeToTileMap[c.type.replace("1","")]?this.updateCharacterType(c.name,c.type.replace("1","")):c.type.endsWith("1")||this.updateCharacterType(c.name,c.type+"1"),o.appendChild(l),document.body.style.cursor="url(/src/assets/GUI/pointer_scifi_b.svg), auto")}},updateCharacterType(t,e){this.$store.commit("UPDATE_CHARACTER_TYPE",{name:t,newType:e})},clickSound(){const t=document.getElementById("click-sound");t.volume=.2,t.play()}},mounted(){document.getElementById("equipment-button").addEventListener("click",this.showEquipment),this.createTiles()}},FE={id:"equipment-container",class:"w-full h-full bg-black/50 fixed backdrop-blur-sm z-[51000] justify-center items-center hidden"},UE={class:"fixed top-0 right-0 z-50 mt-6 mr-6"},BE={class:"absolute z-40 w-full h-full flex flex-col items-center space-y-10 backdrop-blur-sm bg-black/50"},$E={class:"w-2/3 h-24 mt-6 flex py-4 justify-center space-x-10"},jE={class:"w-2/3 h-full grid grid-cols-6 auto-rows-auto overflow-y-auto gap-6 text-white pb-10 px-10"},zE=["onClick"],qE=["src"];function GE(t,e,n,r,s,i){return Xt(),mn("div",FE,[e[9]||(e[9]=be("div",{class:"tiles",id:"tiles"},null,-1)),be("button",UE,[be("img",{onClick:e[0]||(e[0]=(...o)=>i.showList&&i.showList(...o)),class:"w-12 h-12",src:xE})]),be("button",{onClick:e[1]||(e[1]=(...o)=>i.hideEquipment&&i.hideEquipment(...o)),id:"hide-equipment",class:"fixed top-0 left-0 w-12 h-12 mt-6 ml-6 flex justify-center items-center z-50"},e[7]||(e[7]=[Kt('<svg class="w-10 h-10 text-white hover:text-[#e8e1d2]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M11 9L8 12M8 12L11 15M8 12H16M7.2 20H16.8C17.9201 20 18.4802 20 18.908 19.782C19.2843 19.5903 19.5903 19.2843 19.782 18.908C20 18.4802 20 17.9201 20 16.8V7.2C20 6.0799 20 5.51984 19.782 5.09202C19.5903 4.71569 19.2843 4.40973 18.908 4.21799C18.4802 4 17.9201 4 16.8 4H7.2C6.0799 4 5.51984 4 5.09202 4.21799C4.71569 4.40973 4.40973 4.71569 4.21799 5.09202C4 5.51984 4 6.07989 4 7.2V16.8C4 17.9201 4 18.4802 4.21799 18.908C4.40973 19.2843 4.71569 19.5903 5.09202 19.782C5.51984 20 6.07989 20 7.2 20Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>',1)])),So(be("div",BE,[be("div",$E,[be("img",{onClick:e[2]||(e[2]=o=>i.filterCharactersByTypes(["R","R1"])),class:"w-16 h-16",src:VE}),be("img",{onClick:e[3]||(e[3]=o=>i.filterCharactersByTypes(["N","N1"])),class:"w-16 h-16",src:DE}),be("img",{onClick:e[4]||(e[4]=o=>i.filterCharactersByTypes(["B","B1"])),class:"w-16 h-16",src:LE}),be("img",{onClick:e[5]||(e[5]=o=>i.filterCharactersByTypes(["Q","Q1"])),class:"w-16 h-16",src:OE}),be("img",{onClick:e[6]||(e[6]=o=>i.filterCharactersByTypes(["K","K1"])),class:"w-16 h-16",src:NE})]),be("div",jE,[(Xt(!0),mn(Qt,null,vm(s.filteredCharacters,o=>(Xt(),mn("div",{class:"w-28 h-[8.4rem] border flex justify-center items-center relative rounded-md",onClick:c=>i.selectCharacter(o),key:o.name},[be("img",{class:"absolute drop-shadow-lg",src:o.chibiIcon},null,8,qE),e[8]||(e[8]=be("div",{class:"w-full h-full bg-indigo-700 rounded-md"},null,-1))],8,zE))),128))])],512),[[ko,s.isListShown]])])}const HE=Gn(ME,[["render",GE]]),KE={};function WE(t,e){return null}const QE=Gn(KE,[["render",WE]]),YE="/Lost-in-the-Tiles/assets/rain_tree2-B_F-BRPF.png",JE="/Lost-in-the-Tiles/assets/defaultAvatar2-BLsTfbxn.png",XE={components:{ProfileBars:wE,Inventory:AE,BlackScreen:kE,CharacterEquipment:HE,Dashboard:QE},data(){return{isSearchingGame:!1,isFindingMatch:!1}},computed:{...fl(["canChoose","provinces","characters","playerProfile","insertedElement","tutorialSkiped"])},methods:{findGame(){this.isFindingMatch||(this.isFindingMatch=!0,this.isSearchingGame=!1,setTimeout(()=>{this.$router.push("/scene")},5e3))},chooseBattle(){this.isSearchingGame||(this.isSearchingGame=!0)}},mounted(){document.getElementById("profile").classList.remove("hidden");const t=document.getElementById("background-home-music");function e(){t.volume=.1,t.play()}function n(){document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("mousemove",e,{once:!0})}window.addEventListener("load",n)}},ZE={id:"parent-container",class:"w-full h-screen bg-black/60 relative"},e6={class:"fixed z-50"},t6={class:"w-full h-36 fixed top-0 z-40"},n6={class:"fixed w-80 h-full flex flex-col space-y-4 justify-center items-center right-0 bg-gradient-to-l from-[#121212] to-[#1a1a1a]"},r6={class:"w-full h-24 pl-4 pr-4"},s6={class:"fixed w-60 h-12 z-50 bottom-0 right-0 mr-10 mb-10 text-white shadow-lg font-bold tracking-wider"};function i6(t,e,n,r,s,i){const o=Qr("BlackScreen"),c=Qr("Scene"),l=Qr("CharacterEquipment"),h=Qr("Inventory"),d=Qr("ProfileBars");return Xt(),mn(Qt,null,[be("div",ZE,[be("div",e6,[ct(o)]),be("div",{class:"w-full h-full z-40 relative",onClick:e[0]||(e[0]=p=>s.isSearchingGame=!1)},e[3]||(e[3]=[Kt('<div class="w-full h-full z-50 absolute bg-[#111111]"><div class="w-full h-full absolute flex justify-center items-center filter blur-sm"><svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" class="w-48 h-48 animate-pulse"><title>new</title><g id="Layer 1"><path id=" 7" fill-rule="evenodd" class="s0" d="m514.4 559c0 0-8.9 23.6 7.7 46.7 6.1 8.4 21.2 21.7 33.3 26.7 0 0 36.6 13.9 54.6 17.8 0 0 9.3 3.1 20.5-9.1 11-12.2 25.6-42.2 27.9-52.6 0 0-20.4 11.8-40.5 13.6 0 0-38.3 0.8-53-6.9 0 0-45.4-20.4-50.5-36.2z"></path><path id=" 7" fill-rule="evenodd" class="s0" d="m505.3 559c0 0 8.9 23.6-7.7 46.7-6.1 8.4-21.2 21.7-33.3 26.7 0 0-36.6 13.9-54.6 17.8 0 0-9.3 3.1-20.5-9.1-11-12.2-25.6-42.2-27.9-52.6 0 0 20.4 11.8 40.5 13.6 0 0 38.3 0.8 53-6.9 0 0 45.4-20.4 50.5-36.2z"></path><path id=" 6" fill-rule="evenodd" class="s0" d="m675.5 566.6c0 0 21.4-9.3 30.5-24.8 0 0-9.2 4.9-14.3 4.8-0.3 0-12.9-1.6-12.9-1.6 0.2 1.6-1.5 9.9-3.3 21.6z"></path><path id=" 6" fill-rule="evenodd" class="s0" d="m343.7 563.7c0 0-21.4-9.3-30.5-24.8 0 0 9.1 4.9 14.3 4.9 0.3 0 12.9-1.6 12.9-1.6-0.2 1.5 1.5 9.8 3.3 21.5z"></path><path id=" 4" fill-rule="evenodd" class="s0" d="m512 430.2c-8.2 0-14.8-6.6-14.8-14.7 0-8.2 6.6-14.8 14.8-14.8 8.2 0 14.8 6.6 14.8 14.8 0 8.1-6.6 14.7-14.8 14.7z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m504.8 393c0 0-20.1-26.6-38.1-47.6 0 0-19.2-16.5-28.1-53.1 0 0-9.4-37.1 22.3-69 30.2-30.3 49.7-37.2 49.7-37.2 0 0 3.2-3.4 38 25 0 0 28.2 16.7 43 68.5 0 0-19.2 2.4-42 41.9l-18.1 45.8c0 0-7.1 18.1-12.4 22.9l1-66.8c0 0 2.2-18.7-7.6-17.1 0 0-9.1-3.1-8.6 9.5 0 0 2.7 75.6 0.9 77.2z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m485.2 415c0 0-28.2-2.4-54.9 4.9 0 0-23.1 10.4-59.9 2.8 0 0-37.6-7.3-53-49.5-14.6-40.2-10.8-69.1-10.8-69.1 0 0-4.4 1.2 36-18.3 0 0 28.1-15.6 81.3-6.9 0 0-6 18.4 20.1 55.8l31.4 40c0 0 13.8 16.6 15.9 23.4l-49.8-26.4c0 0-28.5-18.8-31.3-9.2 0 0-3.6 5.6 9.2 11.2 0 0 65.1 39 65.8 41.3z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m535.4 430.3c0 0 13.5-7.9 40.9-4.1 0 0 45.5 4.6 71.4 36.5 0 0 10.2 7.6 15.5 38.8 0.4 2.5 1.6 21.6-1 38.7-2.5 16.8-10.9 33.2-10.9 33.2 0 0-4 10.3-48.8 12.3 0 0-35.2-2.2-58.7-20.3-17.2-13.2-25.8-32.4-27.8-58 0 0 0.6-62.4 3.7-66.4l13.8 9.1 19.7 19c0 0 25.7 30.5 31.8 21.4 0 0 3-4-19.5-30.8-6.8-8-30.2-28.4-30.1-29.4z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m489 430.3c0 0-13.5-7.9-40.9-4.1 0 0-45.6 4.6-71.4 36.5 0 0-10.2 7.6-15.6 38.8-0.4 2.5-1.5 21.6 1.1 38.7 2.5 16.8 10.9 33.2 10.9 33.2 0 0 4 10.3 48.8 12.3 0 0 35.1-2.2 58.6-20.3 17.3-13.2 25.9-32.4 27.9-58 0 0-0.7-62.4-3.8-66.4l-13.7 9.1-19.7 19c0 0-25.7 30.5-31.9 21.4 0 0-3-4 19.6-30.8 6.7-8 30.2-28.4 30.1-29.4z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m529.6 397.9c0 0 14.1-30.3 24.3-56.1 0 0 5.5-24.6 33.7-49.6 0 0 31.6-24.2 75.4-14.2 39.2 8.9 52.1 27.9 52.1 27.9 0 0 4.7 23.9-9.4 66 0 0 1.6 9.6-37 43.2 0 0-16.3 9.9-49.6 9.2 0 0-18.1-6.9-39-9.6-15.3-2-33.4 0.3-40.4-1.6-0.8-0.2 3.2-5.2 14.8-12 17.2-10 43.8-22.4 43.8-22.4 0 0 17.6-6.8 11.6-14.8 0 0-1.6-9.5-12.5-3.1 0 0-65.4 37.9-67.8 37.1z"></path><path id=" 2" fill-rule="evenodd" class="s0" d="m364.7 261.5c0 0 2.3-40.5 30.5-58.2 0 0 8.9-3.7 30.5 0 0 0 14.4 2.2 24.8 9.5 0 0-22.4 20.8-22.9 52.5 0 0-15.4-7.8-32.4-7.7 0 0-25.1 0.5-30.5 3.9z"></path><path id=" 3" fill-rule="evenodd" class="s0" d="m576.3 215.7c0 0 9.8-8 35.3-9.5 0 0 21.4-1 25.8 4.7 0 0 19.1 23.5 26.7 54.4 0 0-20.4-5.3-31.5-3.8 0 0-20.6 2.1-29.6 7.6 0 0-2.9-27.3-26.7-53.4z"></path><path id=" 5" fill-rule="evenodd" class="s0" d="m255 453.1l21-48.6c0 0 10.4-21.4 27.6-32.4 0 0 6.2 27.4 45.8 55.3 0 0 18.9 10.7 28.6 11.4 0 0-39.3 40.4-35.3 91.6 0 0-32.7-3.4-54.3-28.6 0 0-26.8-26.9-33.4-48.7z"></path><path id=" 5" fill-rule="evenodd" class="s0" d="m768 452.2l-21-48.7c0 0-10.4-21.3-27.6-32.4 0 0-6.2 27.4-45.8 55.3 0 0-18.9 10.7-28.6 11.5 0 0 39.3 40.3 35.3 91.5 0 0 32.7-3.4 54.3-28.6 0 0 26.8-26.9 33.4-48.6z"></path><path id=" 8" fill-rule="evenodd" class="s0" d="m494 729c0 0-21.1-9.8-24-29 0 0-2.6-12.8 3-30 0 0 8.4-17.6 11-21l7 5c0 0-6.8 11.1-10 22 0 0-3.3 7.9-1 25 0 0 4.7 13.6 15 17 0 0-6.2-7.1 0-17 0 0 5.4-9.6 17-10v22 56c0 0-9.9 0.2-14-12l-1-7c0 0-13.7 10.9-15 25 0 0-0.7 13.5 5 28 0 0 4.9 6.6 2 10 0 0-13.4 1.1-17-29 0 0-0.3-16.9 8-28 0 0 9.7-8 13-10 0 0 4.6-2.3 3-5 0 0-10.5 0.5-17 5.6 0 0-20.5 15.7-25 33.1 0 0-4 4.9-7-0.7 0 0-0.2-13.6 11.1-25.5 11.7-12.1 17.6-13.4 23.9-17.5 0 0-17.5-0.2-27.6-11.5-0.1-0.2-0.3-0.3-0.4-0.5-4.3-9-6.1-22.4-6.1-22.4 0 0-0.6-21.3 3.1-15.6 0 0 1.5 10.9 4 18 0 0 5.2 14.7 12.1 18.7 0 0 8.7 8.2 14.9 8.3 0 0 7.7 0.9 10 0 0 0 1.9-0.1 2-2z"></path><path id=" 8" fill-rule="evenodd" class="s0" d="m530 729c0 0 21.1-9.8 24-29 0 0 2.6-12.8-3-30 0 0-8.4-17.6-11-21l-7 5c0 0 6.8 11.1 10 22 0 0 3.3 7.9 1 25 0 0-4.7 13.6-15 17 0 0 6.2-7.1 0-17 0 0-5.4-9.6-17-10v22 56c0 0 9.9 0.2 14-12l1-7c0 0 13.7 10.9 15 25 0 0 0.7 13.5-5 28 0 0-4.9 6.6-2 10 0 0 13.4 1.1 17-29 0 0 0.3-16.9-8-28 0 0-9.7-8-13-10 0 0-4.6-2.3-3-5 0 0 10.5 0.6 17 5.6 0 0 20.5 15.7 25 33.1 0 0 4 4.9 7-0.7 0 0 0.2-13.6-11.2-25.5-11.6-12.1-17.5-13.4-23.8-17.5 0 0 17.5-0.2 27.6-11.5 0.1-0.2 0.3-0.3 0.4-0.5 4.3-9 6.1-22.4 6.1-22.4 0 0 0.6-21.3-3.1-15.6 0 0-1.5 10.9-4 18 0 0-5.2 14.7-12.1 18.7 0 0-8.7 8.2-14.9 8.3 0 0-7.7 0.9-10 0 0 0-1.9-0.1-2-2z"></path></g></svg></div></div><img class="w-full h-full" src="'+YE+'">',2)])),be("div",t6,[ct(c,{class:"hidden"}),ct(l),ct(h),ct(d),So(be("div",n6,[e[4]||(e[4]=Kt('<div class="w-full h-full flex flex-col space-y-6 justify-end px-4"><div class="w-72 h-auto bg-[#4c4c4c] flex flex-col text-white font-bold tracking-wider"><div class="w-full h-10 border-l-4 pl-4 text-start flex items-center"><span>RANKED</span></div><div class="w-72 h-auto flex flex-col space-y-1 pl-4 pt-2 pb-2 pr-4 overflow-y-auto font-light font-sans"><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="10min" name="10min"><label for="10min">10 min</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="15min/10" name="15min/10"><label for="15min/10">15/10</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="5min" name="5min"><label for="5min">5 min</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="3min" name="3min"><label for="3min">3 min</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="3/2" name="3/2"><label for="3/2">3/2</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="1/1" name="1/1"><label for="1/1">1/1</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="1min" name="1min"><label for="1min">1 min</label></div></div></div><div class="w-72 h-auto bg-[#4c4c4c] flex flex-col text-white font-bold tracking-wider"><div class="w-full h-10 border-l-4 pl-4 text-start flex items-center"><span>UNRANKED</span></div><div class="w-72 h-auto flex flex-col space-y-1 pl-4 pt-2 pb-2 pr-4 overflow-y-auto font-light font-sans"><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="10min" name="10min"><label for="10min">10 min</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="15min/10" name="15min/10"><label for="15min/10">15/10</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="5min" name="5min"><label for="5min">5 min</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="3min" name="3min"><label for="3min">3 min</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="3/2" name="3/2"><label for="3/2">3/2</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="1/1" name="1/1"><label for="1/1">1/1</label></div><div class="space-x-4 w-full h-8 p-1 flex items-center hover:bg-[#333236]"><input type="checkbox" id="1min" name="1min"><label for="1min">1 min</label></div></div></div></div>',1)),be("div",r6,[be("button",{onClick:e[1]||(e[1]=(...p)=>i.findGame&&i.findGame(...p)),class:"w-full h-14 hover:bg-gradient-to-r hover:from-[#745353] hover:to-[#b69494] bg-[#121212] text-white font-bold tracking-wider"},"FIND OPPONENT")])],512),[[ko,s.isSearchingGame]]),e[5]||(e[5]=Kt('<div class="w-80 h-[80%] fixed mt-24 ml-24 left-0"><div class="w-full h-72 bg-gradient-to-br from-[#282828] to-[#111111] space-y-4 flex flex-col relative"><div class="w-full h-8 bg-black/50 flex items-center px-2"><span class="text-white/80 uppercase text-xs">My profile</span></div><div class="w-full h-16 px-4"><div class="w-full h-full flex space-x-4 text-white items-center pl-4 bg-black/20"><div class="w-12 h-12 rounded-full border"><img class="rounded-full" src="'+JE+'"></div><span>THEFIRSTPLAYER</span></div></div><div class="w-full h-20 px-4 absolute bottom-0 pb-4"><div class="w-full h-full flex space-x-4 text-white/70 justify-between px-10 items-center text-sm bg-gradient-to-br from-[#3e3e3e] to-[#1e1e1e]"><div class="flex flex-col text-center"><span>WINS</span><span>217</span></div><div class="flex flex-col text-center"><span>MATCHES</span><span>529</span></div></div></div></div></div>',1)),So(be("div",s6,[be("button",{class:"hover:bg-gradient-to-r hover:from-[#3e3d3d] hover:to-[#111111] w-60 h-12 bg-gradient-to-r from-[#565e5d] to-[#1a1c1c]",onClick:e[2]||(e[2]=(...p)=>i.chooseBattle&&i.chooseBattle(...p))},"PLAY")],512),[[ko,!s.isSearchingGame]])])]),e[6]||(e[6]=be("audio",{id:"click-sound",src:"/src/assets/music/souds/Click_2.wav"},null,-1)),e[7]||(e[7]=be("audio",{id:"background-home-music",src:"/src/assets/music/Sci-Fi1Loop.mp3",loop:"",autoplay:""},null,-1))],64)}const o6=Gn(XE,[["render",i6]]),a6="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='_x32_'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23ffffff;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M391.861,70.97L256,0L120.118,70.97L27.881,45.624c0,0,0,147.01,0,253.466C27.881,405.544,205.307,512,256,512%20c50.693,0,228.119-106.456,228.119-212.911c0-106.456,0-253.466,0-253.466L391.861,70.97z%20M423.287,299.089%20c0,59.128-125.426,144.822-167.287,151.901c-41.842-7.079-167.287-92.772-167.287-151.901V125.426l38.356,10.544L256,68.633%20l128.91,67.337l38.376-10.544V299.089z'/%3e%3cpath%20class='st0'%20d='M119.128,165.326v133.763c0,30.476,74.574,91.832,120.238,114.02V111.633l-108.813,56.832L119.128,165.326z'/%3e%3cpath%20class='st0'%20d='M272.633,111.643v301.466c45.663-22.188,120.238-83.544,120.238-114.02V165.326l-11.446,3.139L272.633,111.643%20z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",c6="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20290.226%20290.226'%20xml:space='preserve'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cpath%20d='M63.951,243.575c-1.945-3.578-4.401-6.907-7.363-9.869c-3.106-3.102-6.626-5.633-10.4-7.63%20c-4.51-2.387-0.945-7.5-0.945-7.5c4.616-7.023,8.825-14.079,12.305-20.226l-23.363-23.344H11.504c-4.362,0-7.898-3.539-7.898-7.902%20c0-4.361,3.536-7.9,7.898-7.9h25.947c2.1,0,4.107,0.832,5.588,2.312l85.379,85.291c1.483,1.483,2.315,3.495,2.315,5.589v26.073%20c0,4.365-3.537,7.897-7.9,7.897c-4.367,0-7.904-3.531-7.904-7.897v-22.798l-23.27-23.24c-6.281,3.707-13.582,8.252-20.816,13.25%20C70.842,245.679,66.698,248.629,63.951,243.575z'/%3e%3cpath%20d='M26.61,237.102c-7.106,0-13.784,2.764-18.812,7.784c-5.019,5.015-7.782,11.686-7.782,18.778%20c0,7.097,2.764,13.762,7.782,18.776c5.027,5.016,11.706,7.783,18.812,7.785c7.102,0,13.781-2.77,18.804-7.785%20c5.023-5.015,7.79-11.682,7.79-18.776c0-7.093-2.768-13.764-7.79-18.778C40.392,239.866,33.712,237.102,26.61,237.102z'/%3e%3cpath%20d='M100.985,182.318c-3.502,3.499-9.232,3.499-12.734,0.001l-8.81-8.801c-3.502-3.498-3.502-9.223,0-12.721L229.832,10.564%20c3.502-3.498,10.401-6.727,15.33-7.175l36.862-3.352c4.93-0.448,8.596,3.218,8.148,8.148l-3.346,36.791%20c-0.448,4.93-3.68,11.825-7.182,15.324l-150.4,150.251c-3.502,3.498-9.232,3.498-12.734,0l-8.822-8.813%20c-3.502-3.498-3.502-9.223,0-12.722L233.608,63.213c1.854-1.848,1.856-4.852,0.003-6.702c-1.848-1.853-4.853-1.853-6.709-0.002%20L100.985,182.318z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",l6="/Lost-in-the-Tiles/assets/victory-5LuAhIoc.svg",u6="/Lost-in-the-Tiles/assets/defeat--8WP-tUU.svg",h6="/Lost-in-the-Tiles/assets/draw-CC89OGb_.svg",d6="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M20.5%2015C18.9558%2018.0448%2015.7622%2021%2012%2021C7.14776%2021%203.58529%2017.5101%203%2013'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M3.5%209C4.89106%205.64934%208.0647%203%2012%203C16.7819%203%2020.4232%206.48993%2021%2011'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M21%2021L21%2015.6C21%2015.2686%2020.7314%2015%2020.4%2015V15L15%2015'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%209L3.6%209V9C3.26863%209%203%208.73137%203%208.4L3%203'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",f6="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M6%2012H18M18%2012L13%207M18%2012L13%2017'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",p6={mounted(){let t=!1;function e(T,k,I,R){const C=document.createElement("video");return C.src=T,C.autoplay=!0,C.loop=!0,C.muted=!0,C.playsInline=!0,C.style.width=I,C.style.height=R,C.classList.add("videoLayer"),k.appendChild(C),setTimeout(()=>{k.removeChild(C)},1500),C}function n(T,k){const I=document.querySelector(".player-capture"),R=document.querySelector(".enemy-capture"),C=document.createElement("img");C.classList.add("current-captured"),T===T.toLowerCase()&&k?(C.src=r.find(z=>z.type===T).img,C.dataset.type=T,C.style.filter="drop-shadow(0px 0px 1px rgba(255, 255, 255, 0.8))",I.append(C)):T===T.toUpperCase()&&!k?(C.src=r.find(z=>z.type===T).img,C.dataset.type=T,R.append(C)):T===T.toLowerCase()&&!k?(C.src=r.find(z=>z.type===T).img,C.style.filter="drop-shadow(0px 0px 1px rgba(255, 255, 255, 0.8))",C.dataset.type=T,R.append(C)):(C.src=r.find(z=>z.type===T).img,C.dataset.type=T,I.append(C))}const r=[{type:"P",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/pawn-svgrepo-com.svg"},{type:"R",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rook-svgrepo-com.svg"},{type:"N",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/knight-svgrepo-com.svg"},{type:"B",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/bishop-svgrepo-com.svg"},{type:"Q",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/pawn-svgrepo-com.svg"},{type:"K",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/king-svgrepo-com.svg"},{type:"p",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/pawn-svgrepo-com-b.svg"},{type:"r",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rook-svgrepo-com-b.svg"},{type:"n",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/knight-svgrepo-com-b.svg"},{type:"b",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/bishop-svgrepo-com-b.svg"},{type:"q",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/queen-svgrepo-com-b.svg"},{type:"k",img:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/king-svgrepo-com-b.svg"}],s=document.getElementById("background-music"),i=document.getElementById("background-wind");function o(){s.volume=.3,i.volume=.05,i.play(),s.play()}function c(){document.addEventListener("click",o,{once:!0}),document.addEventListener("keydown",o,{once:!0}),document.addEventListener("mousemove",o,{once:!0})}window.addEventListener("load",c);function l(T,k){const I=document.querySelector(".sword"),R=document.querySelector(".shield");T?(R.style.display="none",I.style.display="flex"):(I.style.display="none",R.style.display="flex")}function h(T,k){localStorage.setItem("botLevel",T.toString()),localStorage.setItem("timerTime",k.toString())}h(6,5);function d(){const T=parseInt(localStorage.getItem("botLevel"),10),k=parseInt(localStorage.getItem("timerTime"),10);return{botLevel:T,timerTime:k}}const p=d();document.getElementById("chessboard");let m=null,v="white",D="white",O=D==="white"?"black":"white",U={white:!1,black:!1},$={whiteKingside:!1,whiteQueenside:!1,blackKingside:!1,blackQueenside:!1},j=null,W=!0,Y=!1,ge={};function Ie(T){const k=document.getElementById("skills-voices");k.src=T,k.volume=.1,k.play()}l(W);let S="url('https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/whiteabove3.png')",y="none",b="none",A="100% 100%",P="100% 100%",x="url('https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/blackabove.png') center center / cover no-repeat, #101010";function E(T,k,I,R,C,z){const te=document.getElementById("move-tile-sound"),re=document.getElementById("battle-sound");document.getElementById("changeStatus"),document.getElementById("click-sound"),T&&(te.src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rocks-sliding-101019 (mp3cut.net).mp3",te.volume=.1,te.play()),k&&(I||(re.src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/swords_battle.mp3"),re.volume=.1,re.play())}let ie=[["r","n","b","q","k","b","n","r"],["p","p","p","p","p","p","p","p"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["P","P","P","P","P","P","P","P"],["R","N","B","Q","K","B","N","R"]];function Mt(T){if(T==="rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 1")for(let I=7;I>=0;I--)setTimeout(()=>{document.querySelectorAll(`.tile[data-row="${I}"]`).forEach(R=>{R.classList.contains("black")&&R.querySelectorAll(".face").forEach(z=>{})})},(7-I)*400)}function Je(){const T=document.getElementById("chessboard");T.innerHTML="";for(let I=0;I<8;I++)for(let R=0;R<8;R++){const C=document.createElement("div");C.classList.add("tile"),C.style.zIndex=I+1,(I+R)%2===1&&C.classList.add("black"),C.dataset.row=I,C.dataset.col=R,["front","back","left","right","top","bottom"].forEach(Ne=>{const oe=document.createElement("div");oe.classList.add("face",Ne),(I+R)%2===1?Ne==="bottom"?(oe.style.background=`linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,1) 100%), ${x}`,oe.style.backgroundSize=P,oe.style.animation=b):(oe.style.background=`${x}`,oe.style.backgroundSize=P,oe.style.animation=b):Ne==="top"||Ne==="front"?(oe.style.background=`${S}`,oe.style.backgroundSize=A,oe.style.animation=y):Ne==="bottom"?(oe.style.background=`linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,1) 100%), ${S}`,oe.style.backgroundSize=A,oe.style.animation=y):(oe.style.background=`${S}`,oe.style.backgroundSize=A),C.appendChild(oe)});const te=document.createElement("div");te.classList.add("hover-border");const re=ie[I][R];if(C.appendChild(te),re){const Ne=Ce(re);Ne.style.zIndex=5,C.appendChild(Ne),C.classList.remove("on-lower-plane"),te.style.transform="translateZ(140px)"}else C.classList.add("on-lower-plane"),te.style.transform="translateZ(60px)",C.classList.contains("black")?(C.querySelector(".front").style.background=`${x}`,C.querySelector(".front").style.backgroundSize=P):(C.querySelector(".front").style.background=`${S}`,C.querySelector(".front").style.backgroundSize=A);let me=`${I}-${R}`;ge[me],C.addEventListener("click",()=>Lt(I,R,C)),T.appendChild(C)}function k(I){return D==="white"&&I===I.toUpperCase()||D==="black"&&I===I.toLowerCase()}document.querySelectorAll(".tile").forEach(I=>{I.addEventListener("mouseenter",function(){const R=parseInt(I.dataset.row,10),C=parseInt(I.dataset.col,10),z=ie[R][C];z&&k(z),I.style.transform="translateZ(100px)"}),I.addEventListener("mouseleave",function(){const R=parseInt(I.dataset.row,10),C=parseInt(I.dataset.col,10),z=ie[R][C];z&&k(z),I.style.transform="translateZ(0px)"})}),T.style.display="grid",setTimeout(()=>{document.getElementById("loading-screen").style.opacity="0",setTimeout(()=>{document.getElementById("loading-screen").style.display="none"},2e3)},4e3)}let Ae=0;function Ce(T,k,I){const R=document.createElement("div");R.classList.add("piece"),R.dataset.type=T;let C=T;T!=="P"&&T!=="p"?document.querySelector(`[data-id="${C}"]`)&&(C=`${T}1`):(C=`${T}${Ae}`,Ae++,Ae===7&&(Ae=0)),R.dataset.id=C;const z=document.createElement("div");z.classList.add("letter-tip"),z.textContent=T.toUpperCase(),R.appendChild(z),T===T.toLowerCase()&&R.classList.add("black");let te=null;if(T==="P"||T==="p"?te=$t.find(re=>re.piece===T):te=$t.find(re=>re.piece===C),R.dataset.animation=vr.find(re=>re.piece===T).image,R.dataset.custom=vr.find(re=>re.piece===T).custom,R.dataset.sound=vr.find(re=>re.piece===T).sound,te){const re=document.createElement("img");re.src=te.image,re.alt=T,re.loading="lazy",re.style.width="130px",re.style.height="197px",R.appendChild(re)}else R.textContent=T.toUpperCase();return R}function Lt(T,k,I){if(!W||Y||!Sn)return;const R=I.querySelector(".piece");if(m)if(Tt(m.row,m.col,T,k)){Y=!0,Ue(m.row,m.col,T,k);const C=tn();Mt(C),m=null,L(),X&&clearInterval(X),Q(),Y=!1}else m=null,L();else R&&ee(R.dataset.type)&&(m={row:T,col:k,piece:R},_(I))}function Tt(T,k,I,R){const C=ie[T][k],z=ie[I][R];if(z&&ee(z))return!1;const te=C.toLowerCase();let re=!1;switch(te){case"p":re=Ft(C,T,k,I,R,z);break;case"r":re=qe(T,k,I,R)&&Xe(T,k,I,R);break;case"n":re=Ke(T,k,I,R);break;case"b":re=Bt(T,k,I,R)&&Xe(T,k,I,R);break;case"q":re=(qe(T,k,I,R)||Bt(T,k,I,R))&&Xe(T,k,I,R);break;case"k":re=Wt(T,k,I,R);break}if(!re)return!1;const me=ie[I][R];let Ne=null;te==="p"&&!me&&j&&T+(C==="P"?-1:1)===I&&Math.abs(k-R)===1&&j.row===T&&j.col===R&&(Ne=ie[T][R],ie[T][R]=null),ie[I][R]=C,ie[T][k]=null;const Se=le(D);return ie[T][k]=C,ie[I][R]=me,Ne&&(ie[T][R]=Ne),!Se}function Ft(T,k,I,R,C,z){const te=T==="P"?-1:1,re=T==="P"?6:1;if(I===C&&!z){if(k+te===R)return!0;if(k===re&&k+2*te===R&&!ie[k+te][I])return j={row:R,col:C,piece:T},!0}return!!(Math.abs(I-C)===1&&k+te===R&&(z||j&&j.row===k&&j.col===C&&j.piece!==T))}function qe(T,k,I,R){return T!==I&&k!==R?!1:Xe(T,k,I,R)}function Ke(T,k,I,R){const C=Math.abs(T-I),z=Math.abs(k-R);return C===2&&z===1||C===1&&z===2}function Bt(T,k,I,R){return Math.abs(T-I)!==Math.abs(k-R)?!1:Xe(T,k,I,R)}function Wt(T,k,I,R){return!!(Math.abs(T-I)<=1&&Math.abs(k-R)<=1||F(T,k,I,R))}function Xe(T,k,I,R){const C=Math.sign(I-T),z=Math.sign(R-k);let te=T+C,re=k+z;for(;te!==I||re!==R;){if(ie[te][re])return!1;te+=C,re+=z}return!0}function F(T,k,I,R){const C=T===7?"white":"black";if(U[C]||le(C))return!1;const z=R===6,te=R===2;return T!==I||Math.abs(k-R)!==2?!1:z&&ne(C,"kingside")?!(se(C,T,5)||se(C,T,6)):te&&ne(C,"queenside")?!(se(C,T,3)||se(C,T,2)):!1}function se(T,k,I){for(let R=0;R<8;R++)for(let C=0;C<8;C++){const z=ie[R][C];if(z&&ae(z,T)&&de(z,R,C,k,I))return!0}return!1}function ne(T,k){const I=T==="white"?7:0,R=k==="kingside";if(R){if($[T+"Kingside"])return!1}else if($[T+"Queenside"])return!1;if(R){if(ie[I][5]||ie[I][6])return!1}else if(ie[I][1]||ie[I][2]||ie[I][3])return!1;return!0}function ce(T,k){const I=T==="white"?7:0;if(k==="kingside"){ie[I][7],ie[I][5]=ie[I][7];const C=7,z=5,te=document.querySelector(`[data-row='${I}'][data-col='${C}']`),re=document.querySelector(`[data-row='${I}'][data-col='${z}']`);te.classList.remove("no-bounce"),setTimeout(()=>{re.style.setProperty("--start-z","0px"),re.classList.add("no-bounce")},100);const me=te.querySelector(".piece");me.style.opacity=0,setTimeout(()=>{re.querySelector(".hover-border").style.display="none",te.style.transition="transform 1s ease",E(!0,!1,!1),re.style.transition="transform 1s ease",re.style.transform="scaleZ(1)"},600),ge[`${I}-${C}`]={transform:"translateZ(-80px)",transition:"transform 1s ease"},ge[`${I}-${z}`]={transform:"scaleZ(1)",transition:"transform 1s ease"},setTimeout(()=>{te.classList.add("on-lower-plane"),re.classList.remove("on-lower-plane");const Ne=te.querySelector(".piece");Ne&&(re.appendChild(Ne),setTimeout(()=>{Ne.style.opacity=1},350))},1100),ie[I][7]=null,$[T+"Kingside"]=!0}else{const C=ie[I][0];ie[I][3]=ie[I][0];const z=0,te=3,re=document.querySelector(`[data-row='${I}'][data-col='${z}']`),me=document.querySelector(`[data-row='${I}'][data-col='${te}']`);re.classList.remove("no-bounce"),setTimeout(()=>{me.style.setProperty("--start-z","0px"),me.classList.add("no-bounce")},100);const Ne=re.querySelector(".piece");Ne.style.opacity=0,setTimeout(()=>{me.querySelector(".hover-border").style.display="none",re.style.transition="transform 1s ease",E(!0,!1,!1),me.style.transition="transform 1s ease",me.style.transform="scaleZ(1)"},600),ge[`${I}-${z}`]={transform:"translateZ(-80px)",transition:"transform 1s ease"},ge[`${I}-${te}`]={transform:"scaleZ(1)",transition:"transform 1s ease"};const oe=$t.findIndex(Se=>Se.row===I&&Se.col===z&&Se.piece===C);oe!==-1&&($t[oe].row=I,$t[oe].col=te),setTimeout(()=>{re.classList.add("on-lower-plane"),me.classList.remove("on-lower-plane");const Se=re.querySelector(".piece");Se&&(me.appendChild(Se),setTimeout(()=>{Se.style.opacity=1},350))},1100),ie[I][0]=null,$[T+"Queenside"]=!0}U[T]=!0}function Re(T,k,I,R,C){const z=document.querySelector(`[data-row='${T}'][data-col='${k}']`),te=document.querySelector(`[data-row='${I}'][data-col='${R}']`);let re=!1,me;if(D===O)me=C==="P"?"Q":"q",re=!0;else{let Se=["Queen","Knight","Bishop","Rook"],Pe="";for(;!Se.includes(Pe);)Pe=prompt("Promote pawn to (Queen, Knight, Bishop, Rook):","Queen"),Pe&&(Pe=Pe.trim());switch(Pe){case"Queen":me=C==="P"?"Q":"q";break;case"Knight":me=C==="P"?"N":"n";break;case"Bishop":me=C==="P"?"B":"b";break;case"Rook":me=C==="P"?"R":"r";break}}ie[I][R]=me;const Ne=te.querySelector(".piece"),oe=z.querySelector(".piece");oe&&z.removeChild(oe),Ne&&te.removeChild(Ne),z.style.transition="transform 1s ease",te.querySelector(".hover-border").style.display="none",te.style.transition="transform 1s ease",te.style.transform="scaleZ(1)",setTimeout(()=>{z.classList.add("on-lower-plane"),te.classList.remove("on-lower-plane");const Se=document.createElement("div");if(re){Se.classList.add("piece"),Se.dataset.type=me,me===me.toLowerCase()&&Se.classList.add("black");const Pe=$t.find(ke=>ke.piece===me);if(Pe){const ke=document.createElement("img");ke.src=Pe.image,ke.alt=me,ke.style.width="105px",ke.style.height="105px",Se.appendChild(ke)}else Se.textContent=me.toUpperCase();te.appendChild(Se)}else{Se.classList.add("piece"),Se.dataset.type=me,me===me.toLowerCase()&&Se.classList.add("black");const Pe=$t.find(ke=>ke.piece===me);if(Pe){const ke=document.createElement("img");ke.src=Pe.image,ke.alt=me,ke.style.width="105px",ke.style.height="105px",Se.appendChild(ke)}else Se.textContent=me.toUpperCase();te.appendChild(Se)}},1100)}function Ue(T,k,I,R){const C=ie[T][k],z=document.querySelector(`[data-row='${T}'][data-col='${k}']`);z.style.transform;const te=document.querySelector(`[data-row='${I}'][data-col='${R}']`),re=C.toLowerCase()==="k"&&Math.abs(k-R)===2;let me=null;if(re){const Pe=C==="K"?"white":"black",ke=R===6?"kingside":"queenside",gt=ke==="kingside"?7:0,nn=ke==="kingside"?5:3,hn=ie[T][gt];me={rookFromRow:T,rookFromCol:gt,rookToRow:T,rookToCol:nn,rookPiece:hn},ce(Pe,ke),U[Pe]=!0}if(z.classList.remove("no-bounce"),setTimeout(()=>{te.style.setProperty("--start-z","0px"),te.classList.add("no-bounce")},100),C.toLowerCase()==="p"&&!ie[I][R]&&j&&T+(C==="P"?-1:1)===I&&Math.abs(k-R)===1&&j.row===T&&j.col===R){ie[T][R]=null;const ke=document.querySelector(`[data-row='${T}'][data-col='${R}']`),gt=ke.querySelector(".piece");gt&&(ke.classList.add("on-lower-plane"),ke.style.transition="transform 1s ease",ke.removeChild(gt))}const Ne=ie[I][R];if(C.toLowerCase()==="k"){const Pe=C==="K"?"white":"black";U[Pe]=!0}if(C.toLowerCase()==="r"&&((C==="R"?"white":"black")==="white"?T===7&&k===0?$.whiteQueenside=!0:T===7&&k===7&&($.whiteKingside=!0):T===0&&k===0?$.blackQueenside=!0:T===0&&k===7&&($.blackKingside=!0)),Ne&&Ne.toLowerCase()==="r"&&((Ne==="R"?"white":"black")==="white"?I===7&&R===0?$.whiteQueenside=!0:I===7&&R===7&&($.whiteKingside=!0):I===0&&R===0?$.blackQueenside=!0:I===0&&R===7&&($.blackKingside=!0)),ks.push({boardState:JSON.parse(JSON.stringify(ie)),fromRow:T,fromCol:k,toRow:I,toCol:R,capturedPiece:ie[I][R]?{piece:ie[I][R],row:I,col:R}:null,currentPlayer:D,isCastling:F,castlingInfo:me}),Ne&&n(Ne,W),ie[I][R]=C,ie[T][k]=null,C.toLowerCase()==="p"&&(I===0||I===7)){Re(T,k,I,R,C);return}C.toLowerCase()==="p"&&Math.abs(T-I)===2?j={row:I,col:R,piece:C}:j=null;const oe=z.querySelector(".piece"),Se=te.querySelector(".piece");oe.style.opacity=0,setTimeout(()=>{te.querySelector(".hover-border").style.display="none",z.style.transition="transform 1s ease",E(!0,!1,!1),te.style.transition="transform 1s ease",te.style.transform="scaleZ(1)"},600),ge[`${T}-${k}`]={transition:"transform 1s ease"},ge[`${I}-${R}`]={transform:"scaleZ(1)",transition:"transform 1s ease"},setTimeout(()=>{const Pe=te.querySelector(".front");Pe.style.boxShadow="0px 0px 48px 20px rgba(0,0,0,0)",z.querySelector(".hover-border").style.display="flex",z.querySelector(".hover-border").style.transform="translateZ(180px)",z.classList.add("on-lower-plane"),setTimeout(()=>{te.classList.remove("on-lower-plane")},400);const ke=oe.dataset.animation,gt=oe.dataset.custom==="true",nn=oe.dataset.sound;oe&&Se?(gt?setTimeout(()=>{Ie(nn),te.removeChild(Se)},1500):te.removeChild(Se),gt?(E(!1,!0,gt),e(ke,te,"50px","50px")):(E(!1,!0,gt),e(ke,te,"100px","100px")),oe.style.opacity=0,z.removeChild(oe),te.appendChild(oe),setTimeout(()=>{oe.style.opacity=1},1500)):(z.removeChild(oe),oe.style.opacity=0,te.appendChild(oe),setTimeout(()=>{oe.style.opacity=1},350)),ft()},1100)}function _(T){L(),T.querySelector(".front").style.border="2px solid white",T.querySelector(".front").style.filter="drop-shadow(0px 0px 5px rgb(164, 79, 255))";const k=parseInt(T.dataset.row),I=parseInt(T.dataset.col);w(k,I).forEach(C=>{const z=document.querySelector(`.tile[data-row='${C.row}'][data-col='${C.col}']`);z.querySelector(".hover-border").style.border="2px solid rgb(255, 255, 255)",z.querySelector(".hover-border").style.filter="drop-shadow(0px 0px 5px rgb(164, 79, 255))"})}function w(T,k){let I=[];for(let R=0;R<8;R++)for(let C=0;C<8;C++)Tt(T,k,R,C)&&I.push({row:R,col:C});return I}function L(){document.querySelectorAll(".tile").forEach(k=>{const I=k.querySelector(".front"),R=k.querySelector(".hover-border");I.style.filter.includes("brightness")?(I.style.filter=I.style.filter.replace(/drop-shadow\(.*?\)/,"").trim(),R.style.filter=R.style.filter.replace(/drop-shadow\(.*?\)/,"").trim()):(I.style.filter="",R.style.filter=""),R.style.border="",I.style.border=""})}let M=p.timerTime*60;const G=document.querySelector(".timer-numbers");let X;function J(){const T=Math.floor(M/60);let k=M%60;if(k=k<10?"0"+k:k,G.innerHTML=`${T}:${k}`,M--,M<0){clearInterval(X);const I=document.getElementById("end-screen");I.style.display="flex",I.querySelector("#lose-img").style.display="flex"}}function Q(){if(D=D==="white"?"black":"white",W=D!==O,he(),l(W),De(D)){const T=document.getElementById("end-screen");T.style.display="flex",D==="white"||v==="black"?T.querySelector("#lose-img").style.display="flex":T.querySelector("#win-img").style.display="flex"}if(rt(D)){const T=document.getElementById("end-screen");T.style.display="flex",T.querySelector("#draw-img").style.display="flex"}if(Kn()){const T=document.getElementById("end-screen");T.style.display="flex",T.querySelector("#draw-img").style.display="flex"}if(ot()){const T=document.getElementById("end-screen");T.style.display="flex",T.querySelector("#draw-img").style.display="flex"}if(D===O&&t){const T=tn();Mi(T,function(k){const{fromRow:I,fromCol:R,toRow:C,toCol:z}=Fi(k);ie[I]&&ie[I][R]?(setTimeout(()=>{Ue(I,R,C,z)},3e3),setTimeout(()=>{Q(),X=setInterval(J,1e3)},5e3)):console.error(":     .")})}else W=!0}let H=null;function he(){const T=D==="white"?"white":"black";let k=null;for(let R=0;R<8;R++){for(let C=0;C<8;C++)if(ie[R][C]===(T==="white"?"K":"k")){k={row:R,col:C};break}if(k)break}H&&(H.style.border="");const I=document.querySelector(`.tile[data-row="${k.row}"][data-col="${k.col}"] .front`);k&&le(T)&&I&&(I.style.border="2px solid red"),H=I}function ee(T){return D==="white"&&T===T.toUpperCase()||D==="black"&&T===T.toLowerCase()}function le(T){let k=null;for(let I=0;I<8;I++){for(let R=0;R<8;R++)if(ie[I][R]===(T==="white"?"K":"k")){k={row:I,col:R};break}if(k)break}if(!k)return console.error("King not found on the board."),!1;for(let I=0;I<8;I++)for(let R=0;R<8;R++){const C=ie[I][R];if(C&&ae(C,T)&&de(C,I,R,k.row,k.col))return!0}return!1}function ae(T,k){return k==="white"&&T===T.toLowerCase()||k==="black"&&T===T.toUpperCase()}function de(T,k,I,R,C){const z=T.toLowerCase(),te=ie[R][C];ie[R][C]=T,ie[k][I]=null;let re=!1;switch(z){case"p":re=Oe(T,k,I,R,C);break;case"r":re=qe(k,I,R,C)&&Xe(k,I,R,C);break;case"n":re=Ke(k,I,R,C);break;case"b":re=Bt(k,I,R,C)&&Xe(k,I,R,C);break;case"q":re=(qe(k,I,R,C)||Bt(k,I,R,C))&&Xe(k,I,R,C);break;case"k":re=Math.abs(k-R)<=1&&Math.abs(I-C)<=1;break}return ie[k][I]=T,ie[R][C]=te,re}function Oe(T,k,I,R,C){const z=T==="P"?-1:1;return Math.abs(I-C)===1&&k+z===R}function De(T){if(!le(T))return!1;for(let k=0;k<8;k++)for(let I=0;I<8;I++){const R=ie[k][I];if(R&&ee(R)){for(let C=0;C<8;C++)for(let z=0;z<8;z++)if(Tt(k,I,C,z))return!1}}return!0}function ht(){U={white:!1,black:!1},$={whiteKingside:!1,whiteQueenside:!1,blackKingside:!1,blackQueenside:!1}}function rt(T){if(le(T))return!1;for(let k=0;k<8;k++)for(let I=0;I<8;I++){const R=ie[k][I];if(R&&ee(R)){for(let C=0;C<8;C++)for(let z=0;z<8;z++)if(Tt(k,I,C,z))return!1}}return!0}function ot(){let T=[],k=[];for(let C=0;C<8;C++)for(let z=0;z<8;z++){const te=ie[C][z];te&&(te===te.toUpperCase()?T.push(te):k.push(te))}const I=at(T),R=at(k);return I&&R}function at(T){const k=T.map(I=>I.toUpperCase());return!!(k.length===1&&k.includes("K")||k.length===2&&k.includes("K")&&(k.includes("B")||k.includes("N"))||k.length===3&&k.includes("K")&&k.filter(I=>I==="N").length===2)}let bt={};function Kn(){const T=tn();return bt[T]?bt[T]++:bt[T]=1,bt[T]>=4}function ft(){const T=tn();bt[T]?bt[T]++:bt[T]=1}let pt=null;function tn(){let T="";for(let I=0;I<8;I++){let R=0;for(let C=0;C<8;C++){const z=ie[I][C];z?(R>0&&(T+=R,R=0),T+=z):R++}R>0&&(T+=R),I<7&&(T+="/")}T+=` ${D==="white"?"w":"b"} `;let k="";return U.white||($.whiteKingside||(k+="K"),$.whiteQueenside||(k+="Q")),U.black||($.blackKingside||(k+="k"),$.blackQueenside||(k+="q")),T+=k||"-",T+=" - 0 1",T}function Mi(T,k){pt.postMessage("uci"),pt.postMessage(`position fen ${T}`),pt.postMessage("go depth "+p.botLevel),pt.onmessage=function(I){const R=I.data;if(R.startsWith("bestmove")){const C=R.split(" ")[1];k(C)}}}function Fi(T){const k={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},I=k[T[0]],R=8-parseInt(T[1]),C=k[T[2]],z=8-parseInt(T[3]);return{fromRow:R,fromCol:I,toRow:z,toCol:C}}let $t=[{piece:"P",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/pawn.svg"},{piece:"p",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/pawn2.svg"},{piece:"R",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rook.svg"},{piece:"R1",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rook.svg"},{piece:"r",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rook2.svg"},{piece:"r1",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rook2.svg"},{piece:"N",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/knight.svg"},{piece:"N1",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/knight.svg"},{piece:"n",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/knight2.svg"},{piece:"n1",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/knight2.svg"},{piece:"B",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/bishop.svg"},{piece:"B1",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/bishop.svg"},{piece:"b",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/bishop2.svg"},{piece:"b1",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/bishop2.svg"},{piece:"Q",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/queen.svg"},{piece:"q",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/queen2.svg"},{piece:"K",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/king.svg"},{piece:"k",image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/king2.svg"}],vr=[{piece:"P",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"p",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"R",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"R1",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"r",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"r1",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"N",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"N1",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"n",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"n1",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"B",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"B1",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"b",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"b1",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"Q",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"q",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"K",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""},{piece:"k",custom:!1,image:"https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/fighting-cloud (online-video-cutter.com).mp4",sound:""}];window.createChessboard=Je;let ks=[],Sn=!0,Ui="";ht(),window.addEventListener("load",()=>{Je(),setTimeout(()=>{he()},200)}),X=setInterval(J,1e3),D==="black"&&!Ui&&Q(),window.addEventListener("load",()=>{const T=document.getElementById("chessboard");let k=!1,I=!1,R=0,C=0,z=1,te,re,me=300;function Ne(){const oe=window.innerWidth,Se=window.innerHeight,Pe=document.getElementById("chessboard"),ke=(oe-Pe.offsetWidth)/2,gt=(Se-Pe.offsetHeight)/2;Pe.style.position="absolute",Pe.style.left=`${ke}px`,Pe.style.top=`${gt}px`}setTimeout(()=>{Ne()},2e3),Ne(),T.addEventListener("mousedown",oe=>{if(oe.shiftKey){I=!0,R=oe.clientX,C=oe.clientY;const Se=T.getBoundingClientRect(),Pe=window.getComputedStyle(T);te=parseFloat(Pe.left)||Se.left-10,re=parseFloat(Pe.top)||Se.top-20,oe.preventDefault()}else k=!0,R=oe.clientX,C=oe.clientY,T.style.transition="none"}),document.addEventListener("mousemove",oe=>{if(k&&(oe.clientX-R,oe.clientY-C),I){const Se=window.innerWidth,Pe=window.innerHeight,ke=oe.clientX-R,gt=oe.clientY-C;let nn=te+ke,hn=re+gt;nn=Math.max(-me,Math.min(nn,Se-T.offsetWidth+me)),hn=Math.max(-me,Math.min(hn,Pe-T.offsetHeight+me)),T.style.position="absolute",T.style.left=`${nn}px`,T.style.top=`${hn}px`,oe.preventDefault()}}),document.addEventListener("mouseup",oe=>{k&&(document.querySelectorAll(".piece").forEach(Se=>{Se.style["pointer-events"]="auto",Se.style["user-select"]="text"}),k=!1,oe.clientX-R,oe.clientY-C,T.style.transition="transform 0.2s ease-out"),I&&(I=!1)}),document.addEventListener("wheel",function(oe){k||(oe.deltaY<0?z<=2.4&&(z+=.055,me+=12,document.getElementById("chessboard").style.transform=`rotateX(0deg) scale(${z}) rotateZ(0deg)`):oe.deltaY>0&&z>=.6&&(z-=.05,me>300&&(me-=12),z<1&&Ne(),document.getElementById("chessboard").style.transform=`rotateX(0deg) scale(${z}) rotateZ(0deg)`))})})},methods:{returnHome(){setTimeout(()=>{this.$router.push("/home")},1e3)}}},g6={class:"w-full h-full flex justify-center items-center"},m6={class:"container min-w-full"},_6={class:"fixed flex justify-center items-center w-64 h-64 bottom-0 right-0",style:{"z-index":"5000000"}};function v6(t,e,n,r,s,i){return Xt(),mn("div",g6,[e[3]||(e[3]=Kt('<div id="loading-screen" style="z-index:900000;" class="flex justify-center items-center"><svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" class="w-24 h-24"><title>new</title><g id="Layer 1"><path id=" 7" fill-rule="evenodd" class="s0" d="m514.4 559c0 0-8.9 23.6 7.7 46.7 6.1 8.4 21.2 21.7 33.3 26.7 0 0 36.6 13.9 54.6 17.8 0 0 9.3 3.1 20.5-9.1 11-12.2 25.6-42.2 27.9-52.6 0 0-20.4 11.8-40.5 13.6 0 0-38.3 0.8-53-6.9 0 0-45.4-20.4-50.5-36.2z"></path><path id=" 7" fill-rule="evenodd" class="s0" d="m505.3 559c0 0 8.9 23.6-7.7 46.7-6.1 8.4-21.2 21.7-33.3 26.7 0 0-36.6 13.9-54.6 17.8 0 0-9.3 3.1-20.5-9.1-11-12.2-25.6-42.2-27.9-52.6 0 0 20.4 11.8 40.5 13.6 0 0 38.3 0.8 53-6.9 0 0 45.4-20.4 50.5-36.2z"></path><path id=" 6" fill-rule="evenodd" class="s0" d="m675.5 566.6c0 0 21.4-9.3 30.5-24.8 0 0-9.2 4.9-14.3 4.8-0.3 0-12.9-1.6-12.9-1.6 0.2 1.6-1.5 9.9-3.3 21.6z"></path><path id=" 6" fill-rule="evenodd" class="s0" d="m343.7 563.7c0 0-21.4-9.3-30.5-24.8 0 0 9.1 4.9 14.3 4.9 0.3 0 12.9-1.6 12.9-1.6-0.2 1.5 1.5 9.8 3.3 21.5z"></path><path id=" 4" fill-rule="evenodd" class="s0" d="m512 430.2c-8.2 0-14.8-6.6-14.8-14.7 0-8.2 6.6-14.8 14.8-14.8 8.2 0 14.8 6.6 14.8 14.8 0 8.1-6.6 14.7-14.8 14.7z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m504.8 393c0 0-20.1-26.6-38.1-47.6 0 0-19.2-16.5-28.1-53.1 0 0-9.4-37.1 22.3-69 30.2-30.3 49.7-37.2 49.7-37.2 0 0 3.2-3.4 38 25 0 0 28.2 16.7 43 68.5 0 0-19.2 2.4-42 41.9l-18.1 45.8c0 0-7.1 18.1-12.4 22.9l1-66.8c0 0 2.2-18.7-7.6-17.1 0 0-9.1-3.1-8.6 9.5 0 0 2.7 75.6 0.9 77.2z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m485.2 415c0 0-28.2-2.4-54.9 4.9 0 0-23.1 10.4-59.9 2.8 0 0-37.6-7.3-53-49.5-14.6-40.2-10.8-69.1-10.8-69.1 0 0-4.4 1.2 36-18.3 0 0 28.1-15.6 81.3-6.9 0 0-6 18.4 20.1 55.8l31.4 40c0 0 13.8 16.6 15.9 23.4l-49.8-26.4c0 0-28.5-18.8-31.3-9.2 0 0-3.6 5.6 9.2 11.2 0 0 65.1 39 65.8 41.3z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m535.4 430.3c0 0 13.5-7.9 40.9-4.1 0 0 45.5 4.6 71.4 36.5 0 0 10.2 7.6 15.5 38.8 0.4 2.5 1.6 21.6-1 38.7-2.5 16.8-10.9 33.2-10.9 33.2 0 0-4 10.3-48.8 12.3 0 0-35.2-2.2-58.7-20.3-17.2-13.2-25.8-32.4-27.8-58 0 0 0.6-62.4 3.7-66.4l13.8 9.1 19.7 19c0 0 25.7 30.5 31.8 21.4 0 0 3-4-19.5-30.8-6.8-8-30.2-28.4-30.1-29.4z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m489 430.3c0 0-13.5-7.9-40.9-4.1 0 0-45.6 4.6-71.4 36.5 0 0-10.2 7.6-15.6 38.8-0.4 2.5-1.5 21.6 1.1 38.7 2.5 16.8 10.9 33.2 10.9 33.2 0 0 4 10.3 48.8 12.3 0 0 35.1-2.2 58.6-20.3 17.3-13.2 25.9-32.4 27.9-58 0 0-0.7-62.4-3.8-66.4l-13.7 9.1-19.7 19c0 0-25.7 30.5-31.9 21.4 0 0-3-4 19.6-30.8 6.7-8 30.2-28.4 30.1-29.4z"></path><path id=" 1" fill-rule="evenodd" class="s0" d="m529.6 397.9c0 0 14.1-30.3 24.3-56.1 0 0 5.5-24.6 33.7-49.6 0 0 31.6-24.2 75.4-14.2 39.2 8.9 52.1 27.9 52.1 27.9 0 0 4.7 23.9-9.4 66 0 0 1.6 9.6-37 43.2 0 0-16.3 9.9-49.6 9.2 0 0-18.1-6.9-39-9.6-15.3-2-33.4 0.3-40.4-1.6-0.8-0.2 3.2-5.2 14.8-12 17.2-10 43.8-22.4 43.8-22.4 0 0 17.6-6.8 11.6-14.8 0 0-1.6-9.5-12.5-3.1 0 0-65.4 37.9-67.8 37.1z"></path><path id=" 2" fill-rule="evenodd" class="s0" d="m364.7 261.5c0 0 2.3-40.5 30.5-58.2 0 0 8.9-3.7 30.5 0 0 0 14.4 2.2 24.8 9.5 0 0-22.4 20.8-22.9 52.5 0 0-15.4-7.8-32.4-7.7 0 0-25.1 0.5-30.5 3.9z"></path><path id=" 3" fill-rule="evenodd" class="s0" d="m576.3 215.7c0 0 9.8-8 35.3-9.5 0 0 21.4-1 25.8 4.7 0 0 19.1 23.5 26.7 54.4 0 0-20.4-5.3-31.5-3.8 0 0-20.6 2.1-29.6 7.6 0 0-2.9-27.3-26.7-53.4z"></path><path id=" 5" fill-rule="evenodd" class="s0" d="m255 453.1l21-48.6c0 0 10.4-21.4 27.6-32.4 0 0 6.2 27.4 45.8 55.3 0 0 18.9 10.7 28.6 11.4 0 0-39.3 40.4-35.3 91.6 0 0-32.7-3.4-54.3-28.6 0 0-26.8-26.9-33.4-48.7z"></path><path id=" 5" fill-rule="evenodd" class="s0" d="m768 452.2l-21-48.7c0 0-10.4-21.3-27.6-32.4 0 0-6.2 27.4-45.8 55.3 0 0-18.9 10.7-28.6 11.5 0 0 39.3 40.3 35.3 91.5 0 0 32.7-3.4 54.3-28.6 0 0 26.8-26.9 33.4-48.6z"></path><path id=" 8" fill-rule="evenodd" class="s0" d="m494 729c0 0-21.1-9.8-24-29 0 0-2.6-12.8 3-30 0 0 8.4-17.6 11-21l7 5c0 0-6.8 11.1-10 22 0 0-3.3 7.9-1 25 0 0 4.7 13.6 15 17 0 0-6.2-7.1 0-17 0 0 5.4-9.6 17-10v22 56c0 0-9.9 0.2-14-12l-1-7c0 0-13.7 10.9-15 25 0 0-0.7 13.5 5 28 0 0 4.9 6.6 2 10 0 0-13.4 1.1-17-29 0 0-0.3-16.9 8-28 0 0 9.7-8 13-10 0 0 4.6-2.3 3-5 0 0-10.5 0.5-17 5.6 0 0-20.5 15.7-25 33.1 0 0-4 4.9-7-0.7 0 0-0.2-13.6 11.1-25.5 11.7-12.1 17.6-13.4 23.9-17.5 0 0-17.5-0.2-27.6-11.5-0.1-0.2-0.3-0.3-0.4-0.5-4.3-9-6.1-22.4-6.1-22.4 0 0-0.6-21.3 3.1-15.6 0 0 1.5 10.9 4 18 0 0 5.2 14.7 12.1 18.7 0 0 8.7 8.2 14.9 8.3 0 0 7.7 0.9 10 0 0 0 1.9-0.1 2-2z"></path><path id=" 8" fill-rule="evenodd" class="s0" d="m530 729c0 0 21.1-9.8 24-29 0 0 2.6-12.8-3-30 0 0-8.4-17.6-11-21l-7 5c0 0 6.8 11.1 10 22 0 0 3.3 7.9 1 25 0 0-4.7 13.6-15 17 0 0 6.2-7.1 0-17 0 0-5.4-9.6-17-10v22 56c0 0 9.9 0.2 14-12l1-7c0 0 13.7 10.9 15 25 0 0 0.7 13.5-5 28 0 0-4.9 6.6-2 10 0 0 13.4 1.1 17-29 0 0 0.3-16.9-8-28 0 0-9.7-8-13-10 0 0-4.6-2.3-3-5 0 0 10.5 0.6 17 5.6 0 0 20.5 15.7 25 33.1 0 0 4 4.9 7-0.7 0 0 0.2-13.6-11.2-25.5-11.6-12.1-17.5-13.4-23.8-17.5 0 0 17.5-0.2 27.6-11.5 0.1-0.2 0.3-0.3 0.4-0.5 4.3-9 6.1-22.4 6.1-22.4 0 0 0.6-21.3-3.1-15.6 0 0-1.5 10.9-4 18 0 0-5.2 14.7-12.1 18.7 0 0-8.7 8.2-14.9 8.3 0 0-7.7 0.9-10 0 0 0-1.9-0.1-2-2z"></path></g></svg></div><div id="currentPlayer"><img class="shield" alt="enemy-turn" src="'+a6+'" style="display:none;"><img class="sword" alt="player-turn" src="'+c6+'"></div><div id="end-screen"><div class="black-banner"><div id="end-images"><img id="win-img" src="'+l6+'" style="display:none;"><img id="lose-img" src="'+u6+'" style="display:none;"><img id="draw-img" src="'+h6+'" style="display:none;"></div><div id="end-button"><button id="repeat-battle"><span>Try again</span><img src="'+d6+'"></button><button id="quit-battle"><span>Continue</span><img src="'+f6+'"></button></div></div></div><div id="crd-cont" class="cards-container"></div><div id="desc-cont" class="desc-container"></div><div class="player-container"><div class="player-capture"></div></div><div class="enemy-container"><div class="enemy-capture"></div></div>',7)),be("div",m6,[e[2]||(e[2]=Kt('<div class="ui-container"><div class="ui"></div><div class="timer"><span class="timer-numbers">04:59</span></div></div><div class="chessboard" id="chessboard"></div>',2)),be("div",_6,[be("button",{class:"w-12 h-12 absolute bottom-0 right-0 mr-2 mb-2",onClick:e[0]||(e[0]=(...o)=>i.returnHome&&i.returnHome(...o))},e[1]||(e[1]=[Kt('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.0001 3H3.00006V21H21.0001V3ZM8.13177 16.8033L16.1318 16.8033L16.1318 8.80331H14.1318V13.3891L7.88913 7.14645L6.47491 8.56067L12.7176 14.8033H8.13177V16.8033Z" fill="#ffffff"></path></g></svg>',1)]))])]),e[4]||(e[4]=Kt('<audio id="move-tile-sound" src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/rocks-sliding-101019 (mp3cut.net).mp3"></audio><audio id="battle-sound" src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/swords_battle.mp3"></audio><audio id="click-sound" src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/Click_2.wav"></audio><audio id="changeStatus" src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/Bleep_01.ogg"></audio><audio id="background-music" src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/5 - Stellar Drift  (Loop).mp3" loop></audio><audio id="background-wind" src="https://raw.githubusercontent.com/garder-les-ciseaux-droits/echidna/main/uploads/Cold Wind Sound Effect No Copyright Free.mp3" loop></audio><audio id="skills-voices"></audio>',7))])}const y6=Gn(p6,[["render",v6]]),w6=sE({history:L9(),routes:[{path:"/",component:y6},{path:"/home",component:o6},{path:"/game",component:a0},{path:"/scene",component:uE}]}),au=k2(a0);au.use(n9);au.use(w6);au.mount("#app");
